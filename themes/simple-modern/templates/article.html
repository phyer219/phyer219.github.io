{% extends "base.html" %}
{% block html_lang %}{{ article.lang }}{% endblock %}

{% block title %}{{ SITENAME|striptags }} - {{ article.title|striptags  }}{% endblock %}

{% block head %}
  {{ super() }}

  {% import 'translations.html' as translations with context %}
  {% if translations.entry_hreflang(article) %}
    {{ translations.entry_hreflang(article) }}
  {% endif %}

  {% if article.description %}
    <meta name="description" content="{{ article.description }}" />
  {% elif article.summary %}
    <meta name="description" content="{{ article.summary|striptags|truncate(160) }}" />
  {% else %}
    <meta name="description" content="{{ article.content|striptags|truncate(160) }}" />
  {% endif %}

  {% for tag in article.tags %}
    <meta name="tags" content="{{tag}}" />
  {% endfor %}

{% endblock %}

{% block content %}
<h1 class="post-title">{{ article.title|striptags  }}</h1>

<section class="post-meta">
    <p>{{ article.date.strftime('%Y-%m-%d') }}</p>
    <p>-<a class="post-link" href="{{ SITEURL }}/{{ article.category.url }}">{{ article.category }}</a></p>
</section>

<section class="markdown-body">
  {{ article.content }}
</section>

<section class="post-meta">
    <p>
      {% for tag in article.tags %}
        <a class="post-link" href="{{ SITEURL }}/{{ tag.url }}">#{{tag}}</a>
        {% endfor %}
    </p>
</section>

{% endblock %}
