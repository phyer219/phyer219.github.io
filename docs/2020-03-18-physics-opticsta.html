<!DOCTYPE html>
<html lang="zh_cn">

<head>
    <title>从冰上的水 - 常用光学知识点</title>
  <meta charset="utf-8" />
  <meta name="generator" content="Pelican" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="/theme/css/style.css" />
  <!-- fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Long+Cang&family=Noto+Serif+SC&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.6.1/github-markdown.min.css" integrity="sha512-wpdV3v8V8vWajD1kH8rI1UO1H2q9TQ3s8o1mG7lH8fS1dZ+3q1B1p4lH2tF8rQm2u0n8oV6rN3tV4nQWmY4nTw==" crossorigin="anonymous" referrerpolicy="no-referrer">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
  <!--fonts end  -->
  <!-- highlight.js -->
  <link id="hljs-light" rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css" disabled>
  <link id="hljs-dark" rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" disabled>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
  <script>
    hljs.highlightAll();
    (function () {
      const light = document.getElementById('hljs-light');
      const dark = document.getElementById('hljs-dark');
      if (!light || !dark) return;

      function resolveTheme() {
        return document.documentElement.getAttribute('data-theme') || 'light';
      }

      function applyTheme(theme) {
        const isDark = theme === 'dark';
        light.disabled = isDark;
        dark.disabled = !isDark;
      }

      const observer = new MutationObserver(function () {
        applyTheme(resolveTheme());
      });
      observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
      applyTheme(resolveTheme());
    })();
  </script>
  <!-- highlight.js end -->

<script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.1">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.1">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.1">




    <meta name="tags" content="物理" />
    <meta name="tags" content="光学" />

</head>

<body>
  <header>
    <div id="header-container">
      <nav>
        <ul>
            <li>
              <a href="/">Home</a>
            </li>
            <li>
              <a href="/category/physics">Physics</a>
            </li>
            <li>
              <a href="/category/blog">Blog</a>
            </li>
            <li>
              <a href="/category/coding">Coding</a>
            </li>
            <li>
              <a href="/archives">All</a>
            </li>
          </ul>
      </nav>
      <button id="theme-toggle" aria-label="切换到深色模式" title="切换主题">
        <i class="theme-icon icon-sun fa-solid fa-sun" aria-hidden="true"></i>
        <i class="theme-icon icon-moon fa-solid fa-moon" aria-hidden="true"></i>
      </button>
      <div class="rss">
      </div>
    </div>
  </header>
  <main>

<h1 class="post-title">常用光学知识点</h1>

<section class="post-meta">
    <p>2020-03-18</p>
    <p>-<a class="post-link" href="/category/zhuan-ye-bi-ji.html">专业笔记</a></p>
</section>

<section class="markdown-body">
  <!-- toc -->

<!-- more -->
<p>批作业会用到</p>
<h1>第二章 几何光学 (Geometrical Optics)</h1>
<h2>几何光学精确的, 基本的规律</h2>
<h3>反射定律与折射定律与全反射</h3>
<h3>从波来理解几何光学: 惠更斯作图法</h3>
<h3>费马原理 (Fermat’s Principle) 与物像等光程与虚光程</h3>
<blockquote>
<p>Light traverses the route having the smallest optical path length</p>
</blockquote>
<p>教材 38 页. 为了把物像之间的等光程性原理推广到虚物或虚像的情形, 需要引入 "虚光程" 的概念.</p>
<p>光程正负号的规定: 与虚物或虚像相联系的与实际光线的延长线对应的光程称为虚光程，规定其符号取负值. (实际光线没有走到虚物或虚像的位置, 所以要减去)</p>
<p>折射率的规定: 虚光程部分的折射率由与之对应的实际光线的折射率决定. (光按照实际光线那边的折射率才能走到虚像或虚物的位置, 所以折射率按实际光线那边算)</p>
<h2>傍轴近似下的成像</h2>
<h3>球面折射</h3>
<p>可以通过折射定律或费马原理在傍轴近似下得到下式:</p>
\[
\frac{n'}{s'} + \frac{n}{s} = \frac{n'-n}{r}
\]

<p>按入射光线从左到右, 式中符号规定如下:</p>
<ul>
<li>物在顶点左侧, \(s&gt;0\) , 实物</li>
<li>像在顶点右侧, \(s'&gt;0\) , 实像</li>
<li>球心在顶点右侧, \(r&gt;0\)</li>
</ul>
<h3>球面反射</h3>
<p>可理解为一种特殊的 "折射" , \(n'=-n\) , 就可以由球面折射得到球面反射.</p>
<h3>球面焦距</h3>
<p>由球面折射可以得到焦距的表达式</p>
\[
\begin{align}
s'\to&amp;\infty \\
s\to&amp; f = n\cdot\frac{r}{n'-n}
\end{align}
\]

\[
\begin{align}
s\to&amp;\infty \\
s'\to&amp; f' = n' \cdot \frac{r}{n'-n}
\end{align}
\]

<p>那么用焦距来表达球面折射</p>
\[
\frac{f'}{s'} + \frac{f}{s} = 1
\]
<p>这也叫高斯物像公式.</p>
<h3>横向放大率</h3>
<p>根据教材图 2-9 , 对于折射, 一定有 \(y'&lt;0\) , 在傍轴近似下, 根据折射定律</p>
\[
V = \frac{y'}{y} = \frac{(-i') s'}{i s} = -\frac{ns'}{n's} = -\frac{fs'}{f's}
\]

<h2>薄透镜成像</h2>
<p>薄透镜的假设是两个球面的顶点几乎重合, 那么就可以认为 \(s_1'=-s_2\) , 那么用两次球面折射公式可以得到</p>
\[
\frac{n'}{s'} + \frac{n}{s} = \frac{n_L-n}{r_1} + \frac{n' - n_L}{r_2}
\]

<p>由上式将 \(s\) 或者 \(s'\) 取为 \(\infty\) 可以得到焦距公式</p>
\[
\begin{align}
s'\to&amp;\infty \\
s\to&amp; f = \frac{n}{\frac{n_L-n}{r_1} + \frac{n' - n_L}{r_2}}
\end{align}
\]

\[
\begin{align}
s\to&amp;\infty \\
s'\to&amp; f' = \frac{n'}{\frac{n_L-n}{r_1} + \frac{n' - n_L}{r_2}}
\end{align}
\]

<p>取 \(n'=n=1\) 可得磨镜者公式</p>
\[
f = f' = \frac{1}{(n_L - 1)(\frac{1}{r_1} - \frac{1}{r_2})}
\]

<p>薄透镜的成像仍然满足高斯公式. 若透镜两边折射率相等, 那么 \(f=f'\) , 便得到最常见的薄透镜成像公式</p>
\[
\frac{1}{s'}+\frac{1}{s} = \frac{1}{f}
\]
<p>这个公式的条件是: 傍轴, 薄透镜, 透镜两边折射率相等. 此时过光心的光线方向不变, 横向放大率也变为</p>
\[
V = - \frac{s'}{s}
\]

<h2>理想光具组成像</h2>
<h3>理想光具组公式</h3>
<p>理想光具组可以用高斯公式.</p>
<p>按入射光线从左到右. \(s\) 为物到物方面的距离, 在左为正. \(s'\) 为像到像方主面的距离, 在右为正. (教材57页) \(f, f'\) 与 \(s, s'\) 有相同的符号规则. </p>
<p>两个光具组合在一起</p>
\[
\begin{align}
f =&amp; -\frac{f_1 f_2}{\Delta} \\
f' =&amp; -\frac{f_1' f_2'}{\Delta} \\
X_H = &amp; H_1H =  f_1 \frac{d}{\Delta}\\
X_H' =&amp;H_2'H =  f_2' \frac{d}{\Delta}
\end{align}
\]

<p>其中按照入射光线从左往右, \(\Delta\) 是第一个光具组的像方焦点与第二个光具组的物方焦点的距离, \(d\) 是对应的主面的距离.</p>
<h3>理想光具作图</h3>
<p>节点(冗余的条件): 角放大率为 \(1\)</p>
<h2>光学仪器: 眼镜</h2>
<p>近视镜应该让佩戴者看清无穷远的物, 也就是使无穷远处的物成像于佩戴者的远点处.</p>
<p>远视镜应该让佩戴者看清明视距离 ( \(25\mathrm{cm}\) ) 处的物, 也就是使明视距离处的物成像于佩戴者近点处.</p>
<p>眼镜的度为</p>
\[
P = 100\mathrm{m}/f
\]
<p>近视眼佩戴凹透镜, 度数为负. 远视眼佩戴凸透镜, 度数为正.</p>
<h2>几何光学总结</h2>
\[
\begin{align}
\left\{\begin{array}{c}惠更斯原理\\费马原理\end{array}\right\}
\overset{精确}{\Rightarrow}
\left\{\begin{array}{c}折射定律\\反射定律\end{array}\right\}
\overset{傍轴近似}{\Rightarrow}
\left\{\begin{array}{c}球面折射公式\\球面反射公式\end{array}\right\}
\overset{薄透镜近似}{\Rightarrow}
薄透镜高斯物像公式
\end{align}
\]

<h1>第三章 干涉</h1>
<h2>杨氏双缝</h2>
<p>在傍轴近似下有</p>
\[
\frac{\delta}{d} = \frac{x}{D}
\]

<p>双缝间距为 \(d\) , 距离孔 \(D\) 处的屏上,  \(x\) 的距离对应 \(\delta\) 的光程差.</p>
<h2>等厚干涉</h2>
<p>牛顿环, 由于半波损, 中心为暗点.</p>
<h2>等倾干涉</h2>
<p>上下表面反射的相同倾角的两束光在无穷远处形成干涉条纹. 无近似, \(i\) 为介质内的入射反射角(教材3-35)</p>
\[
\Delta L = 2 n h \cos i
\]

<p>F-P 干涉仪条纹的半高全宽 \(\varepsilon\) 与反射率 \(R\) 之间的关系</p>
\[
\varepsilon = \frac{2(1 - R)}{\sqrt{R}}
\]

<h1>第四章 衍射</h1>
<h2>用矢量图解法叠加振幅</h2>
<p>教材图 4-15</p>
<h2>菲涅耳半波带片的焦距公式</h2>
<p>好像以前那种老式的手电筒上就是用的这种衍射的会聚透镜.</p>
\[
f = \frac{\rho_1^2}{\lambda} = \frac{\rho_k^2}{k\lambda}
\]

<h2>夫琅禾费衍射</h2>
<h3>单缝</h3>
\[
\frac{I}{I_0} = \left(\frac{\sin \alpha}
{\alpha}\right)^2 \quad, \mathrm{where} \quad
\alpha = \frac{a \pi}{\lambda}\sin \theta
\]

<h3>多缝</h3>
\[
\frac{I}{I_0} = \left(\frac{\sin \alpha}{\alpha}\right)^2 
\left(\frac{\sin N\beta}{\sin\beta}\right)^2
\quad, \mathrm{where} 
\quad\alpha = \frac{a \pi}{\lambda}\sin \theta,
\quad\beta = \frac{d \pi}{\lambda}\sin \theta
\]

<p>当 \(\beta = k\pi\) 时, 多缝因子为 \(N^2\) 为主极大. 当 \(\beta = (k + m/N)\pi,m/N\notin \mathbb{Z}\) 时, 强度为零.</p>
<p>半角宽度, 是 \(k\) 级主极大到相邻暗纹的距离</p>
\[
\begin{align}
\Delta \theta_k =&amp; (\theta_k+\Delta\theta_k) - \theta_k 
    = \arcsin\left[\left( k + \frac{1}N \right) \frac{\lambda}{d}\right] 
       - \arcsin\left( \frac{k\lambda}{d}\right)
    = \frac{\lambda}{Nd\cos\theta_k} + \mathcal{O}\left( \frac{1}{N^2} \right) \\
    \approx&amp; \frac{\lambda}{Nd\cos\theta_k}

\end{align}{}
\]

<h3>光栅</h3>
<p>"光栅的衍射场鲜明地表现出'多光束干涉'的基本特征". 光栅性能的主要标志为色散本领和色分辨本领.</p>
<p>角色散本领, 是两个很接近的波长产生的两个主极大分开的角度与波长差的比值, 量纲是波长的倒数</p>
\[
\begin{align}
D_{\theta} =&amp; \frac{\delta \theta}{\delta\lambda} 
           =\frac{\mathrm{d}}{\mathrm{d}\lambda}\arcsin\left( \frac{k\lambda}{d} \right) 
           =\frac{k}{d}\frac{1}{\sqrt{1-\left( \frac{k\lambda}{d} \right)^2}}
           =\frac{k}{d}\frac{1}{\sqrt{1-\sin^2 \theta}} \\
           =&amp; \frac{k}{d\cos\theta_k}
\end{align}
\]

<p>线色散本领</p>
\[
D_l = fD_{\theta} = f \frac{k}{d \cos\theta_k}
\]

<p>两个很接近的波长产生的两个主极大分开的角度, 刚好等于此波长处的半角宽度时, 根据瑞利判据, 刚好可以分辨这两条谱线, 光栅的色分辨本领 \(R\) 由此定义</p>
\[
D_{\theta} = \frac{\Delta\theta}{\delta \lambda} 
    \Rightarrow R\equiv \frac{\lambda}{\delta\lambda} = Nk
\]

<p>色分辨本领, 是能够分辨的最小波长差</p>
<h3>圆孔正入射</h3>
\[
I(\theta) = I_0 \left[\frac{2J_1(x)}{x}\right]^2\quad\, ,x=\frac{2\pi a}{\lambda} \sin \theta
\]

<p>口径的最小分辨角, 就是第一暗环角半径</p>
\[
\delta \theta_{\mathrm{min}} \Delta\theta = 1.22 \frac{\lambda}{D}
\]

<h1>第五章 变换光学</h1>
<h2>屏函数</h2>
<p>衍射屏的作用可以集中地用屏函数来表征</p>
\[
\tilde{T}(x, y) = \frac{\tilde{U}_\mathrm{out}(x, y)}     {\tilde{U}_\mathrm{in}(x, y)}
\]
<p>它的模叫振幅变换函数, 它的相位叫做相位变换函数.</p>
<h2>平面波和球面波的复振幅</h2>
<p>球面波</p>
<p>从 \((x_0, y_0, 0)\) 发出的球面波, 在点 \((x, y, z)\) 处的复振幅为</p>
\[
\tilde{U}(x, y ) = \frac{Ae^{\mathrm{i}\phi_0}}{r}e^{\mathrm{i}kr}
\]
<p>其中 \(r = \sqrt{(x - x_0)^2 + (y - y_0)^2 + z^2}\) . 在傍轴近似下, 可以在 \(x = 0, y = 0 ,x_0 = 0, y_0 = 0\) .  做 Taylor 展开, 并且只保留到二阶项</p>
\[
\begin{align}
r =&amp; |z| + \frac{1}{2}\frac{(x-x_0)^2 + (y-y_0)^2}{|z|} 
     + \mathcal{O}\left\{\left[(x-x_0)^2 + (y - y_0)^2\right]^2\right\} \\
  \approx&amp; |z| + \frac{x_0^2 + y_0^2}{2|z|} + \frac{x^2 + y^2}{2|z|}
      - \frac{xx_0 + yy_0}{|z|}
\end{align}
\]
<p>在复振幅中, 分母中可以直接取领头项 \(r\approx |z|\) . 而在指数上, 由于 \(k\) 很大, 在不满足远场近似时, 需要保留二阶项. 所以傍轴近似下, 复振幅表示为</p>
\[
\tilde{U}(x, y ) = \frac{Ae^{\mathrm{i}\phi_0}}{|z|}e^{\mathrm{i}k\left( |z| + \frac{x_0^2 + y_0^2}{2|z|} + \frac{x^2 + y^2}{2|z|}
      - \frac{xx_0 + yy_0}{|z|} \right)}
\]
<p>取其复共轭, 即为会聚波.</p>
<p>平面波</p>
\[
\tilde{U}(\vec{r}) = Ae^{\mathrm{i}\phi_0}e^{\mathrm{i}\vec{k}\cdot \vec{r}}
\]

<h2>傅里叶变换</h2>
<p>夫琅禾费积分</p>
\[
\begin{align}
\tilde{U}(x', y') =&amp; Ae^{\mathrm{i}kz}e^{\mathrm{i}k\frac{x'^2 + y^2}{2}}
   \int\mathrm{d}x\int\mathrm{d}y \cdot \tilde{T}(x, y)
     \cdot e^{-\mathrm{i}k\frac{xx' + yy'}{z}} \\
\tilde{U}(\theta_1, \theta_2) =&amp; Ae^{\mathrm{i}\phi(\theta_1, \theta_2)}
   \int\mathrm{d}x\int\mathrm{d}y \cdot \tilde{T}(x, y)
     \cdot e^{-\mathrm{i}k(x\sin\theta_1 + y\sin\theta_2)} \\
\end{align}
\]
<p>都是傅里叶变换的形式. 衍射屏上的一点 \((x, y)\) 就对应一对频率. 衍射屏的大小是有限的, 所以衍射屏会过虑掉一些频率的作用.</p>
<h2>全息照相</h2>
<p>全息底片记录了照片的相位信息</p>
\[
I_H(x, y) = (\tilde{U}_O + \tilde{U}_R) (\tilde{U}_O + \tilde{U}_R)^*
\]

<p>经过线性冲洗后的透过率函数为 \(\tilde{T}_H\) , 用 \(\tilde{U}_R'\) 照射后, 透射场为</p>
\[
\begin{align}
\tilde{U}_T =&amp; \tilde{T}_H\tilde{U}_R' = [T_O + \beta I_H(x, y)]\tilde{U}_R'\\ 
  =&amp;(T_0 + \beta A_O^2 + \beta A_R^2)\tilde{U}_R'
  + \beta \tilde{U}_R'\tilde{U}_R^* \tilde{U}_O 
  + \beta \tilde{U}_R'\tilde{U}_R \tilde{U}_O^*
\end{align}
\]
<p>三项分别对应 0, 1, -1 级</p>
<h1>第六章 偏振</h1>
<h2>马吕斯定律</h2>
<p>线偏振光通过检偏器后透射光的强度随 \(\theta\) 角变化的规律</p>
\[
I_2 = I_1 \cos^2\theta
\]

<h2>布儒斯特角</h2>
<p>使 p 分量反射率为零的入射角 \(i_B\) 称为布儒斯特角. 从介质 \(n_1\) 到 \(n_2\) 的布儒斯特角为</p>
\[
i_B = \arctan \frac{n_2}{n_1}
\]

<h2>菲涅耳反射折射公式</h2>
\[
\begin{align}
&amp;\left\{
  \begin{array}{c}
  \tilde{r}_p = \frac{\tan(i_1 - i_2)}{\tan(i_1 + i_2)} \\
  \tilde{r}_s = \frac{\sin(i_2 - i_1)}{\sin(i_2 + i_1}
  \end{array}
\right. \\
&amp;\left\{
  \begin{array}{c}
  \tilde{t}_p = \frac{2n_1\cos i_1}{n_2\cos i_1 + n_1 \cos i_2} \\
  \tilde{t}_s = \frac{2n_1\cos i_1}{n_1\cos i_1 + n_2 \cos i_2}
  \end{array}
\right.
\end{align}
\]

<h2>偏振度</h2>
\[
I = \frac{I_{\mathrm{max}} - I_{\mathrm{min}}}{I_{\mathrm{max}} + I_{\mathrm{min}}}
\]

<h2>强度透射反射率</h2>
\[
R = \frac{I_1'}{I_1} = |\tilde{r}|^2
\]

\[
T = \frac{I_2}{I_1} = \frac{n_2}{n_1}|\tilde{t}|^2
\]

<h2>全反射光的相移</h2>
\[
\begin{align}
\left\{
\begin{array}{c}
  \delta_p = 2 \arctan \left( \frac{n_1}{n_2}
     \frac{\sqrt{\left(\frac{n_1}{n_2}\right)^2\sin^2i_1-1}}{\cos i_1}                          \right) \\
\delta_s = 2 \arctan \left( \frac{n_2}{n_1}
\frac{\sqrt{\left(\frac{n_1}{n_2}\right)^2\sin^2i_1-1}}{\cos i_1}                          \right)
\end{array}
\right.
\end{align}
\]

<h2>双折射</h2>
<p>光线垂直于主光轴传播, 可用折射定律</p>
<h1>第七章 光与物质相互作用</h1>
<h2>布格定律</h2>
\[
I = I_0 e^{-\alpha l}
\]

<h2>科西公式</h2>
\[
n = A + \frac{B}{\lambda^2}
\]

<h2>群速度与相速度的关系</h2>
<p>群速度</p>
\[
v_{\mathrm{g}} = \frac{\mathrm{d}\omega}{\mathrm{d}k}
\]

<h1>Reference</h1>
<ul>
<li>赵凯华, 新概念物理教程 光学 , 2004, 高等教育出版社 </li>
<li>Eugene Hecht, Optics, Global Edition, 2017, Pearson Higher Education</li>
</ul>
</section>

<section class="post-meta">
    <p>
        <a class="post-link" href="/tag/wu-li.html">#物理</a>
        <a class="post-link" href="/tag/guang-xue.html">#光学</a>
    </p>
</section>

  </main>
  <footer role="contentinfo">
    <p>Copyright &copy; 2018 - 2025 ZQW</p>
  </footer>
  <script>
  (function() {
    const key = 'theme';
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const saved = localStorage.getItem(key);
    const init = saved ? saved : 'system';
    const effective = init === 'system' ? (prefersDark ? 'dark' : 'light') : init;
    document.documentElement.setAttribute('data-theme', effective);
    updateThemeButton(effective);

    document.getElementById('theme-toggle')?.addEventListener('click', function () {
      const current = document.documentElement.getAttribute('data-theme') || 'light';
      const next = current === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem(key, next);
      updateThemeButton(next);
    });

    function updateThemeButton(theme) {
      const btn = document.getElementById('theme-toggle');
      if (btn) {
        btn.setAttribute('aria-label', theme === 'dark' ? '切换到浅色模式' : '切换到深色模式');
      }
    }
  })();
  </script>
  <script>
  (function() {
    const blocks = document.querySelectorAll('pre > code');
    blocks.forEach((code) => {
      const pre = code.parentElement;
      if (!pre) return;

      if (!pre.dataset.lang) {
        const cls = Array.from(code.classList);
        const langClass = cls.find((name) => name.startsWith('language-') || name.startsWith('lang-'));
        if (langClass) {
          const raw = langClass.replace(/^language-/, '').replace(/^lang-/, '');
          pre.dataset.lang = raw.replace(/_/g, ' ').toUpperCase();
        }
      }

      if (pre.querySelector('.copy-btn')) return;
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'copy-btn';
      btn.setAttribute('aria-label', '复制代码');
      btn.textContent = 'Copy';
      btn.addEventListener('click', async function () {
        try {
          await navigator.clipboard.writeText(code.innerText);
          btn.textContent = 'Copied';
        } catch (err) {
          const range = document.createRange();
          range.selectNodeContents(code);
          const selection = window.getSelection();
          selection.removeAllRanges();
          selection.addRange(range);
          try {
            document.execCommand('copy');
            btn.textContent = 'Copied';
          } finally {
            selection.removeAllRanges();
          }
        }
        setTimeout(() => {
          btn.textContent = 'Copy';
        }, 1500);
      });
      pre.appendChild(btn);
    });
  })();
  </script>
</body>

</html>