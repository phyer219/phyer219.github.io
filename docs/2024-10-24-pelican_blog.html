<!DOCTYPE html>
<html lang="zh_cn">

<head>
    <title>ä»å†°ä¸Šçš„æ°´ - åšå®¢ç¬¬äºŒæ¬¡æ”¹ç‰ˆçš„è¯´æ˜åŠä¸€äº›ç¬”è®°</title>
  <meta charset="utf-8" />
  <meta name="generator" content="Pelican" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link
    href="https://zqw.ink/feeds/all.atom.xml"
    type="application/atom+xml" rel="alternate" title="ä»å†°ä¸Šçš„æ°´ Full Atom Feed" />
  <link
    href="https://zqw.ink/feeds/ruan-jian-shi-yong.atom.xml"
    type="application/atom+xml" rel="alternate" title="ä»å†°ä¸Šçš„æ°´ Categories Atom Feed" />
  <link rel="stylesheet" type="text/css" href="https://zqw.ink/theme/css/style.css" />
  <!-- SEO: site-level structured data (WebSite) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "ä»å†°ä¸Šçš„æ°´",
    "url": "https://zqw.ink/"
  }
  </script>
  <!-- fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Long+Cang&family=Noto+Serif+SC&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.6.1/github-markdown.min.css" integrity="sha512-wpdV3v8V8vWajD1kH8rI1UO1H2q9TQ3s8o1mG7lH8fS1dZ+3q1B1p4lH2tF8rQm2u0n8oV6rN3tV4nQWmY4nTw==" crossorigin="anonymous" referrerpolicy="no-referrer">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
  <!--fonts end  -->
  <!-- highlight.js -->
  <link id="hljs-light" rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css" disabled>
  <link id="hljs-dark" rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" disabled>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
  <script>
    hljs.highlightAll();
    (function () {
      const light = document.getElementById('hljs-light');
      const dark = document.getElementById('hljs-dark');
      if (!light || !dark) return;

      function resolveTheme() {
        return document.documentElement.getAttribute('data-theme') || 'light';
      }

      function applyTheme(theme) {
        const isDark = theme === 'dark';
        light.disabled = isDark;
        dark.disabled = !isDark;
      }

      const observer = new MutationObserver(function () {
        applyTheme(resolveTheme());
      });
      observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
      applyTheme(resolveTheme());
    })();
  </script>
  <!-- highlight.js end -->

<script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        tags: 'ams'   // è‡ªåŠ¨ç»™ AMS ç¯å¢ƒ/æ˜¾ç¤ºå…¬å¼ç¼–å·
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.1">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.1">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.1">



  <!-- SEO: page description for search results -->
    <meta name="description" content="å‡çº§è¯´æ˜ å‡çº§åšå®¢è¿‡ç¨‹ä¸­çš„ç¬”è®°(ç”± ChatGPT ç”Ÿæˆ) ç±»å‹æ³¨è§£ itertools.chain ç¤ºä¾‹ä»£ç ï¼šä½¿ç”¨ ğŸ› ï¸ multiprocessing.Queue å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹ ç¤ºä¾‹ä»£ç ï¼šä½¿ç”¨ ğŸ”„ while True å®ç°æ—  â€¦" />

    <meta name="tags" content="python" />
    <meta name="tags" content="pelican" />
    <meta name="tags" content="blog" />

  <!-- SEO: structured data for articles (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "åšå®¢ç¬¬äºŒæ¬¡æ”¹ç‰ˆçš„è¯´æ˜åŠä¸€äº›ç¬”è®°",
    "datePublished": "2024-10-24T00:00:00+08:00",
    "author": {
      "@type": "Person",
      "name": "ZQW"
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://zqw.ink/2024-10-24-pelican_blog.html"
    }
  }
  </script>

</head>

<body>
  <header>
    <div id="header-container">
      <button id="nav-toggle" class="nav-toggle" aria-label="æ‰“å¼€èœå•" aria-expanded="false">
        <i class="fa-solid fa-bars" aria-hidden="true"></i>
      </button>
      <nav id="site-nav">
        <ul>
            <li>
              <a href="/">Home</a>
            </li>
            <li>
              <a href="/category/physics">Physics</a>
            </li>
            <li>
              <a href="/category/blog">Blog</a>
            </li>
            <li>
              <a href="/category/coding">Coding</a>
            </li>
            <li>
              <a href="/archives">All</a>
            </li>
          </ul>
      </nav>
      <div class="header-actions">
        <button id="theme-toggle" aria-label="åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼" title="åˆ‡æ¢ä¸»é¢˜">
          <i class="theme-icon icon-sun fa-solid fa-sun" aria-hidden="true"></i>
          <i class="theme-icon icon-moon fa-solid fa-moon" aria-hidden="true"></i>
        </button>
        <div class="rss">
            <a href="https://zqw.ink/feeds/all.atom.xml" aria-label="Atom è®¢é˜…">
              <i class="fa-solid fa-rss" aria-hidden="true"></i>
            </a>
        </div>
      </div>
    </div>
  </header>
  <main>

<h1 class="post-title">åšå®¢ç¬¬äºŒæ¬¡æ”¹ç‰ˆçš„è¯´æ˜åŠä¸€äº›ç¬”è®°</h1>

<section class="post-meta">
    <p>2024-10-24</p>
    <p>-<a class="post-link" href="https://zqw.ink/category/ruan-jian-shi-yong.html">è½¯ä»¶ä½¿ç”¨</a></p>
</section>

<section class="markdown-body">
  
<ul>
<li><a href="#%E5%8D%87%E7%BA%A7%E8%AF%B4%E6%98%8E">å‡çº§è¯´æ˜</a></li>
<li><a href="#%E5%8D%87%E7%BA%A7%E5%8D%9A%E5%AE%A2%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E7%AC%94%E8%AE%B0%E7%94%B1-chatgpt-%E7%94%9F%E6%88%90">å‡çº§åšå®¢è¿‡ç¨‹ä¸­çš„ç¬”è®°(ç”± ChatGPT ç”Ÿæˆ)</a>
<ul>
<li><a href="#%E7%B1%BB%E5%9E%8B%E6%B3%A8%E8%A7%A3">ç±»å‹æ³¨è§£</a></li>
<li><a href="#itertoolschain"><code>itertools.chain</code></a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E4%BD%BF%E7%94%A8-%EF%B8%8F-multiprocessingqueue-%E5%AE%9E%E7%8E%B0%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9">ç¤ºä¾‹ä»£ç ï¼šä½¿ç”¨ ğŸ› ï¸ multiprocessing.Queue å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹</a></li>
<li><a href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E4%BD%BF%E7%94%A8--while-true-%E5%AE%9E%E7%8E%B0%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF%E7%9A%84%E5%BA%94%E7%94%A8">ç¤ºä¾‹ä»£ç ï¼šä½¿ç”¨ ğŸ”„ while True å®ç°æ— é™å¾ªç¯çš„åº”ç”¨</a>
<ul>
<li><a href="#1-%E5%AE%9E%E7%8E%B0%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E9%AA%8C%E8%AF%81">1. å®ç°ç”¨æˆ·è¾“å…¥éªŒè¯</a></li>
<li><a href="#2-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9B%91%E5%90%AC-%EF%B8%8F">2. æœåŠ¡å™¨ç›‘å¬ ğŸ–¥ï¸</a></li>
<li><a href="#3-%E5%A4%9A%E8%BF%9B%E7%A8%8B%E7%9A%84%E4%BB%BB%E5%8A%A1%E5%88%86%E9%85%8D-">3. å¤šè¿›ç¨‹çš„ä»»åŠ¡åˆ†é… ğŸ‘¥ğŸ”„</a></li>
</ul>
</li>
<li><a href="#%E5%8A%A8%E6%80%81%E5%AF%BC%E5%85%A5%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF">åŠ¨æ€å¯¼å…¥çš„ä½¿ç”¨åœºæ™¯</a></li>
<li><a href="#getattr-%E7%9A%84%E7%94%A8%E6%B3%95"><code>getattr()</code> çš„ç”¨æ³•</a>
<ul>
<li><a href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81">ç¤ºä¾‹ä»£ç </a></li>
<li><a href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">æ³¨æ„äº‹é¡¹</a></li>
</ul>
</li>
<li><a href="#%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-%EF%B8%8F">ä½¿ç”¨æ³¨æ„äº‹é¡¹ âš ï¸</a></li>
</ul>
</li>
<li><a href="#acknowledge">Acknowledge</a></li>
</ul>
<h2>å‡çº§è¯´æ˜</h2>
<p>æœ€è¿‘ç»ˆäºèƒ½æŠ½å‡ºä¸€äº›æ—¶é—´, æ‰“ç®—æŠŠåšå®¢å‡çº§ä¸€ä¸‹, ä¿®å¤ä¹‹å‰çš„ä¸€äº› bug.<br />
ä½†æ˜¯å‘ç°ä¹‹å‰å†™çš„ç¨‹åºå¾ˆä¹±. è€Œä¸”å½“æ—¶æ°´å¹³ä¸å¦‚ç°åœ¨, ç¨‹åºæ€è·¯å¾ˆä¹±.<br />
è¿™æ¬¡è¿‡äº†ä¸¤å¹´å¤š, å†³å®šä½¿ç”¨ <a href="https://getpelican.com/"><code>Pelican</code></a> ç”Ÿæˆ, ç„¶åå†ä½¿ç”¨ä¸€äº›æ’ä»¶, è‡ªå·±å†™ä¸€äº›æ’ä»¶, æŠŠåŸæ¥çš„ä¸»é¢˜ç§»æ¤è¿‡æ¥. å°±æˆä¸ºäº†ç°åœ¨å‘ˆç°çš„ç‰ˆæœ¬.</p>
<p>ä¹‹å‰è‡ªå·±å†™é™æ€åšå®¢ç”Ÿæˆå™¨åŸå› æ˜¯:</p>
<ul>
<li>æœ¬ç«™çš„éœ€æ±‚æ¯”è¾ƒç®€å•</li>
<li>æƒ³è¦ç»ƒä¹ å†™ç¨‹åº</li>
<li>Hexo ç­‰, æ›´æ–°ä¹‹åæœ‰æ—¶ä¼šäº§ç”Ÿä¸€äº›å…¼å®¹é—®é¢˜</li>
<li>éš¾ä»¥éšå¿ƒæ‰€æ¬²çš„ä¿®æ”¹åšå®¢çš„æ ·å¼, æ·»åŠ ä¸€äº›æ–°çš„é¡µé¢, ç»„ä»¶</li>
</ul>
<p>ç°åœ¨ä½¿ç”¨ <a href="https://getpelican.com/"><code>Pelican</code></a> çš„åŸå› æ˜¯</p>
<ul>
<li>ç»ƒä¹ å†™ç¨‹åº. ç”±äºåšå®¢æºæ–‡ä»¶ä¸­æœ‰ä¸€äº›æ ¼å¼æ¯”è¾ƒç‰¹åˆ«, æ‰€æœ‰è¦è‡ªå·±è®¾ç½®ä¸€ä¸‹. è¿™ä¸ªè¿‡ç¨‹ä¸­äº†è§£äº† <a href="https://getpelican.com/"><code>Pelican</code></a> çš„æ’ä»¶æœºåˆ¶, å­¦äº›åˆ°äº†<a href="#%E5%8D%87%E7%BA%A7%E5%8D%9A%E5%AE%A2%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E7%AC%94%E8%AE%B0%E7%94%B1-chatgpt-%E7%94%9F%E6%88%90">è®¸å¤šçŸ¥è¯†</a>.</li>
<li>ç”±äºç°åœ¨ä¼šè‡ªå·±å†™æ’ä»¶, æ‰€ä»¥å…¼å®¹è¡Œé—®é¢˜å¯ä»¥è‡ªå·±è§£å†³äº†. åŒæ—¶ä¹Ÿå­¦ä¼šäº†è‡ªå·±å†™ä¸»é¢˜, å¯ä»¥éšå¿ƒæ‰€æ¬²çš„ä¿®æ”¹åšå®¢çš„æ ·å¼.</li>
<li>ä¹‹å‰çš„éœ€æ±‚éƒ½å®ç°äº†,åŒæ—¶è¿˜å¯ç”¨è·å¾— <a href="https://getpelican.com/"><code>Pelican</code></a> çš„å¥½å¤„. æ¯”å¦‚: è®¸è®¸å¤šå¤šçš„ä¸»é¢˜, ä¸°å¯Œçš„æ’ä»¶(è‡ªå·±å†™ä¹Ÿå¾ˆæ–¹ä¾¿).</li>
</ul>
<h2>å‡çº§åšå®¢è¿‡ç¨‹ä¸­çš„ç¬”è®°(ç”± ChatGPT ç”Ÿæˆ)</h2>
<h3>ç±»å‹æ³¨è§£</h3>
<p><code>Tuple[str, ...]ï¼š</code> è¿™æ˜¯ç±»å‹æ³¨è§£ï¼Œè¡¨ç¤º <code>mandatory_properties</code> çš„ç±»å‹æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å…ƒç»„ï¼ˆtupleï¼‰ï¼Œå¹¶ä¸”å…ƒç»„ä¸­çš„å…ƒç´ ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼ˆstrï¼‰ã€‚... è¡¨ç¤ºå…ƒç»„çš„é•¿åº¦æ˜¯å¯å˜çš„ï¼Œå¯ä»¥åŒ…å«ä»»æ„æ•°é‡çš„å­—ç¬¦ä¸²ã€‚</p>
<h3><code>itertools.chain</code></h3>
<p><code>itertools.chain</code> æ˜¯ ğŸ <code>Python</code> æ ‡å‡†åº“ <code>itertools</code> æ¨¡å—ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå°†å¤šä¸ªå¯è¿­ä»£å¯¹è±¡ğŸ”—è¿æ¥åœ¨ä¸€èµ·ï¼Œç”Ÿæˆä¸€ä¸ªè¿ç»­çš„å•ä¸ªè¿­ä»£å™¨ã€‚å®ƒå¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å¯è¿­ä»£å¯¹è±¡ï¼Œå¹¶ä¾æ¬¡è¿­ä»£æ¯ä¸ªå¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ ï¼Œå°±åƒå°†å®ƒä»¬â€œé“¾æ¥â€æˆä¸€ä¸ªæ•´ä½“ã€‚</p>
<h3>ç¤ºä¾‹ä»£ç ï¼šä½¿ç”¨ ğŸ› ï¸ multiprocessing.Queue å®ç°ç”Ÿäº§è€…-æ¶ˆè´¹</h3>
<pre><code class="language-python">import multiprocessing  # ğŸ› ï¸ å¯¼å…¥å¤šè¿›ç¨‹æ¨¡å—
import time  # â³ å¯¼å…¥æ—¶é—´æ¨¡å—

def producer(queue):  # ğŸ­ ç”Ÿäº§è€…å‡½æ•°
    for i in range(5):
        print(f&quot;Producing item {i}&quot;)  # ğŸ› ï¸ ç”Ÿäº§ç‰©å“
        queue.put(i)  # ğŸ“¥ å°†ç‰©å“æ”¾å…¥é˜Ÿåˆ—
        time.sleep(1)  # â±ï¸ å»¶æ—¶ 1 ç§’

def consumer(queue):  # ğŸ›ï¸ æ¶ˆè´¹è€…å‡½æ•°
    while True:
        item = queue.get()  # å–å‡ºé˜Ÿåˆ—ä¸­çš„ä¸€ä¸ªå…ƒç´  ğŸ“¤
        if item is None:  # æ¥æ”¶åˆ° None è¡¨ç¤ºç”Ÿäº§è€…å·²ç»“æŸ ğŸš«
            break
        print(f&quot;Consuming item {item}&quot;)  # ğŸ› ï¸ æ¶ˆè´¹ç‰©å“

if __name__ == &quot;__main__&quot;:
    queue = multiprocessing.Queue()  # ğŸ“¦ åˆ›å»ºé˜Ÿåˆ—

    # åˆ›å»ºç”Ÿäº§è€…è¿›ç¨‹å’Œæ¶ˆè´¹è€…è¿›ç¨‹ ğŸ‘¥
    producer_process = multiprocessing.Process(target=producer, args=(queue,))
    consumer_process = multiprocessing.Process(target=consumer, args=(queue,))

    # å¯åŠ¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…è¿›ç¨‹ â–¶ï¸
    producer_process.start()
    consumer_process.start()

    # ç­‰å¾…ç”Ÿäº§è€…å®Œæˆ â³
    producer_process.join()

    # ç”Ÿäº§è€…ç»“æŸåï¼Œå‘é˜Ÿåˆ—ä¸­æ”¾å…¥ä¸€ä¸ª Noneï¼Œé€šçŸ¥æ¶ˆè´¹è€…é€€å‡º ğŸš«
    queue.put(None)

    # ç­‰å¾…æ¶ˆè´¹è€…å®Œæˆ â³
    consumer_process.join()

    print(&quot;Main process is finishing.&quot;)  # ğŸ¬ ä¸»è¿›ç¨‹ç»“æŸ
</code></pre>
<h3>ç¤ºä¾‹ä»£ç ï¼šä½¿ç”¨ ğŸ”„ while True å®ç°æ— é™å¾ªç¯çš„åº”ç”¨</h3>
<p><code>while True:</code> æ˜¯ä¸€ä¸ªå¸¸è§çš„æ— é™å¾ªç¯ç»“æ„ï¼Œå¹¿æ³›åº”ç”¨äºéœ€è¦æŒç»­è¿è¡Œã€æŒç»­ç›‘å¬æˆ–è€…é‡å¤æ‰§è¡ŒæŸé¡¹ä»»åŠ¡çš„åœºæ™¯ä¸­ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªä½¿ç”¨ <code>while True:</code> çš„å®é™…ä¾‹å­ï¼š</p>
<h4>1. å®ç°ç”¨æˆ·è¾“å…¥éªŒè¯</h4>
<p>åœ¨ç”¨æˆ·è¾“å…¥ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>while True:</code> æ¥ä¸æ–­è¯·æ±‚ç”¨æˆ·è¾“å…¥ï¼Œç›´åˆ°è¾“å…¥æ»¡è¶³æ¡ä»¶ä¸ºæ­¢ï¼š</p>
<pre><code class="language-python">while True:  # ğŸ”„ æ— é™å¾ªç¯è¯·æ±‚ç”¨æˆ·è¾“å…¥
    user_input = input(&quot;Enter a number (q to quit): &quot;)  # ğŸ“¥ ç”¨æˆ·è¾“å…¥
    if user_input == &quot;q&quot;:
        print(&quot;Quitting...&quot;)  # ğŸšª é€€å‡ºç¨‹åº
        break
    try:
        number = int(user_input)
        print(f&quot;You entered: {number}&quot;)
    except ValueError:
        print(&quot;Invalid input, please enter a number.&quot;)  # âš ï¸ è¾“å…¥æ— æ•ˆ
</code></pre>
<h4>2. æœåŠ¡å™¨ç›‘å¬ ğŸ–¥ï¸</h4>
<p>åœ¨æœåŠ¡å™¨åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>while True:</code> æ¥æŒç»­ç›‘å¬è¯·æ±‚ï¼Œä¾‹å¦‚ä¸€ä¸ªç®€å•çš„ TCP æœåŠ¡å™¨ï¼š</p>
<pre><code class="language-python">import socket  # ğŸŒ å¯¼å…¥å¥—æ¥å­—æ¨¡å—

server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)  # åˆ›å»ºæœåŠ¡å™¨å¥—æ¥å­—
server_socket.bind(('localhost', 8080))  # ç»‘å®šåœ°å€å’Œç«¯å£
server_socket.listen(5)  # ç›‘å¬è¿æ¥
print(&quot;Server is listening on port 8080...&quot;)  # ğŸ–¥ï¸ æœåŠ¡å™¨ç›‘å¬

while True:  # ğŸ”„ æŒç»­ç›‘å¬å®¢æˆ·ç«¯è¿æ¥
    client_socket, address = server_socket.accept()  # æ¥å—å®¢æˆ·ç«¯è¿æ¥
    print(f&quot;Connection from {address} has been established.&quot;)  # ğŸ¤ è¿æ¥å»ºç«‹
    client_socket.send(bytes(&quot;Welcome to the server!&quot;, &quot;utf-8&quot;))  # å‘é€æ¬¢è¿æ¶ˆæ¯
    client_socket.close()  # å…³é—­å®¢æˆ·ç«¯è¿æ¥
</code></pre>
<h4>3. å¤šè¿›ç¨‹çš„ä»»åŠ¡åˆ†é… ğŸ‘¥ğŸ”„</h4>
<p>åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>while True:</code> æ¥æŒç»­ä»é˜Ÿåˆ—ä¸­å–ä»»åŠ¡å¹¶è¿›è¡Œå¤„ç†ï¼Œå¦‚ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ï¼š</p>
<pre><code class="language-python">import multiprocessing
import time

def worker(queue):  # å·¥ä½œè€…å‡½æ•°
    while True:
        task = queue.get()  # ä»é˜Ÿåˆ—ä¸­å–ä»»åŠ¡ ğŸ“¤
        if task is None:  # ä»»åŠ¡é˜Ÿåˆ—ç»“æŸæ ‡å¿— ğŸš«
            break
        print(f&quot;Processing task: {task}&quot;)  # ğŸ”§ å¤„ç†ä»»åŠ¡
        time.sleep(1)  # â±ï¸ æ¨¡æ‹Ÿå¤„ç†æ—¶é—´

if __name__ == &quot;__main__&quot;:
    task_queue = multiprocessing.Queue()  # ğŸ“¦ åˆ›å»ºä»»åŠ¡é˜Ÿåˆ—

    # æ·»åŠ ä»»åŠ¡ ğŸ“‹
    for i in range(5):
        task_queue.put(f&quot;Task {i}&quot;)

    # æ·»åŠ ç»“æŸæ ‡å¿— ğŸš«
    task_queue.put(None)

    # å¯åŠ¨å·¥ä½œè¿›ç¨‹ â–¶ï¸
    process = multiprocessing.Process(target=worker, args=(task_queue,))
    process.start()

    # ç­‰å¾…è¿›ç¨‹å®Œæˆ â³
    process.join()

    print(&quot;All tasks are completed.&quot;)  # ğŸ¬ æ‰€æœ‰ä»»åŠ¡å®Œæˆ
</code></pre>
<h3>åŠ¨æ€å¯¼å…¥çš„ä½¿ç”¨åœºæ™¯</h3>
<p><code>__import__()</code> æ˜¯ Python ä¸­ç”¨äºåŠ¨æ€å¯¼å…¥æ¨¡å—çš„å†…ç½®å‡½æ•°ï¼Œé€šå¸¸ç”¨äºæ¨¡å—ååœ¨è¿è¡Œæ—¶æ‰ç¡®å®šçš„æƒ…å†µï¼Œæä¾›äº†ä¸€ç§çµæ´»çš„å¯¼å…¥æœºåˆ¶ã€‚å®ƒåœ¨ä»¥ä¸‹åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ï¼š</p>
<ol>
<li>
<p><strong>æ’ä»¶ç³»ç»Ÿ</strong>ï¼šå¯ä»¥æ ¹æ®ç”¨æˆ·éœ€æ±‚æˆ–é…ç½®æ–‡ä»¶é€‰æ‹©æ€§åœ°å¯¼å…¥æŸäº›æ¨¡å—ã€‚ä¾‹å¦‚ï¼ŒæŸäº›æ’ä»¶å¯èƒ½éœ€è¦åœ¨è¿è¡Œæ—¶æŒ‰éœ€åŠ è½½ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å—ç®¡ç†</strong>ï¼šå½“æ¨¡å—çš„åç§°æ˜¯åŠ¨æ€ç”Ÿæˆæˆ–ç”¨æˆ·è¾“å…¥çš„ï¼Œä½¿ç”¨ <code>__import__()</code> å¯ä»¥è®©ç¨‹åºæ ¹æ®åå­—å¯¼å…¥ç›¸åº”çš„æ¨¡å—ã€‚</p>
</li>
</ol>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="language-python">module_name = &quot;math&quot;  # æ¨¡å—åå¯èƒ½ä»ç”¨æˆ·è¾“å…¥æˆ–é…ç½®æ–‡ä»¶ä¸­è·å–
module = __import__(module_name)  # åŠ¨æ€å¯¼å…¥æ¨¡å—

# ä½¿ç”¨å¯¼å…¥çš„æ¨¡å—
print(module.sqrt(16))  # è¾“å‡º: 4.0
</code></pre>
<h3><code>getattr()</code> çš„ç”¨æ³•</h3>
<p><code>cls = getattr(module, cls_name)</code> æ˜¯ Python ä¸­ä¸€ç§åŠ¨æ€è·å–å±æ€§çš„æ–¹å¼ï¼Œç”¨äºä»æ¨¡å—æˆ–å¯¹è±¡ä¸­è·å–åç§°ä¸º <code>cls_name</code> çš„å±æ€§ã€‚è¿™é‡Œ <code>getattr()</code> å‡½æ•°è¢«ç”¨æ¥ä» <code>module</code> ä¸­è·å–åä¸º <code>cls_name</code> çš„ç±»ï¼Œå˜é‡ <code>cls</code> æœ€ç»ˆä¼šæŒ‡å‘è¯¥ç±»ã€‚</p>
<h4>ç¤ºä¾‹ä»£ç </h4>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ªæ¨¡å— <code>shapes</code>ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸¤ä¸ªç±» <code>Circle</code> å’Œ <code>Square</code>ã€‚ä½ å¯ä»¥é€šè¿‡å­—ç¬¦ä¸²åç§°åŠ¨æ€åœ°ä»æ¨¡å—ä¸­è·å–ç±»ã€‚</p>
<p><code>shapes.py</code> æ¨¡å—ï¼š</p>
<pre><code class="language-python"># shapes.py
class Circle:
    def draw(self):
        print(&quot;Drawing a Circle&quot;)

class Square:
    def draw(self):
        print(&quot;Drawing a Square&quot;)
</code></pre>
<p>ä¸»ä»£ç ï¼š</p>
<pre><code class="language-python">import shapes

# åŠ¨æ€è·å–ç±»å
cls_name = &quot;Circle&quot;
cls = getattr(shapes, cls_name)

# cls ç°åœ¨æŒ‡å‘ Circle ç±»ï¼Œå¯ä»¥åˆ›å»ºå…¶å®ä¾‹
shape = cls()
shape.draw()  # è¾“å‡º: Drawing a Circle
</code></pre>
<h4>æ³¨æ„äº‹é¡¹</h4>
<ul>
<li><strong>å±æ€§ä¸å­˜åœ¨æ—¶å¼•å‘å¼‚å¸¸</strong>ï¼šå¦‚æœ <code>name</code> ä¸å­˜åœ¨ä¸”æœªæä¾› <code>default</code> å‚æ•°ï¼Œ<code>getattr()</code> ä¼šå¼•å‘ <code>AttributeError</code>ã€‚ä¸ºé¿å…å¼‚å¸¸ï¼Œå¯ä»¥ä¼ é€’ä¸€ä¸ªé»˜è®¤å€¼ã€‚<pre><code class="language-python">cls = getattr(module, &quot;NonExistentClass&quot;, None)
if cls is None:
    print(&quot;Class not found&quot;)
</code></pre>
</li>
<li><strong>å®‰å…¨æ€§é—®é¢˜</strong>ï¼šä½¿ç”¨ <code>getattr()</code> è·å–å±æ€§éœ€è¦ç‰¹åˆ«å°å¿ƒï¼Œå› ä¸ºå®ƒå¯ä»¥åŠ¨æ€åœ°è®¿é—®ä»»æ„å±æ€§æˆ–æ–¹æ³•ï¼Œå¯èƒ½ä¼šå¸¦æ¥å®‰å…¨æ€§é£é™©ã€‚å¦‚æœç”¨æˆ·èƒ½å¤Ÿæ§åˆ¶ä¼ é€’ç»™ <code>getattr()</code> çš„å­—ç¬¦ä¸²ï¼Œä»–ä»¬å¯ä»¥è¯•å›¾è®¿é—®ä¸åº”æš´éœ²çš„å†…éƒ¨ç±»æˆ–æ–¹æ³•ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨æ—¶è¦ç¡®ä¿è¾“å…¥æ˜¯å¯ä¿¡çš„æˆ–ç»è¿‡é€‚å½“çš„éªŒè¯ã€‚</li>
</ul>
<h3>ä½¿ç”¨æ³¨æ„äº‹é¡¹ âš ï¸</h3>
<ol>
<li><strong><code>break</code> é€€å‡º</strong>ï¼š<code>while True:</code> æ˜¯æ— é™å¾ªç¯ï¼Œæ‰€ä»¥ä¸ºäº†é¿å…ç¨‹åºä¸€ç›´è¿è¡Œä¸‹å»ï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨ <code>break</code> æ¥åœ¨åˆé€‚çš„æ¡ä»¶ä¸‹è·³å‡ºå¾ªç¯ã€‚</li>
<li><strong>æ€§èƒ½é—®é¢˜ ğŸ–¥ï¸</strong>ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>while True:</code> å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå ç”¨å¤§é‡ CPU èµ„æºï¼Œå› æ­¤åœ¨å¾ªç¯ä¸­åº”è¯¥ä½¿ç”¨é€‚å½“çš„å»¶æ—¶ï¼ˆå¦‚ <code>time.sleep()</code> â±ï¸) æˆ–ç­‰å¾…æœºåˆ¶æ¥å‡å°‘ CPU çš„å ç”¨ã€‚</li>
<li><strong>ç»“æŸæ¡ä»¶ ğŸšª</strong>ï¼šåŠ¡å¿…ä¸ºå¾ªç¯è®¾ç½®åˆç†çš„ç»“æŸæ¡ä»¶ï¼Œé¿å…ç¨‹åºè¿›å…¥æ­»å¾ªç¯å¯¼è‡´èµ„æºæµªè´¹ã€‚</li>
</ol>
<p><code>while True:</code> æ˜¯ä¸€ç§ç®€å•ä½†éå¸¸å¼ºå¤§çš„å¾ªç¯ç»“æ„ï¼Œå¹¿æ³›åº”ç”¨äºéœ€è¦ä¸æ–­é‡å¤æŸäº›æ“ä½œçš„åœºæ™¯ï¼Œå¦‚è¾“å…¥éªŒè¯ã€ç›‘å¬æœåŠ¡å™¨ã€ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹ç­‰ã€‚å®ƒå¯ä»¥ç¡®ä¿ç¨‹åºä¸æ–­è¿è¡Œï¼Œç›´åˆ°æŸä¸ªæ¡ä»¶è§¦å‘ <code>break</code> é€€å‡ºå¾ªç¯ï¼Œä»è€Œçµæ´»åœ°æ§åˆ¶ç¨‹åºçš„æ‰§è¡Œæµç¨‹ã€‚</p>
<h2>Acknowledge</h2>
<p>ChatGPT</p>

</section>

<section class="post-meta">
    <p>
        <a class="post-link" href="https://zqw.ink/tag/python.html">#python</a>
        <a class="post-link" href="https://zqw.ink/tag/pelican.html">#pelican</a>
        <a class="post-link" href="https://zqw.ink/tag/blog.html">#blog</a>
    </p>
</section>

  </main>
  <footer role="contentinfo">
    <p>Copyright &copy; 2018 - 2026 ZQW</p>
  </footer>
  <script>
  (function() {
    const key = 'theme';
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const saved = localStorage.getItem(key);
    const init = saved ? saved : 'system';
    const effective = init === 'system' ? (prefersDark ? 'dark' : 'light') : init;
    document.documentElement.setAttribute('data-theme', effective);
    updateThemeButton(effective);

    document.getElementById('theme-toggle')?.addEventListener('click', function () {
      const current = document.documentElement.getAttribute('data-theme') || 'light';
      const next = current === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem(key, next);
      updateThemeButton(next);
    });

    function updateThemeButton(theme) {
      const btn = document.getElementById('theme-toggle');
      if (btn) {
        btn.setAttribute('aria-label', theme === 'dark' ? 'åˆ‡æ¢åˆ°æµ…è‰²æ¨¡å¼' : 'åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼');
      }
    }
  })();
  </script>
  <script>
  (function() {
    const blocks = document.querySelectorAll('pre > code');
    blocks.forEach((code) => {
      const pre = code.parentElement;
      if (!pre) return;

      if (!pre.dataset.lang) {
        const cls = Array.from(code.classList);
        const langClass = cls.find((name) => name.startsWith('language-') || name.startsWith('lang-'));
        if (langClass) {
          const raw = langClass.replace(/^language-/, '').replace(/^lang-/, '');
          pre.dataset.lang = raw.replace(/_/g, ' ').toUpperCase();
        }
      }

      if (pre.querySelector('.copy-btn')) return;
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'copy-btn';
      btn.setAttribute('aria-label', 'å¤åˆ¶ä»£ç ');
      btn.textContent = 'Copy';
      btn.addEventListener('click', async function () {
        try {
          await navigator.clipboard.writeText(code.innerText);
          btn.textContent = 'Copied';
        } catch (err) {
          const range = document.createRange();
          range.selectNodeContents(code);
          const selection = window.getSelection();
          selection.removeAllRanges();
          selection.addRange(range);
          try {
            document.execCommand('copy');
            btn.textContent = 'Copied';
          } finally {
            selection.removeAllRanges();
          }
        }
        setTimeout(() => {
          btn.textContent = 'Copy';
        }, 1500);
      });
      pre.appendChild(btn);
    });
  })();
  </script>
  <script>
  (function() {
    const toggle = document.getElementById('nav-toggle');
    const nav = document.getElementById('site-nav');
    if (!toggle || !nav) return;

    function closeNav() {
      nav.classList.remove('is-open');
      toggle.setAttribute('aria-expanded', 'false');
      toggle.setAttribute('aria-label', 'æ‰“å¼€èœå•');
    }

    function openNav() {
      nav.classList.add('is-open');
      toggle.setAttribute('aria-expanded', 'true');
      toggle.setAttribute('aria-label', 'å…³é—­èœå•');
    }

    toggle.addEventListener('click', function (event) {
      event.stopPropagation();
      const isOpen = nav.classList.contains('is-open');
      if (isOpen) {
        closeNav();
      } else {
        openNav();
      }
    });

    nav.querySelectorAll('a').forEach((link) => {
      link.addEventListener('click', closeNav);
    });

    document.addEventListener('click', function (event) {
      if (!nav.classList.contains('is-open')) return;
      if (nav.contains(event.target) || toggle.contains(event.target)) return;
      closeNav();
    });
  })();
  </script>
</body>

</html>