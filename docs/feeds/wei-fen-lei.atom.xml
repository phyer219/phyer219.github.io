<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>从冰上的水 - 未分类</title><link href="https://zqw.ink/" rel="alternate"></link><link href="https://zqw.ink/feeds/wei-fen-lei.atom.xml" rel="self"></link><id>https://zqw.ink/</id><updated>2026-01-04T00:00:00+08:00</updated><entry><title>2025 初来神户</title><link href="https://zqw.ink/2026-01-04-blog-2025_kobe.html" rel="alternate"></link><published>2026-01-04T00:00:00+08:00</published><updated>2026-01-04T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2026-01-04:/2026-01-04-blog-2025_kobe.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;总结&lt;/li&gt;
&lt;li&gt;神户&lt;/li&gt;
&lt;li&gt;"2025"&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;2025 年已经过去了。我在神户也已经生活了九个多月。从各个方面讲，都是第一次体验。第一次领到真正的工资。第 …&lt;/p&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;总结&lt;/li&gt;
&lt;li&gt;神户&lt;/li&gt;
&lt;li&gt;"2025"&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;2025 年已经过去了。我在神户也已经生活了九个多月。从各个方面讲，都是第一次体验。第一次领到真正的工资。第一次出国。第一次一个人生活了这么久（在深圳城中村的几个月，虽然也是一个人生活，但是心态完全不一样）&lt;/p&gt;
&lt;h2&gt;春&lt;/h2&gt;
&lt;p&gt;我是 3 月 23 日中午，直接从深圳宝安机场，到大阪关机机场，然后乘机场巴士到神户三宫，晚上住在三宫附近的酒店。第二天，在单位 HR 的帮助下，完成一系列手续，到达租的房子里。晚上又回酒店住了一晚，因为租的房子还没有开通水电。&lt;/p&gt;
&lt;p&gt;第二天开通了水电。我也早早就从亚马逊上预订好了床铺（布团）。但是就在我出门那一小会儿，错过了快递，收到了“不在连络票”。所以，当晚，就只能躺在榻榻米上，枕着衣服睡了一晚。&lt;/p&gt;
&lt;p&gt;距离正式入职还有好几天，就在附近逛了逛，买了一些生活用品，熟悉了一下环境。也提前去单位看了一下，见了老板和同事们。&lt;/p&gt;
&lt;p&gt;4 月 1 号正式入职。还有好几个同事与我同一天入职。一切都非常顺利。&lt;/p&gt;
&lt;p&gt;恰好是樱花盛开的季节，每天上下班的路上，景色都很美，心情都非常好。&lt;/p&gt;
&lt;p&gt;每天都很规律地作息。尝试做不同的饭，不同的饮料。和同事们一起去爬山。&lt;/p&gt;
&lt;p&gt;五一的时候，曹爷来了，一直去了大阪和京都。&lt;/p&gt;
&lt;p&gt;参加 IBM 的落成典礼的时候，也第一次尝试了西装。&lt;/p&gt;
&lt;h2&gt;夏&lt;/h2&gt;
&lt;p&gt;当 7 月份的电费账单从之前的两三块，涨到六七时，意味着夏天来了。&lt;/p&gt;
&lt;p&gt;夏天的蝉真的非常有活力。我本身住的楼层比较低，在二楼。所以，每天五点左右就会被蝉叫醒一次，然后接着睡。&lt;/p&gt;
&lt;p&gt;当周末一个人在家里着空调，或者吹着风扇，弹着吉他时，这种情景，是很久以前就憧憬的。&lt;/p&gt;
&lt;p&gt;妹妹初中毕业了，8 月份回家一趟。&lt;/p&gt;
&lt;p&gt;和同事们一起去了淡路岛，感受了日本乡下夏天。&lt;/p&gt;
&lt;p&gt;买了很多不同颜色的纯色短袖。每次洗完衣服，挂在阳台晾晒时，就像是彩旗一样。&lt;/p&gt;
&lt;p&gt;10 月份，阿斯旺结婚了。大奔，阿斯旺，和我，又一次相聚了。&lt;/p&gt;
&lt;p&gt;和同事们去了山上，见到了神户自来水的水库。&lt;/p&gt;
&lt;p&gt;当 10 月分的电费账单，又降回到三千块时，夏天也结束了。&lt;/p&gt;
&lt;h2&gt;秋冬&lt;/h2&gt;
&lt;p&gt;秋天，上班路上的颜色非常丰富。绿，黄，红，非常有层次感。&lt;/p&gt;
&lt;p&gt;这里没有暖气。应该说除了中国北方，其它地方都没有暖气。虽然神户的冬天，气温通常不会降到零度以下。但是还是稍微有点冷。有时会开空调，也买了一个电暖气。&lt;/p&gt;
&lt;p&gt;神户有一点我不喜欢，没有雪。虽然六甲山顶上有，虽然有时天空中会飘一点，但始终积不到窗外。&lt;/p&gt;
&lt;h2&gt;自由的时光&lt;/h2&gt;
&lt;p&gt;现在的生活状态应该是非常难得的了。在比较自由的时候，就有时间，也可以想清楚很多事情。我想这会是非常宝贵的时光。无论是对于当下，还是对于将来。&lt;/p&gt;</content><category term="未分类"></category></entry><entry><title>Plotly 绘制动图</title><link href="https://zqw.ink/2025-06-18-coding-plotly_animation.html" rel="alternate"></link><published>2025-06-18T00:00:00+08:00</published><updated>2025-06-18T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2025-06-18:/2025-06-18-coding-plotly_animation.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;plotly&lt;/li&gt;
&lt;li&gt;python&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;基础版本&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;plotly.graph_objects&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;go&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;

&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;yt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;ti&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ti&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;frames&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Frame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;y1i …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;plotly&lt;/li&gt;
&lt;li&gt;python&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;基础版本&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;plotly.graph_objects&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;go&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;

&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;yt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;ti&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ti&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;frames&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Frame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;y1i&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;y1i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;yt&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;frames&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;frames&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;frames&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ani_opts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;duration&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;redraw&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="n"&gt;bt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;updatemenu&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Button&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Play&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;animate&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                 &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ani_opts&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;update_layout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;updatemenus&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;buttons&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;buttons&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;bt&lt;/span&gt;&lt;span class="p"&gt;])])&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write_html&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;basic_ver.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;include_mathjax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;cdn&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;auto_play&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="2025-06-18-coding-plotly_animation/basic_ver.py"&gt;basic_ver.py&lt;/a&gt;&lt;/p&gt;
&lt;iframe src="2025-06-18-coding-plotly_animation/basic_ver.html" width="100%" height=600&gt;&lt;/iframe&gt;

&lt;h2&gt;高级版本&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;plotly.graph_objects&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;go&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;plotly.io&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pio&lt;/span&gt;

&lt;span class="n"&gt;pio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;renderers&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;notebook_connected&amp;#39;&lt;/span&gt;

&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y1t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;ti&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ti&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;y2t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;ti&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ti&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;frames&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Frame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;y1i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$\sin(x+t)$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                         &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;y2i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$\cos(x+t)$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)],&lt;/span&gt;
                   &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;ti&lt;/span&gt;&lt;span class="si"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;.2f&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
          &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;y1i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y2i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ti&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y1t&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y2t&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;frames&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;frames&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;frames&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ani_opts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;duration&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;redraw&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="n"&gt;bt_play&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;updatemenu&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Button&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Play&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;animate&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                      &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ani_opts&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;ani_opts_stop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;immediate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;bt_stop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;updatemenu&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Button&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Stop&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;animate&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;frames&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;frames&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;ani_opts_stop&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;ani_opts_slider&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;duration&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;redraw&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="n"&gt;slider_steps&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;slider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Step&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;ani_opts_slider&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                                      &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;animate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;frames&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;slider&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Slider&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;active&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;steps&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;slider_steps&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;update_layout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;updatemenus&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;buttons&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                    &lt;span class="n"&gt;buttons&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;bt_play&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bt_stop&lt;/span&gt;&lt;span class="p"&gt;])],&lt;/span&gt;
                  &lt;span class="n"&gt;sliders&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;slider&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                  &lt;span class="n"&gt;xaxis_title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$x$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="n"&gt;paper_bgcolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;rgba(0,0,0,0)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="n"&gt;plot_bgcolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;rgba(0,0,0,0)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write_html&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;pro_ver.html&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;include_mathjax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;cdn&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;auto_play&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="2025-06-18-coding-plotly_animation/pro_ver.py"&gt;pro_ver.py&lt;/a&gt;&lt;/p&gt;
&lt;iframe src="2025-06-18-coding-plotly_animation/pro_ver.html" width="100%" height=600&gt;&lt;/iframe&gt;

&lt;h2&gt;参考&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://plotly.com/python/animations/"&gt;Plotly Animations&lt;/a&gt;&lt;/p&gt;</content><category term="未分类"></category></entry><entry><title>Rotating Wave Approximation Numerical Check</title><link href="https://zqw.ink/2025-06-16-physics-rwa_check.html" rel="alternate"></link><published>2025-06-16T00:00:00+08:00</published><updated>2025-06-16T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2025-06-16:/2025-06-16-physics-rwa_check.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;'rotating wave approximation'&lt;/li&gt;
&lt;li&gt;ploly&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;qutip&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;qtp&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;plotly.graph_objects&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;go&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;plotly.io&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pio&lt;/span&gt;

&lt;span class="n"&gt;pio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;renderers&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;browser&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;pio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;templates&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;plotly_dark&amp;#39;&lt;/span&gt;

&lt;span class="n"&gt;w0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;
&lt;span class="n"&gt;wL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;
&lt;span class="n"&gt;Omega&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;tlist&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;psi0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;basis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;H0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;w0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;'rotating wave approximation'&lt;/li&gt;
&lt;li&gt;ploly&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;qutip&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;qtp&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;plotly.graph_objects&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;go&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;plotly.io&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pio&lt;/span&gt;

&lt;span class="n"&gt;pio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;renderers&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;browser&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;pio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;templates&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;default&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;plotly_dark&amp;#39;&lt;/span&gt;

&lt;span class="n"&gt;w0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;
&lt;span class="n"&gt;wL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;
&lt;span class="n"&gt;Omega&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;tlist&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;psi0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;basis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;H0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;w0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmaz&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;H_full&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QobjEvo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;w0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmaz&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                               &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;Omega&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;wL&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmax&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;H_rwa&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QobjEvo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;w0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmaz&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                              &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;Omega&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;wL&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                              &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;Omega&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;wL&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmam&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;H_neg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QobjEvo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;w0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmaz&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                              &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;Omega&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;wL&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                              &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;Omega&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;wL&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmam&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

&lt;span class="n"&gt;result_full&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mesolve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;H&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;H_full&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rho0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;psi0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;c_ops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt;
                          &lt;span class="n"&gt;e_ops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmaz&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;result_rwa&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mesolve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;H&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;H_rwa&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rho0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;psi0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;c_ops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt;
                         &lt;span class="n"&gt;e_ops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmaz&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;result_neg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mesolve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;H&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;H_neg&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rho0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;psi0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;c_ops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt;
                         &lt;span class="n"&gt;e_ops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmaz&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_trace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;result_full&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expect&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                         &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Full (no RWA)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_trace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;result_rwa&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expect&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;RWA&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_trace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;result_neg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expect&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;High-freq&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="c1"&gt;# fig.add_trace(go.Scatter(x=tlist, y=result_neg.expect[0]+result_rwa.expect[0],&lt;/span&gt;
&lt;span class="c1"&gt;#                          name=&amp;quot;High-freq + Low-freq&amp;quot;, mode=&amp;#39;markers&amp;#39;))&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;update_layout&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$\Omega t$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                  &lt;span class="n"&gt;yaxis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$|\psi_{\downarrow}|^2$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                  &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Rotating Wave Approximation&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_annotation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;1.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$\omega_0/\Omega=&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;w0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Omega&lt;/span&gt;&lt;span class="si"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;n&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;, \omega_L/\Omega=&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;wL&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Omega&lt;/span&gt;&lt;span class="si"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;n&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="n"&gt;showarrow&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                   &lt;span class="n"&gt;xref&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;paper&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yref&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;paper&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;font&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write_html&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;check1.html&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;include_mathjax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;cdn&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;w0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;
&lt;span class="n"&gt;w1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;

&lt;span class="n"&gt;g&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;

&lt;span class="n"&gt;H0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;w0&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tensor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmaz&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;qeye&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;H1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;w1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tensor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;qeye&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmaz&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

&lt;span class="n"&gt;V_full&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tensor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmam&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmap&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmam&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;V_rwa&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tensor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmap&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmam&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
           &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tensor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmam&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmap&lt;/span&gt;&lt;span class="p"&gt;()))&lt;/span&gt;

&lt;span class="n"&gt;psi0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tensor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spin_coherent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.7&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;phi&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                  &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spin_coherent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.8&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;phi&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;tlist&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;res_full&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mesolve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;H&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;H0&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;H1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;V_full&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rho0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;psi0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                       &lt;span class="n"&gt;c_ops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt;
                       &lt;span class="n"&gt;e_ops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tensor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmaz&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;qeye&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;res_rwa&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mesolve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;H&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;H0&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;H1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;V_rwa&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rho0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;psi0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;c_ops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt;
                      &lt;span class="n"&gt;e_ops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tensor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sigmaz&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;qtp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;qeye&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_trace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;res_full&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expect&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Full (no RWA)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_trace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;go&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tlist&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;res_rwa&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expect&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;RWA&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write_html&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;check2.html&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;include_mathjax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;cdn&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="2025-06-16-physics-rwa_check/check.py"&gt;check.py&lt;/a&gt;&lt;/p&gt;
&lt;iframe src="2025-06-16-physics-rwa_check/check1.html" width="100%" height="600"&gt;&lt;/iframe&gt;

&lt;iframe src="2025-06-16-physics-rwa_check/check2.html" width="100%" height="600"&gt;&lt;/iframe&gt;</content><category term="未分类"></category></entry><entry><title>Linux 使用笔记（进阶）</title><link href="https://zqw.ink/2025-05-10-coding-rocklinux.html" rel="alternate"></link><published>2025-05-10T00:00:00+08:00</published><updated>2025-05-10T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2025-05-10:/2025-05-10-coding-rocklinux.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;SELinux&lt;/li&gt;
&lt;li&gt;RockyLinux&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;引言&lt;/h2&gt;
&lt;p&gt;从 2018 年开始入门 Linux，已经 7 年了。
从 Deepin 到 Manjaro，再到 Rocky Linux。
中间也尝试过 ArchLinux, Debian, Ubuntu, CentOS等等。&lt;/p&gt;
&lt;p&gt;一开始入门是能用就行，折腾桌面环 …&lt;/p&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;SELinux&lt;/li&gt;
&lt;li&gt;RockyLinux&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;引言&lt;/h2&gt;
&lt;p&gt;从 2018 年开始入门 Linux，已经 7 年了。
从 Deepin 到 Manjaro，再到 Rocky Linux。
中间也尝试过 ArchLinux, Debian, Ubuntu, CentOS等等。&lt;/p&gt;
&lt;p&gt;一开始入门是能用就行，折腾桌面环境。
到现在开始考虑一些安全性，长期的稳定性，不再为了图省事直接关闭防火墙和 SELinux。
每一行代码都想要理解含义。
理解配置的逻辑和哲学。&lt;/p&gt;
&lt;h2&gt;&lt;code&gt;Rocky Linux&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;用 &lt;code&gt;Rocky Linux&lt;/code&gt; 用的还不多，在此写一些备忘。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Rocky Linux&lt;/code&gt; 是 CentOS 替代品，适用于服务器。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;默认使用 &lt;code&gt;SELinux&lt;/code&gt;，&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用&lt;code&gt;Cockpit&lt;/code&gt; 面版，&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用 LVM 和 &lt;code&gt;xfs&lt;/code&gt;文件系统。
&lt;code&gt;xfs&lt;/code&gt;文件系统，性能高，适合处理大文件，并行写入，可以不停机扩容，但是不支持缩容，跨平台兼容性差。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;LVM（逻辑卷管理）&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;层级&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;th&gt;类比&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;物理卷 PV&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;实际的硬盘或分区&lt;/td&gt;
&lt;td&gt;地基&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;卷组 VG&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;若干物理卷组合的池子&lt;/td&gt;
&lt;td&gt;水泥池&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;逻辑卷 LV&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;从卷组中划分出来的卷&lt;/td&gt;
&lt;td&gt;建在池子里的房间&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;可以用 &lt;code&gt;pvdispaly&lt;/code&gt; 查看，或者简写为 &lt;code&gt;pvs&lt;/code&gt;。同理 &lt;code&gt;vgs&lt;/code&gt; 和 &lt;code&gt;lvs&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;示例&lt;/h3&gt;
&lt;p&gt;先用 &lt;code&gt;lsblk&lt;/code&gt; 查看硬盘情况。只有 &lt;code&gt;nvme0n1p3&lt;/code&gt; 分区中有 3 个 lv：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;AMD-ZQW-srv&lt;span class="w"&gt; &lt;/span&gt;➜&lt;span class="w"&gt;  &lt;/span&gt;~&lt;span class="w"&gt; &lt;/span&gt;lsblk&lt;span class="w"&gt; &lt;/span&gt;-f
NAME&lt;span class="w"&gt;        &lt;/span&gt;FSTYPE&lt;span class="w"&gt;      &lt;/span&gt;FSVER&lt;span class="w"&gt;    &lt;/span&gt;LABEL&lt;span class="w"&gt; &lt;/span&gt;UUID&lt;span class="w"&gt;                                   &lt;/span&gt;FSAVAIL&lt;span class="w"&gt; &lt;/span&gt;FSUSE%&lt;span class="w"&gt; &lt;/span&gt;MOUNTPOINTS
sda
└─sda1&lt;span class="w"&gt;      &lt;/span&gt;ntfs&lt;span class="w"&gt;                 &lt;/span&gt;Music&lt;span class="w"&gt; &lt;/span&gt;123419620B147062&lt;span class="w"&gt;                         &lt;/span&gt;&lt;span class="m"&gt;37&lt;/span&gt;.4G&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="m"&gt;98&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/hdd7
nvme0n1
├─nvme0n1p1&lt;span class="w"&gt; &lt;/span&gt;vfat&lt;span class="w"&gt;        &lt;/span&gt;FAT32&lt;span class="w"&gt;          &lt;/span&gt;&lt;span class="m"&gt;1234&lt;/span&gt;-B31A&lt;span class="w"&gt;                               &lt;/span&gt;&lt;span class="m"&gt;562&lt;/span&gt;.6M&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="m"&gt;6&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/boot/efi
├─nvme0n1p2&lt;span class="w"&gt; &lt;/span&gt;xfs&lt;span class="w"&gt;                        &lt;/span&gt;1234d41c-4f32-4759-9d14-652ee9c5688f&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="m"&gt;64&lt;/span&gt;.6M&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="m"&gt;93&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/boot
└─nvme0n1p3&lt;span class="w"&gt; &lt;/span&gt;LVM2_member&lt;span class="w"&gt; &lt;/span&gt;LVM2&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;001&lt;/span&gt;&lt;span class="w"&gt;       &lt;/span&gt;1234Wo-pyLw-p278-rTFa-D4ix-7ob1-jEKxpp
&lt;span class="w"&gt;  &lt;/span&gt;├─rl-root&lt;span class="w"&gt; &lt;/span&gt;xfs&lt;span class="w"&gt;                        &lt;/span&gt;12347aef-b5a5-4034-8b01-1449de8cc13f&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="m"&gt;21&lt;/span&gt;.7G&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="m"&gt;69&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/
&lt;span class="w"&gt;  &lt;/span&gt;├─rl-swap&lt;span class="w"&gt; &lt;/span&gt;swap&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt;              &lt;/span&gt;1234c97d-5ec9-4720-84f2-30440f4269d3&lt;span class="w"&gt;                  &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;SWAP&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;└─rl-home&lt;span class="w"&gt; &lt;/span&gt;xfs&lt;span class="w"&gt;                        &lt;/span&gt;1234270f-41f8-4d69-bd4d-43e20c790d82&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="m"&gt;768&lt;/span&gt;.9G&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="m"&gt;9&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/home
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;3个 lv 中，有一个是 swap，另外两个 lv 的文件格式都是 xfs。&lt;/p&gt;
&lt;p&gt;再 &lt;code&gt;df&lt;/code&gt; 一下，作为参考：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;AMD-ZQW-srv&lt;span class="w"&gt; &lt;/span&gt;➜&lt;span class="w"&gt;  &lt;/span&gt;~&lt;span class="w"&gt; &lt;/span&gt;df&lt;span class="w"&gt; &lt;/span&gt;-hT
Filesystem&lt;span class="w"&gt;          &lt;/span&gt;Type&lt;span class="w"&gt;      &lt;/span&gt;Size&lt;span class="w"&gt;  &lt;/span&gt;Used&lt;span class="w"&gt; &lt;/span&gt;Avail&lt;span class="w"&gt; &lt;/span&gt;Use%&lt;span class="w"&gt; &lt;/span&gt;Mounted&lt;span class="w"&gt; &lt;/span&gt;on
devtmpfs&lt;span class="w"&gt;            &lt;/span&gt;devtmpfs&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;.0M&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;.0M&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/dev
tmpfs&lt;span class="w"&gt;               &lt;/span&gt;tmpfs&lt;span class="w"&gt;      &lt;/span&gt;16G&lt;span class="w"&gt;   &lt;/span&gt;84K&lt;span class="w"&gt;   &lt;/span&gt;16G&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/dev/shm
tmpfs&lt;span class="w"&gt;               &lt;/span&gt;tmpfs&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="m"&gt;6&lt;/span&gt;.1G&lt;span class="w"&gt;   &lt;/span&gt;11M&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;6&lt;/span&gt;.1G&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/run
efivarfs&lt;span class="w"&gt;            &lt;/span&gt;efivarfs&lt;span class="w"&gt;  &lt;/span&gt;128K&lt;span class="w"&gt;   &lt;/span&gt;36K&lt;span class="w"&gt;   &lt;/span&gt;88K&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;30&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/sys/firmware/efi/efivars
/dev/mapper/rl-root&lt;span class="w"&gt; &lt;/span&gt;xfs&lt;span class="w"&gt;        &lt;/span&gt;70G&lt;span class="w"&gt;   &lt;/span&gt;49G&lt;span class="w"&gt;   &lt;/span&gt;22G&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;69&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/
/dev/mapper/rl-home&lt;span class="w"&gt; &lt;/span&gt;xfs&lt;span class="w"&gt;       &lt;/span&gt;845G&lt;span class="w"&gt;   &lt;/span&gt;76G&lt;span class="w"&gt;  &lt;/span&gt;769G&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;9&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/home
/dev/nvme0n1p2&lt;span class="w"&gt;      &lt;/span&gt;xfs&lt;span class="w"&gt;       &lt;/span&gt;960M&lt;span class="w"&gt;  &lt;/span&gt;896M&lt;span class="w"&gt;   &lt;/span&gt;65M&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;94&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/boot
/dev/nvme0n1p1&lt;span class="w"&gt;      &lt;/span&gt;vfat&lt;span class="w"&gt;      &lt;/span&gt;599M&lt;span class="w"&gt;   &lt;/span&gt;37M&lt;span class="w"&gt;  &lt;/span&gt;563M&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;7&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/boot/efi
/dev/sda1&lt;span class="w"&gt;           &lt;/span&gt;fuseblk&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.9T&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.8T&lt;span class="w"&gt;   &lt;/span&gt;38G&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;98&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/hdd7
tmpfs&lt;span class="w"&gt;               &lt;/span&gt;tmpfs&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.1G&lt;span class="w"&gt;  &lt;/span&gt;200K&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.1G&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;/run/user/1000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;nvme0n1p3&lt;/code&gt; 分区是一个 pv：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;AMD-ZQW-srv&lt;span class="w"&gt; &lt;/span&gt;➜&lt;span class="w"&gt;  &lt;/span&gt;~&lt;span class="w"&gt; &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;pvs
&lt;span class="w"&gt;  &lt;/span&gt;PV&lt;span class="w"&gt;             &lt;/span&gt;VG&lt;span class="w"&gt; &lt;/span&gt;Fmt&lt;span class="w"&gt;  &lt;/span&gt;Attr&lt;span class="w"&gt; &lt;/span&gt;PSize&lt;span class="w"&gt;   &lt;/span&gt;PFree
&lt;span class="w"&gt;  &lt;/span&gt;/dev/nvme0n1p3&lt;span class="w"&gt; &lt;/span&gt;rl&lt;span class="w"&gt; &lt;/span&gt;lvm2&lt;span class="w"&gt; &lt;/span&gt;a--&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;929&lt;/span&gt;.92g&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;/dev/nvme0n1p3&lt;/code&gt; pv 中的三个 lv 组成一个名为 &lt;code&gt;rl&lt;/code&gt; (Rocky Linux) 的 vg：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;AMD-ZQW-srv&lt;span class="w"&gt; &lt;/span&gt;➜&lt;span class="w"&gt;  &lt;/span&gt;~&lt;span class="w"&gt; &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;vgs
&lt;span class="w"&gt;  &lt;/span&gt;VG&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;#PV #LV #SN Attr   VSize   VFree&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;rl&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;wz--n-&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;929&lt;/span&gt;.92g&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;查看所有的 lv，3 个 lv 分别为 &lt;code&gt;home&lt;/code&gt; &lt;code&gt;root&lt;/code&gt; &lt;code&gt;swap&lt;/code&gt; ，全都属于 vg &lt;code&gt;rl&lt;/code&gt;：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;AMD-ZQW-srv&lt;span class="w"&gt; &lt;/span&gt;➜&lt;span class="w"&gt;  &lt;/span&gt;~&lt;span class="w"&gt; &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;lvs
&lt;span class="w"&gt;  &lt;/span&gt;LV&lt;span class="w"&gt;   &lt;/span&gt;VG&lt;span class="w"&gt; &lt;/span&gt;Attr&lt;span class="w"&gt;       &lt;/span&gt;LSize&lt;span class="w"&gt;    &lt;/span&gt;Pool&lt;span class="w"&gt; &lt;/span&gt;Origin&lt;span class="w"&gt; &lt;/span&gt;Data%&lt;span class="w"&gt;  &lt;/span&gt;Meta%&lt;span class="w"&gt;  &lt;/span&gt;Move&lt;span class="w"&gt; &lt;/span&gt;Log&lt;span class="w"&gt; &lt;/span&gt;Cpy%Sync&lt;span class="w"&gt; &lt;/span&gt;Convert
&lt;span class="w"&gt;  &lt;/span&gt;home&lt;span class="w"&gt; &lt;/span&gt;rl&lt;span class="w"&gt; &lt;/span&gt;-wi-ao----&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;&lt;span class="m"&gt;844&lt;/span&gt;.63g
&lt;span class="w"&gt;  &lt;/span&gt;root&lt;span class="w"&gt; &lt;/span&gt;rl&lt;span class="w"&gt; &lt;/span&gt;-wi-ao----&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;70&lt;/span&gt;.00g
&lt;span class="w"&gt;  &lt;/span&gt;swap&lt;span class="w"&gt; &lt;/span&gt;rl&lt;span class="w"&gt; &lt;/span&gt;-wi-ao----&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;15&lt;/span&gt;.29g
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo lvmdevices --adddev /dev/nvme1n1p3
sudo pvscan
sudo vgchange -ay
sudo lvs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;dnf 和 rpm&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Rocky Linux&lt;/code&gt; 使用 &lt;code&gt;dnf&lt;/code&gt; 和 &lt;code&gt;rpm&lt;/code&gt; 管理软件包。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;功能&lt;/th&gt;
&lt;th&gt;命令&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;查找软件包&lt;/td&gt;
&lt;td&gt;&lt;code&gt;dnf search &amp;lt;关键词&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;安装软件包&lt;/td&gt;
&lt;td&gt;&lt;code&gt;dnf install &amp;lt;软件包名&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;删除软件包&lt;/td&gt;
&lt;td&gt;&lt;code&gt;dnf remove &amp;lt;软件包名&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;更新所有包&lt;/td&gt;
&lt;td&gt;&lt;code&gt;dnf upgrade&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;查看包信息&lt;/td&gt;
&lt;td&gt;&lt;code&gt;dnf info &amp;lt;软件包名&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;清理缓存&lt;/td&gt;
&lt;td&gt;&lt;code&gt;dnf clean all&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;显示所有可更新包&lt;/td&gt;
&lt;td&gt;&lt;code&gt;dnf check-update&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;启用/禁用源&lt;/td&gt;
&lt;td&gt;&lt;code&gt;dnf config-manager --set-enabled &amp;lt;repo&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;查看软件源&lt;/td&gt;
&lt;td&gt;&lt;code&gt;dnf repolist&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;工具&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;rpm&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;管理单个 &lt;code&gt;.rpm&lt;/code&gt; 包（安装、查询、卸载等）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;dnf&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;依赖于 &lt;code&gt;rpm&lt;/code&gt;&lt;/strong&gt;，自动处理依赖，连接仓库&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;zsh&lt;/h2&gt;
&lt;h2&gt;硬盘挂载&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;etc/systemd/system/hdd1.mount&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[Unit]&lt;/span&gt;
&lt;span class="na"&gt;Description&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;Mount hdd1&lt;/span&gt;
&lt;span class="c1"&gt;# After=local-fs.target&lt;/span&gt;

&lt;span class="k"&gt;[Mount]&lt;/span&gt;
&lt;span class="na"&gt;What&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/dev/sda1&lt;/span&gt;
&lt;span class="na"&gt;Where&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;/hdd1&lt;/span&gt;
&lt;span class="na"&gt;Type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;ntfs&lt;/span&gt;
&lt;span class="na"&gt;Options&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;defaults,uid=1000,gid=1000&lt;/span&gt;

&lt;span class="k"&gt;[Install]&lt;/span&gt;
&lt;span class="na"&gt;WantedBy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;multi-user.target&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;journalctl 查看日志&lt;/h2&gt;
&lt;h2&gt;Podman(Docker)&lt;/h2&gt;
&lt;p&gt;以 NextCloud为例&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;~/.config/containers/systemd/nextcloud.pod
&lt;span class="o"&gt;[&lt;/span&gt;Pod&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;PodName&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloud
&lt;span class="nv"&gt;Network&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;bridge
&lt;span class="nv"&gt;PublishPort&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;xxxx:80

&lt;span class="o"&gt;[&lt;/span&gt;Install&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;WantedBy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;default.target
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;~/.config/containers/systemd/nextcloud-app.container
&lt;span class="o"&gt;[&lt;/span&gt;Container&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;docker.io/library/nextcloud:apache
&lt;span class="nv"&gt;Pod&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloud.pod
&lt;span class="nv"&gt;ContainerName&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloud-app
&lt;span class="nv"&gt;Volume&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/XXX/data:/var/www/html:Z
&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;MYSQL_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloudpass
&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;MYSQL_DATABASE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloud
&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;MYSQL_USER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloud
&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;MYSQL_HOST&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloud-db
&lt;span class="c1"&gt;#Environment=NEXTCLOUD_ADMIN_USER=admin&lt;/span&gt;
&lt;span class="c1"&gt;#Environment=NEXTCLOUD_ADMIN_PASSWORD=adminpass&lt;/span&gt;
&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;NEXTCLOUD_TRUSTED_DOMAINS=192.168.0.XX xx.xxx.com&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#Exec=sleep infinity&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;~/.config/containers/systemd/nextcloud-db.container
&lt;span class="o"&gt;[&lt;/span&gt;Container&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;Image&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;docker.io/library/mariadb:10.6
&lt;span class="nv"&gt;Pod&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloud.pod
&lt;span class="nv"&gt;ContainerName&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloud-db
&lt;span class="nv"&gt;Volume&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/XXX/db:/var/lib/mysql:Z
&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;rootpass
&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;MYSQL_PASSWORD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloudpass
&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;MYSQL_DATABASE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloud
&lt;span class="nv"&gt;Environment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;MYSQL_USER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;nextcloud
&lt;span class="c1"&gt;#Exec=sleep infinity&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;loginctl&lt;span class="w"&gt; &lt;/span&gt;enable-linger&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;user&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;quadlet&lt;/code&gt;是一次性读取所有的&lt;code&gt;.pod&lt;/code&gt; &lt;code&gt;.container&lt;/code&gt; 文件，所以只要有一个格式不对，就会导致所有的文件都不能生成相应的服务。可以用如下命令测试，看看是哪个文件格式有问题：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/usr/lib/systemd/system-generators/podman-system-generator&lt;span class="w"&gt; &lt;/span&gt;--user&lt;span class="w"&gt; &lt;/span&gt;--dryrun
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;SELinux&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;部分&lt;/th&gt;
&lt;th&gt;含义说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;sudo&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;以超级用户身份运行命令&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;semanage&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;SELinux 管理工具，用来配置策略（如端口、文件类型等）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;port&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;操作对象是“端口”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;-a&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;添加一个新记录（a = add）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;-t ssh_port_t&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;设置这个端口的类型为 &lt;code&gt;ssh_port_t&lt;/code&gt;（也就是允许 &lt;code&gt;sshd&lt;/code&gt; 使用）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;-p tcp&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;协议类型为 TCP（SSH 是基于 TCP 的）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;2222&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;要添加的新端口号&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;添加端口&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;semanage&lt;span class="w"&gt; &lt;/span&gt;port&lt;span class="w"&gt; &lt;/span&gt;-a&lt;span class="w"&gt; &lt;/span&gt;-t&lt;span class="w"&gt; &lt;/span&gt;http_port_t&lt;span class="w"&gt; &lt;/span&gt;-r&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;s0&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;tcp&lt;span class="w"&gt; &lt;/span&gt;xxxx

sudo&lt;span class="w"&gt; &lt;/span&gt;semanage&lt;span class="w"&gt; &lt;/span&gt;port&lt;span class="w"&gt; &lt;/span&gt;-a&lt;span class="w"&gt; &lt;/span&gt;-t&lt;span class="w"&gt; &lt;/span&gt;http_port_t&lt;span class="w"&gt; &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;tcp&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;8096&lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;semanage&lt;span class="w"&gt; &lt;/span&gt;port&lt;span class="w"&gt; &lt;/span&gt;-a&lt;span class="w"&gt; &lt;/span&gt;-t&lt;span class="w"&gt; &lt;/span&gt;http_port_t&lt;span class="w"&gt; &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;tcp&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;8920&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;允许访问目录，以及递归的子目录&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;semanage&lt;span class="w"&gt; &lt;/span&gt;fcontext&lt;span class="w"&gt; &lt;/span&gt;-a&lt;span class="w"&gt; &lt;/span&gt;-f&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;-t&lt;span class="w"&gt; &lt;/span&gt;container_file_t&lt;span class="w"&gt; &lt;/span&gt;-r&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;s0&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/home/zqw(/.*)?&amp;#39;&lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;restorecon&lt;span class="w"&gt; &lt;/span&gt;-Rv&lt;span class="w"&gt; &lt;/span&gt;/home/zqw/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;查看 SELinux 状态：
&lt;code&gt;getenforce&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;关闭：
&lt;code&gt;setenforce 0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;开启：
&lt;code&gt;setenforce 1&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;Firewall&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cm"&gt;&amp;lt;!-- /etc/firewalld/services/emby.xml --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;service&amp;gt;&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;short&amp;gt;&lt;/span&gt;Emby&lt;span class="nt"&gt;&amp;lt;/short&amp;gt;&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;description&amp;gt;&lt;/span&gt;Media&lt;span class="w"&gt; &lt;/span&gt;server&lt;span class="nt"&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;port&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;protocol=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tcp&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;port=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;8096&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;port&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;protocol=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tcp&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="na"&gt;port=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;8920&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/service&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;firewall-cmd&lt;span class="w"&gt; &lt;/span&gt;--permanent&lt;span class="w"&gt; &lt;/span&gt;--add-service&lt;span class="o"&gt;=&lt;/span&gt;emby
sudo&lt;span class="w"&gt; &lt;/span&gt;firewall-cmd&lt;span class="w"&gt; &lt;/span&gt;--reload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Rsync&lt;/h2&gt;
&lt;p&gt;远程同步&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;rsync -av --delete --info=progress2 -e &amp;#39;ssh -p ****&amp;#39; ./music/ ***@***.***:/hdd1/musiclib/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Systemctl&lt;/h2&gt;
&lt;h2&gt;初始化与用户、权限管理&lt;/h2&gt;
&lt;p&gt;出于安全考虑修改 &lt;code&gt;ssh&lt;/code&gt; 的默认端口。
修改 &lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt; 中的 &lt;code&gt;Port&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;semanage port -a -t ssh_port_t -p tcp #PORTNUMBER&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;firewall-cmd --permanent --add-port=2222/tcp&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;firewall-cmd --reload&lt;/code&gt;
&lt;code&gt;systemctl restart sshd&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;chsh -s /usr/bin/zsh&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;引导&lt;/h2&gt;
&lt;p&gt;ESP (EFI System Partition)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;sudo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;efibootmgr&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;create&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;\
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;disk&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sdX&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;\
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;part&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;\
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;RockyLinux-GRUB&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;\
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;loader&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;\EFI&lt;/span&gt;&lt;span class="se"&gt;\r&lt;/span&gt;&lt;span class="s2"&gt;ocky\grubx64.efi&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;/dev/sdX 是你的 EFI 分区所在的磁盘，比如 /dev/sda&lt;/p&gt;
&lt;p&gt;Y 是该 EFI 分区在该盘上的分区号，比如是 /dev/sda1，那就是 --part 1&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo efibootmgr --bootorder 0005
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo efibootmgr --bootnum 0002 --delete-bootnum
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Kdump&lt;/h2&gt;
&lt;h2&gt;rsync&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;rsync -ah --info=progress2 ../home_old/zqw/immich-app ./immich-app
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;-a&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;归档模式，保留权限、时间戳、符号链接等&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;-v&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;verbose，显示详细信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;-h&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;human-readable，以 KB/MB 显示文件大小&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;--progress&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;显示每个文件的复制进度&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;/source/path/&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;结尾有 &lt;code&gt;/&lt;/code&gt; 表示复制&lt;strong&gt;目录内容&lt;/strong&gt;（而非目录本身）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;/destination/path/&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;目标路径，需有写权限&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;--info=progress2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;显示总进度&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;WordPress 迁移&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;wp-settings.php&lt;/code&gt; 中添加：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="x"&gt;define(&amp;#39;WP_HOME&amp;#39;, &amp;#39;http://your.new.domain&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt;define(&amp;#39;WP_SITEURL&amp;#39;, &amp;#39;http://your.new.domain&amp;#39;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;用&lt;code&gt;wp-cli&lt;/code&gt;替换旧域名：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;curl&lt;span class="w"&gt; &lt;/span&gt;-O&lt;span class="w"&gt; &lt;/span&gt;https://raw.githubusercontent.com/wp-cli/builds/gh-pages/phar/wp-cli.phar
chmod&lt;span class="w"&gt; &lt;/span&gt;+x&lt;span class="w"&gt; &lt;/span&gt;wp-cli.phar
mv&lt;span class="w"&gt; &lt;/span&gt;wp-cli.phar&lt;span class="w"&gt; &lt;/span&gt;/usr/local/bin/wp

wp&lt;span class="w"&gt; &lt;/span&gt;--info

&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/var/www/html
wp&lt;span class="w"&gt; &lt;/span&gt;search-replace&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;http://xxx.xxx&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;http://xxx.xxx.xxx.xxx:xxxx&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--all-tables&lt;span class="w"&gt; &lt;/span&gt;--allow-root
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;致谢&lt;/h2&gt;
&lt;p&gt;所有为 ChatGPT 提供训练素材的人。&lt;/p&gt;</content><category term="未分类"></category></entry><entry><title>研六一年，延期一年，鹅城半载———从品园到百草园，再从百草园到龙光城</title><link href="https://zqw.ink/2025-04-06-blog-baicaoyuan_huizhou.html" rel="alternate"></link><published>2025-04-06T00:00:00+08:00</published><updated>2025-04-06T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2025-04-06:/2025-04-06-blog-baicaoyuan_huizhou.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;总结&lt;/li&gt;
&lt;li&gt;深圳&lt;/li&gt;
&lt;li&gt;延期&lt;/li&gt;
&lt;li&gt;毕业&lt;/li&gt;
&lt;li&gt;鹅城&lt;/li&gt;
&lt;li&gt;惠州&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;序&lt;/h2&gt;
&lt;p&gt;从 2022 年 9 月 14 日的《研五下学期总结》，已经过去了两年半的时间。&lt;/p&gt;
&lt;p&gt;遗憾的是，并没有如《研五下 …&lt;/p&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;总结&lt;/li&gt;
&lt;li&gt;深圳&lt;/li&gt;
&lt;li&gt;延期&lt;/li&gt;
&lt;li&gt;毕业&lt;/li&gt;
&lt;li&gt;鹅城&lt;/li&gt;
&lt;li&gt;惠州&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;序&lt;/h2&gt;
&lt;p&gt;从 2022 年 9 月 14 日的《研五下学期总结》，已经过去了两年半的时间。&lt;/p&gt;
&lt;p&gt;遗憾的是，并没有如《研五下学期总结》中所说，能够按时毕业。&lt;/p&gt;
&lt;p&gt;令人满意的是，找到了一个心仪的博后。&lt;/p&gt;
&lt;h2&gt;研六上&lt;/h2&gt;
&lt;h3&gt;学业上&lt;/h3&gt;
&lt;p&gt;2022年秋冬，研六上学期，主要在为毕业准备两个事情。&lt;/p&gt;
&lt;p&gt;一是准备同步阻塞的文章，准备用来毕业。但是，此时合作老师建议重新调整一下，投 PRL。
所以又重新画图。此时，这个工作能在 2023 年 3 月份前接收，这个念头从我脑中消失，不再抱有希望。
这个工作在研六上学期结束后的寒假，春节过后，才投出去。&lt;/p&gt;
&lt;p&gt;这个学期的另一个事情，是写 rf 谱的文章，这成了我可能按时毕业的一线希望。如果能够尽快写好，投 CTP，然后一个月被接收，就有按时毕业的希望。然而，几乎没有进展。&lt;/p&gt;
&lt;p&gt;同时，这个学期也联系了香港大学的一个老师，他也有空位，欢迎到时再联系。&lt;/p&gt;
&lt;h3&gt;生活&lt;/h3&gt;
&lt;p&gt;这是从深圳回来后的第一个学期，组里的人员发生了变化，舒哥和 cy 毕业了，xc 加入到了组里。组里也产生了新的大师姐，大师兄。人员变化，大家之间的关系也有变化。之前不怎么熟悉的成员变得更加熟悉。&lt;/p&gt;
&lt;h3&gt;疫情&lt;/h3&gt;
&lt;p&gt;也是在这个学期，大家几乎都阳了，清零政策再也执行不下去。&lt;/p&gt;
&lt;p&gt;全面解封的前几天，学校里出现阳的，哪个宿舍楼里有阳的，就当天早上封楼。
我也总是想，早上早点出宿舍，就不至于在宿舍荒废一天。去不了北园，就在明德楼找教室上自习。&lt;/p&gt;
&lt;p&gt;清楚地记得，在巨大的毕业压力下，在兵荒马乱的疫情下，我竟然一大早起来，跑到明德楼的教室，就我一个人在教室里，看高等量子力学，理解之前疑惑和不清晰的地方，大概是含时微扰那一部分。一方面，是我菜，一方面，有点浪漫主义的感觉。&lt;/p&gt;
&lt;p&gt;终于，我也阳了，2022 年 12 月 13 日 21 点 56 分，就是在明德楼开心地看了一天高等量子力学，回到宿舍之后，体温烧起来了，37度7。发烧，浑身疼得整晚没睡着觉，还是头一回经历。&lt;/p&gt;
&lt;p&gt;14 日，白天吃了布洛芬胶囊退烧，晚上又烧起来，又吃了一颗。&lt;/p&gt;
&lt;p&gt;15 日，21 点，38度6。&lt;/p&gt;
&lt;p&gt;16 日，下午，终于不发烧了，但是嗓子疼。然后就窝在宿舍看《走向共和》，看了两天。&lt;/p&gt;
&lt;p&gt;18 日，去校医院领了一盒《菊蓝抗流感片》，一盒《止咳宝片》，学校还发了中药包。不过，最救命了还是那两粒布洛芬胶囊。&lt;/p&gt;
&lt;p&gt;19 日，转阴了。之后就是长达一个月的咳嗽。&lt;/p&gt;
&lt;p&gt;问了问家里的人也都阳了，回家过年了。疫情就这么过去了。&lt;/p&gt;
&lt;h2&gt;研六下&lt;/h2&gt;
&lt;p&gt;2023年，春节过后，返校。疫情也结束了。也确定延期了。&lt;/p&gt;
&lt;p&gt;这三年对所有中国人来说，都是不同的。其中一大部分人，像是失去的三年。&lt;/p&gt;
&lt;p&gt;如果你这三年是高中生。&lt;/p&gt;
&lt;p&gt;如果你这三年恰好是大学生，那可真是。&lt;/p&gt;
&lt;p&gt;我这三年，刚好转成博士生，津贴变多了。但是，没怎么开会，也没怎么有什么新鲜的事情。真就人生刚刚经济独立，并且有些富余时，就是这三年。所以对我来说，像是失去的三年。&lt;/p&gt;
&lt;p&gt;确定延期后，有点放松了。像是紧张了好久，毕业压力，加上疫情。一旦真正确定要延期之后，甚至有点向往在校外的全新生活。因为计划在下个学期，搬到舒哥和小马哥那里。而且经济上，齐老师也给予了支持。我算是幸运，有导师的经济支持，有朋友的住所接济。&lt;/p&gt;
&lt;p&gt;还去上了张老师在研究生院开的《量子光学》课。&lt;/p&gt;
&lt;p&gt;在 6 月 3 号的时候，买了美芬超极眼镜蛇蓝，以及雅马哈 THR 音箱！&lt;/p&gt;
&lt;p&gt;这个学期，把同步阻塞，现在变成了 No-go theorem ，的文章投出去了，也很快就收到了审稿意见，但是就卡住了，拖住了。反而，是趋肤效应的工作，算完，丝滑地投出去，在暑假被接收。这样，终于有一篇文章用来毕业！&lt;/p&gt;
&lt;p&gt;学期末的时候，和舒哥小马哥去看房子，之后组里的大家，帮我搬到时茉莉园。然后过了几天，就到了百草园。接下来一年多，就住在了百草园。从品园，经过茉莉园，到百草园。&lt;/p&gt;
&lt;p&gt;舒哥住主卧，马哥住次卧，我住在客厅的“大炕”上。&lt;/p&gt;
&lt;p&gt;有个厨房，是全新的体验。我开始尝试做饭。不过也就煮个面条什么的。我觉得在做饭方面，我是天赋异禀的。&lt;/p&gt;
&lt;p&gt;在7月分左右的时候，也就是暑假的时候，玩《晶核》。有点好玩，PK让人上头，晚上一下打到一两点，不能打了。但是之后头脑兴奋，也不能立马睡着，就躺在“大炕”上，看着天一点一点亮了。由于是新游戏，我建了一个舰队，没想到没几天人数就爆满。没过多久，舒哥有了新宠，不玩《晶核》了，一个人玩也没什么意思，就弃坑了。意外的是，没想到这个舰队还卖了150。第一次玩游戏赚到钱，值了。&lt;/p&gt;
&lt;p&gt;七月底的时候，自己组了一个NAS，自己选各种配件。然后选系统。非常有意思。现在还在304放着，一直运行。&lt;/p&gt;
&lt;p&gt;2023年的夏天，暑假去郑州开了冷原子会。很意思，但是没有写一篇博客记录一下。唱ktv，吃生蚝自助，玩柏青哥，买盲盒。&lt;/p&gt;
&lt;p&gt;暑假的时候，也终于要着手写 rf 谱的文章了。&lt;/p&gt;
&lt;p&gt;仿佛，这个学期，才是2020年春天的，博一。&lt;/p&gt;
&lt;h2&gt;研七上&lt;/h2&gt;
&lt;p&gt;研七上，延期上。2023年9月。开学没几天，就决定了再延期半年。&lt;/p&gt;
&lt;p&gt;这学期是在百草园度过的第一个学期。在百草园和学校之前通勤。坐二层公交。果真人对时间的感觉是对数的，现在的我，明明每一个小学同学的名字都记得很清楚，却不记得两年前坐了一年的公交是几路。如果记忆从5岁算起，小学的有效时候长度是 $\ln(13-5) \ln(7-5) \approx 1.386$ ，而百草园的通勤时光不过是 $\ln(29-5) \ln(28-5) \approx 0.043$ 。&lt;/p&gt;
&lt;p&gt;9月26，大家一起去了深圳，第一次去深技大。晚上一起去堕落街吃饭，去海滩玩滑沙，第一次出境，去香港玩到很晚才回，去澳门更是战到凌晨，在车上过夜。&lt;/p&gt;
&lt;p&gt;从深圳回到北京，分到了宿舍。本来想冬天的时候，如果懒了，可以住在学校。就买了所有的宿舍用品。结果却是一次没用过，来看夏天毕业的时候，又把全新的宿舍用品搬了出来。&lt;/p&gt;
&lt;p&gt;10月份的时候，还兴致勃勃的去北科参加了ASML的招聘，还参加了当场的笔试。然后之前再也没有收到他们的消息。这大概是目前为止我唯一一次参加某个企业的招聘了。&lt;/p&gt;
&lt;p&gt;延期还是有压力的，不过感谢我的导师，至少没有让我在经济方面有压力。在11月2号，大概是双11预热的时候，买了一把贝斯。&lt;/p&gt;
&lt;p&gt;记不清在百草园，有多少次，大家来百草草园一起玩。在去了龙光城后，就几乎再没有那样的体验，即使我买了新出的马里奥派队。&lt;/p&gt;
&lt;p&gt;11月20号，我收到了全球限量1份的延期帆布包。&lt;/p&gt;
&lt;p&gt;11月21号的时候，我又买了XBOX，也许是用购物发泄延期的压力，也许是单纯想玩。&lt;/p&gt;
&lt;p&gt;12月份的时候，终于把rf谱的文章投了出去。&lt;/p&gt;
&lt;h2&gt;研七下&lt;/h2&gt;
&lt;p&gt;终于要在这个学期毕业了。在29岁生日这天，我的RF谱的被接收了！&lt;/p&gt;
&lt;p&gt;写毕业论文。送匿名评审。改毕业论文。答辩。&lt;/p&gt;
&lt;p&gt;学生生涯的最后一个学期。&lt;/p&gt;
&lt;p&gt;这学期自己做饭的次数少了，减肥事业也迎来了巅峰，66公斤左右。&lt;/p&gt;
&lt;p&gt;在准备答辩的同时，也在找博后的位置。发了好多邮件，期待回复。&lt;/p&gt;
&lt;p&gt;在找博后位置的同时，突然心血来潮，又是烫头，又是打羽毛球，认识了非常好的朋友。
虽然有一丝丝遗憾，但是我觉得我的学生生涯可以圆满结束了。&lt;/p&gt;
&lt;p&gt;在五一的时候，大奔和阿斯旺来找我玩了。七年没见了，大奔成为了战神，阿斯旺变得有沧桑。&lt;/p&gt;
&lt;p&gt;在毕业的事情基本完成之后，去杭州找了坤哥，去上海找了建国。算是毕业旅行。这是第一次以旅行为目的的独自远行。&lt;/p&gt;
&lt;p&gt;毕业之后暑假去了重庆冷原子。吃重庆火锅，去重庆的各个景点玩，在街头演出的地方点歌，这也算是毕业旅行吧。&lt;/p&gt;
&lt;p&gt;8月份的时候从北京回家，去济南找了老师口中的好学生刘老板。这也是毕业旅行的一部分的。&lt;/p&gt;
&lt;h2&gt;南下之旅&lt;/h2&gt;
&lt;p&gt;8 月底回到百草园，在进行了一个月的告别之后，我和舒哥先行一步，在 9 月份准备南下。&lt;/p&gt;
&lt;p&gt;9 月 17 号的晚上，我们打包完所有的行李，一部分寄到鹅城，一部分寄回家。打扫完了百草园的房间。我们 18 号南下的车票，所以 17 号是在搓澡城过的夜。去搓澡城之前，我记得去了大师兄家里，还玩了会游戏。之后我们到搓澡城的时候已经很晚了。而且是骑的共享单车。&lt;/p&gt;
&lt;p&gt;现在回想起来就挺神奇的。俩人大半夜骑共享单车去搓澡城过夜。半路上饿了，还去 KFC 还是金拱门吃饭。还在里面碰到了在里面吵架。&lt;/p&gt;
&lt;p&gt;第二天醒来就已经中午了，下午和舒哥一个朋友去餐厅吃了饭。之后便在地铁站分别。&lt;/p&gt;
&lt;p&gt;我们买的车票是 18 号 17:36 出发，第二天早上 6:50 到时苏州的动卧。这还是我第一次坐卧铺。说实话体验很不好。空间小。可能我是上铺，还冷。没怎么睡好，只是一直昐天亮到站。&lt;/p&gt;
&lt;p&gt;19 号早上到了酒店。之后和舒哥同学在苏州逛了一天。&lt;/p&gt;
&lt;p&gt;20 号早上吃了生煎。好吃。我记得舒哥一咬，直接给喷到对面座位上了。有点搞。12 点 37 乘上去厦门的车，晚上 9 点 7 分到厦门北。打车去了厦大在荒山上的那个校区去找曹爷。曹爷的住处是极简风格，没啥娱乐的。我们去超市买了点吃的就睡了。也睡得不咋样。&lt;/p&gt;
&lt;p&gt;21 号一大早我就扫了个共享电动车在他们学校转了一大圈。之后我们在学校附近吃了午餐。下午打车进城。找了个海景房，看了个电影。下午在高级饭店吃了个饭。然后去抓娃娃抓了不少，还便宜。晚上在附近转了转。&lt;/p&gt;
&lt;p&gt;22 号早上（或者是中午）去了一家具有本地特色的饭店，还不错。之后便搭乘 13:19 出发去深圳北的车。16:09 到了深圳。&lt;/p&gt;
&lt;h2&gt;鹅城 GAP&lt;/h2&gt;
&lt;p&gt;刚到深圳，晚上和小戴还有郭一起吃了晚饭。之后便搭车去坪山，入住 1034。之后便是好几天找房子，还体验了电竞房和一些民宿。&lt;/p&gt;
&lt;p&gt;最终找到了大叠墅。&lt;/p&gt;
&lt;p&gt;在大叠墅里的半年，也体验了不同的生活。天台烧烤用吹风机，尝试做饭，一直去吃潮汕牛肉自助。非常有趣的半年。&lt;/p&gt;
&lt;p&gt;期间也完成了博后的正式面试，申请签证。&lt;/p&gt;
&lt;p&gt;找博后的房子也是在这完成的。&lt;/p&gt;
&lt;p&gt;直到 2024年的 3 月底，在迎来而立之年不久，便离开鹅城，去往神户，开始新的旅程！&lt;/p&gt;</content><category term="未分类"></category></entry><entry><title>在博客中嵌入 JavaScript 之 Plotly.js</title><link href="https://zqw.ink/2024-10-26-coding-plotlyjs.html" rel="alternate"></link><published>2024-10-26T00:00:00+08:00</published><updated>2024-10-26T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2024-10-26:/2024-10-26-coding-plotlyjs.html</id><summary type="html">&lt;script src="https://unpkg.com/mathjs@13.2.0/lib/browser/math.js"&gt;&lt;/script&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.35.0/plotly.min.js"&gt;&lt;/script&gt;

&lt;form id="form", class="img-like"&gt;
  &lt;label for="eq"&gt;Enter an equation: f(x)=&lt;/label&gt;
  &lt;input type="text" id="eq" value="sin(x)" /&gt;
  &lt;input type="submit" value="Draw" /&gt;
&lt;/form&gt;

&lt;div id="plot" class="img-like"&gt;&lt;/div&gt;

&lt;script&gt;

        window.MathJax.loader = { load: ['output/svg'] };
        window.MathJax.startup = {
            ready() {
                MathJax.startup.defaultReady();
                draw("plot");
            }
        }

async function draw(idToPlot) {
    try {
        // compile the expression once
        const expression = document.getElementById('eq').value;
        const expr = math.compile(expression);

        // evaluate the expression repeatedly for different values of x
        const …&lt;/script&gt;</summary><content type="html">&lt;script src="https://unpkg.com/mathjs@13.2.0/lib/browser/math.js"&gt;&lt;/script&gt;
&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.35.0/plotly.min.js"&gt;&lt;/script&gt;

&lt;form id="form", class="img-like"&gt;
  &lt;label for="eq"&gt;Enter an equation: f(x)=&lt;/label&gt;
  &lt;input type="text" id="eq" value="sin(x)" /&gt;
  &lt;input type="submit" value="Draw" /&gt;
&lt;/form&gt;

&lt;div id="plot" class="img-like"&gt;&lt;/div&gt;

&lt;script&gt;

        window.MathJax.loader = { load: ['output/svg'] };
        window.MathJax.startup = {
            ready() {
                MathJax.startup.defaultReady();
                draw("plot");
            }
        }

async function draw(idToPlot) {
    try {
        // compile the expression once
        const expression = document.getElementById('eq').value;
        const expr = math.compile(expression);

        // evaluate the expression repeatedly for different values of x
        const xValues = math.range(-10, 10, 0.1).toArray();
        const yValues = xValues.map(function (x) {
            return expr.evaluate({ x: x })
        });

        // render the plot using plotly
        const trace1 = {
            x: xValues,
            y: yValues,
            type: 'scatter'
        };
        const layout = {
            title: 'Plot Example',
            xaxis: {title: {text: '$x$'},
                    showgrid: false,
                    // linecolor: 'blue',
                    // zerolinecolor: 'red'
                    },
            yaxis: {title: {text: '$f(x)$'}, showgrid: false},
            paper_bgcolor: "rgba(255, 200, 200, 0)",
            plot_bgcolor: "rgba(200, 200, 255, 0)",
            gridcolor:"rgba(0, 0, 255, 1)",
            autosize: true
        };
        const config = {
            responsive: false,
        };

        await Plotly.newPlot(idToPlot, [trace1], layout, config);
        MathJax.typesetPromise();
    }
    catch (err) {
        console.error(err)
        alert(err)
    }
};

document.getElementById('form').onsubmit = function (event) {
    event.preventDefault()
    draw("plot")
};
&lt;/script&gt;

&lt;h2&gt;JavaScript Code&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;MathJax&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;loader&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;load&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;output/svg&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;MathJax&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;startup&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;ready&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="nx"&gt;MathJax&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;startup&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;defaultReady&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="nx"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;plot&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;async&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;idToPlot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="c1"&gt;// compile the expression once&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kd"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;expression&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getElementById&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;eq&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;value&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kd"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;expr&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;math&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;expression&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="c1"&gt;// evaluate the expression repeatedly for different values of x&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kd"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;xValues&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;math&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;toArray&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kd"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;yValues&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;xValues&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;expr&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;evaluate&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;

&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="c1"&gt;// render the plot using plotly&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kd"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;trace1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;xValues&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;y&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;yValues&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;scatter&amp;#39;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kd"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;layout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;title&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Plot Example&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;title&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;text&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$x$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="nx"&gt;showgrid&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="c1"&gt;// linecolor: &amp;#39;blue&amp;#39;,&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="c1"&gt;// zerolinecolor: &amp;#39;red&amp;#39;&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;yaxis&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;title&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;text&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$f(x)$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;showgrid&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;paper_bgcolor&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;rgba(255, 200, 200, 0)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;plot_bgcolor&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;rgba(200, 200, 255, 0)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;gridcolor&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;rgba(0, 0, 255, 1)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;autosize&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kd"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;config&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;responsive&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;await&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;Plotly&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;newPlot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;idToPlot&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;trace1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;layout&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;config&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nx"&gt;MathJax&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;typesetPromise&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;catch&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;err&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;err&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nx"&gt;alert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;err&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getElementById&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;form&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;onsubmit&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;event&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;preventDefault&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;plot&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://mathjs.org/examples/browser/plot.html.html"&gt;https://mathjs.org/examples/browser/plot.html.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/plotly/plotly.js/pull/6073"&gt;https://github.com/plotly/plotly.js/pull/6073&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ChatGPT 4o&lt;/li&gt;
&lt;/ul&gt;</content><category term="未分类"></category><category term="[javascript"></category><category term="plotly]"></category></entry><entry><title>博客第二次改版的说明及一些笔记</title><link href="https://zqw.ink/2024-10-24-pelican_blog.html" rel="alternate"></link><published>2024-10-24T00:00:00+08:00</published><updated>2024-10-24T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2024-10-24:/2024-10-24-pelican_blog.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;blog&lt;/li&gt;
&lt;li&gt;python&lt;/li&gt;
&lt;li&gt;pelican&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#升级说明"&gt;升级说明&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#升级博客过程中的笔记由-chatgpt-生成"&gt;升级博客过程中的笔记(由 ChatGPT 生成)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#类型注解"&gt;类型注解&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#itertoolschain"&gt;&lt;code&gt;itertools.chain&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#示例代码使用-️-multiprocessingqueue-实现生产者-消费"&gt;示例代码：使用 🛠️ multiprocessing.Queue 实现生产者-消费&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#示例代码使用--while-true-实现无限循环的应用"&gt;示例代码：使用 🔄 while True …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;blog&lt;/li&gt;
&lt;li&gt;python&lt;/li&gt;
&lt;li&gt;pelican&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#升级说明"&gt;升级说明&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#升级博客过程中的笔记由-chatgpt-生成"&gt;升级博客过程中的笔记(由 ChatGPT 生成)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#类型注解"&gt;类型注解&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#itertoolschain"&gt;&lt;code&gt;itertools.chain&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#示例代码使用-️-multiprocessingqueue-实现生产者-消费"&gt;示例代码：使用 🛠️ multiprocessing.Queue 实现生产者-消费&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#示例代码使用--while-true-实现无限循环的应用"&gt;示例代码：使用 🔄 while True 实现无限循环的应用&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#1-实现用户输入验证"&gt;1. 实现用户输入验证&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2-服务器监听-️"&gt;2. 服务器监听 🖥️&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3-多进程的任务分配-"&gt;3. 多进程的任务分配 👥🔄&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#动态导入的使用场景"&gt;动态导入的使用场景&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#getattr-的用法"&gt;&lt;code&gt;getattr()&lt;/code&gt; 的用法&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#示例代码"&gt;示例代码&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#注意事项"&gt;注意事项&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#使用注意事项-️"&gt;使用注意事项 ⚠️&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#acknowledge"&gt;Acknowledge&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;升级说明&lt;/h2&gt;
&lt;p&gt;最近终于能抽出一些时间, 打算把博客升级一下, 修复之前的一些 bug.
但是发现之前写的程序很乱. 而且当时水平不如现在, 程序思路很乱.
这次过了两年多, 决定使用 &lt;a href="https://getpelican.com/"&gt;&lt;code&gt;Pelican&lt;/code&gt;&lt;/a&gt; 生成, 然后再使用一些插件, 自己写一些插件, 把原来的主题移植过来. 就成为了现在呈现的版本.&lt;/p&gt;
&lt;p&gt;之前自己写静态博客生成器原因是:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本站的需求比较简单&lt;/li&gt;
&lt;li&gt;想要练习写程序&lt;/li&gt;
&lt;li&gt;Hexo 等, 更新之后有时会产生一些兼容问题&lt;/li&gt;
&lt;li&gt;难以随心所欲的修改博客的样式, 添加一些新的页面, 组件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;现在使用 &lt;a href="https://getpelican.com/"&gt;&lt;code&gt;Pelican&lt;/code&gt;&lt;/a&gt; 的原因是&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;练习写程序. 由于博客源文件中有一些格式比较特别, 所有要自己设置一下. 这个过程中了解了 &lt;a href="https://getpelican.com/"&gt;&lt;code&gt;Pelican&lt;/code&gt;&lt;/a&gt; 的插件机制, 学些到了&lt;a href="#升级博客过程中的笔记由-chatgpt-生成"&gt;许多知识&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;由于现在会自己写插件, 所以兼容行问题可以自己解决了. 同时也学会了自己写主题, 可以随心所欲的修改博客的样式.&lt;/li&gt;
&lt;li&gt;之前的需求都实现了,同时还可用获得 &lt;a href="https://getpelican.com/"&gt;&lt;code&gt;Pelican&lt;/code&gt;&lt;/a&gt; 的好处. 比如: 许许多多的主题, 丰富的插件(自己写也很方便).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;升级博客过程中的笔记(由 ChatGPT 生成)&lt;/h2&gt;
&lt;h3&gt;类型注解&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Tuple[str, ...]：&lt;/code&gt; 这是类型注解，表示 &lt;code&gt;mandatory_properties&lt;/code&gt; 的类型是一个字符串元组（tuple），并且元组中的元素类型是字符串（str）。... 表示元组的长度是可变的，可以包含任意数量的字符串。&lt;/p&gt;
&lt;h3&gt;&lt;code&gt;itertools.chain&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;itertools.chain&lt;/code&gt; 是 🐍 &lt;code&gt;Python&lt;/code&gt; 标准库 &lt;code&gt;itertools&lt;/code&gt; 模块中的一个函数，用于将多个可迭代对象🔗连接在一起，生成一个连续的单个迭代器。它可以接受任意数量的可迭代对象，并依次迭代每个可迭代对象的元素，就像将它们“链接”成一个整体。&lt;/p&gt;
&lt;h3&gt;示例代码：使用 🛠️ multiprocessing.Queue 实现生产者-消费&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;multiprocessing&lt;/span&gt;  &lt;span class="c1"&gt;# 🛠️ 导入多进程模块&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;  &lt;span class="c1"&gt;# ⏳ 导入时间模块&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;producer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;  &lt;span class="c1"&gt;# 🏭 生产者函数&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Producing item &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 🛠️ 生产物品&lt;/span&gt;
        &lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;put&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 📥 将物品放入队列&lt;/span&gt;
        &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sleep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# ⏱️ 延时 1 秒&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;consumer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;  &lt;span class="c1"&gt;# 🛍️ 消费者函数&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# 取出队列中的一个元素 📤&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;  &lt;span class="c1"&gt;# 接收到 None 表示生产者已结束 🚫&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Consuming item &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 🛠️ 消费物品&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;queue&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;multiprocessing&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Queue&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# 📦 创建队列&lt;/span&gt;

    &lt;span class="c1"&gt;# 创建生产者进程和消费者进程 👥&lt;/span&gt;
    &lt;span class="n"&gt;producer_process&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;multiprocessing&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Process&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;producer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="p"&gt;,))&lt;/span&gt;
    &lt;span class="n"&gt;consumer_process&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;multiprocessing&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Process&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;consumer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="p"&gt;,))&lt;/span&gt;

    &lt;span class="c1"&gt;# 启动生产者和消费者进程 ▶️&lt;/span&gt;
    &lt;span class="n"&gt;producer_process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;consumer_process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="c1"&gt;# 等待生产者完成 ⏳&lt;/span&gt;
    &lt;span class="n"&gt;producer_process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="c1"&gt;# 生产者结束后，向队列中放入一个 None，通知消费者退出 🚫&lt;/span&gt;
    &lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;put&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# 等待消费者完成 ⏳&lt;/span&gt;
    &lt;span class="n"&gt;consumer_process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Main process is finishing.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 🎬 主进程结束&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;示例代码：使用 🔄 while True 实现无限循环的应用&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;while True:&lt;/code&gt; 是一个常见的无限循环结构，广泛应用于需要持续运行、持续监听或者重复执行某项任务的场景中。以下是几个使用 &lt;code&gt;while True:&lt;/code&gt; 的实际例子：&lt;/p&gt;
&lt;h4&gt;1. 实现用户输入验证&lt;/h4&gt;
&lt;p&gt;在用户输入中，我们可以用 &lt;code&gt;while True:&lt;/code&gt; 来不断请求用户输入，直到输入满足条件为止：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;  &lt;span class="c1"&gt;# 🔄 无限循环请求用户输入&lt;/span&gt;
    &lt;span class="n"&gt;user_input&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Enter a number (q to quit): &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 📥 用户输入&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;user_input&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;q&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Quitting...&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 🚪 退出程序&lt;/span&gt;
        &lt;span class="k"&gt;break&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;number&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;user_input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;You entered: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;number&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;ValueError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Invalid input, please enter a number.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# ⚠️ 输入无效&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;2. 服务器监听 🖥️&lt;/h4&gt;
&lt;p&gt;在服务器应用程序中，我们可以用 &lt;code&gt;while True:&lt;/code&gt; 来持续监听请求，例如一个简单的 TCP 服务器：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;socket&lt;/span&gt;  &lt;span class="c1"&gt;# 🌐 导入套接字模块&lt;/span&gt;

&lt;span class="n"&gt;server_socket&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AF_INET&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SOCK_STREAM&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 创建服务器套接字&lt;/span&gt;
&lt;span class="n"&gt;server_socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8080&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;  &lt;span class="c1"&gt;# 绑定地址和端口&lt;/span&gt;
&lt;span class="n"&gt;server_socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;listen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 监听连接&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Server is listening on port 8080...&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 🖥️ 服务器监听&lt;/span&gt;

&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;  &lt;span class="c1"&gt;# 🔄 持续监听客户端连接&lt;/span&gt;
    &lt;span class="n"&gt;client_socket&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;address&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;server_socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;accept&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# 接受客户端连接&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Connection from &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;address&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt; has been established.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 🤝 连接建立&lt;/span&gt;
    &lt;span class="n"&gt;client_socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;send&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;bytes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Welcome to the server!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;  &lt;span class="c1"&gt;# 发送欢迎消息&lt;/span&gt;
    &lt;span class="n"&gt;client_socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# 关闭客户端连接&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;3. 多进程的任务分配 👥🔄&lt;/h4&gt;
&lt;p&gt;在某些场景下，可以使用 &lt;code&gt;while True:&lt;/code&gt; 来持续从队列中取任务并进行处理，如生产者-消费者模型：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;multiprocessing&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;worker&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;  &lt;span class="c1"&gt;# 工作者函数&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;task&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# 从队列中取任务 📤&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;  &lt;span class="c1"&gt;# 任务队列结束标志 🚫&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Processing task: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 🔧 处理任务&lt;/span&gt;
        &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sleep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# ⏱️ 模拟处理时间&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;task_queue&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;multiprocessing&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Queue&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# 📦 创建任务队列&lt;/span&gt;

    &lt;span class="c1"&gt;# 添加任务 📋&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;task_queue&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;put&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Task &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# 添加结束标志 🚫&lt;/span&gt;
    &lt;span class="n"&gt;task_queue&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;put&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# 启动工作进程 ▶️&lt;/span&gt;
    &lt;span class="n"&gt;process&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;multiprocessing&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Process&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;worker&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task_queue&lt;/span&gt;&lt;span class="p"&gt;,))&lt;/span&gt;
    &lt;span class="n"&gt;process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="c1"&gt;# 等待进程完成 ⏳&lt;/span&gt;
    &lt;span class="n"&gt;process&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;All tasks are completed.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 🎬 所有任务完成&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;动态导入的使用场景&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;__import__()&lt;/code&gt; 是 Python 中用于动态导入模块的内置函数，通常用于模块名在运行时才确定的情况，提供了一种灵活的导入机制。它在以下场景中非常有用：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;插件系统&lt;/strong&gt;：可以根据用户需求或配置文件选择性地导入某些模块。例如，某些插件可能需要在运行时按需加载。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;模块管理&lt;/strong&gt;：当模块的名称是动态生成或用户输入的，使用 &lt;code&gt;__import__()&lt;/code&gt; 可以让程序根据名字导入相应的模块。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;示例代码：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;module_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;math&amp;quot;&lt;/span&gt;  &lt;span class="c1"&gt;# 模块名可能从用户输入或配置文件中获取&lt;/span&gt;
&lt;span class="n"&gt;module&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;__import__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;module_name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 动态导入模块&lt;/span&gt;

&lt;span class="c1"&gt;# 使用导入的模块&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;module&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;  &lt;span class="c1"&gt;# 输出: 4.0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;&lt;code&gt;getattr()&lt;/code&gt; 的用法&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;cls = getattr(module, cls_name)&lt;/code&gt; 是 Python 中一种动态获取属性的方式，用于从模块或对象中获取名称为 &lt;code&gt;cls_name&lt;/code&gt; 的属性。这里 &lt;code&gt;getattr()&lt;/code&gt; 函数被用来从 &lt;code&gt;module&lt;/code&gt; 中获取名为 &lt;code&gt;cls_name&lt;/code&gt; 的类，变量 &lt;code&gt;cls&lt;/code&gt; 最终会指向该类。&lt;/p&gt;
&lt;h4&gt;示例代码&lt;/h4&gt;
&lt;p&gt;假设你有一个模块 &lt;code&gt;shapes&lt;/code&gt;，其中定义了两个类 &lt;code&gt;Circle&lt;/code&gt; 和 &lt;code&gt;Square&lt;/code&gt;。你可以通过字符串名称动态地从模块中获取类。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;shapes.py&lt;/code&gt; 模块：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# shapes.py&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Circle&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Drawing a Circle&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Square&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Drawing a Square&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;主代码：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;shapes&lt;/span&gt;

&lt;span class="c1"&gt;# 动态获取类名&lt;/span&gt;
&lt;span class="n"&gt;cls_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Circle&amp;quot;&lt;/span&gt;
&lt;span class="bp"&gt;cls&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;getattr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;shapes&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cls_name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# cls 现在指向 Circle 类，可以创建其实例&lt;/span&gt;
&lt;span class="n"&gt;shape&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  &lt;span class="c1"&gt;# 输出: Drawing a Circle&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;注意事项&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;属性不存在时引发异常&lt;/strong&gt;：如果 &lt;code&gt;name&lt;/code&gt; 不存在且未提供 &lt;code&gt;default&lt;/code&gt; 参数，&lt;code&gt;getattr()&lt;/code&gt; 会引发 &lt;code&gt;AttributeError&lt;/code&gt;。为避免异常，可以传递一个默认值。
  &lt;code&gt;python
  cls = getattr(module, "NonExistentClass", None)
  if cls is None:
      print("Class not found")&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;安全性问题&lt;/strong&gt;：使用 &lt;code&gt;getattr()&lt;/code&gt; 获取属性需要特别小心，因为它可以动态地访问任意属性或方法，可能会带来安全性风险。如果用户能够控制传递给 &lt;code&gt;getattr()&lt;/code&gt; 的字符串，他们可以试图访问不应暴露的内部类或方法。因此，在使用时要确保输入是可信的或经过适当的验证。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;使用注意事项 ⚠️&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;break&lt;/code&gt; 退出&lt;/strong&gt;：&lt;code&gt;while True:&lt;/code&gt; 是无限循环，所以为了避免程序一直运行下去，通常需要使用 &lt;code&gt;break&lt;/code&gt; 来在合适的条件下跳出循环。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;性能问题 🖥️&lt;/strong&gt;：在某些情况下，使用 &lt;code&gt;while True:&lt;/code&gt; 可能会导致程序占用大量 CPU 资源，因此在循环中应该使用适当的延时（如 &lt;code&gt;time.sleep()&lt;/code&gt; ⏱️) 或等待机制来减少 CPU 的占用。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;结束条件 🚪&lt;/strong&gt;：务必为循环设置合理的结束条件，避免程序进入死循环导致资源浪费。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;while True:&lt;/code&gt; 是一种简单但非常强大的循环结构，广泛应用于需要不断重复某些操作的场景，如输入验证、监听服务器、生产者-消费者模型等。它可以确保程序不断运行，直到某个条件触发 &lt;code&gt;break&lt;/code&gt; 退出循环，从而灵活地控制程序的执行流程。&lt;/p&gt;
&lt;h2&gt;Acknowledge&lt;/h2&gt;
&lt;p&gt;ChatGPT&lt;/p&gt;</content><category term="未分类"></category></entry><entry><title>旧版“关于”存档（存档于2026-01-03）</title><link href="https://zqw.ink/2024-10-23-coding-about_page_archive.html" rel="alternate"></link><published>2024-10-23T00:00:00+08:00</published><updated>2024-10-23T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2024-10-23:/2024-10-23-coding-about_page_archive.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;blog&lt;/li&gt;
&lt;li&gt;about&lt;/li&gt;
&lt;li&gt;archive&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;本博客于 2025-12-31 进行第三次升级升级。此为升级前的一些存档。&lt;/p&gt;
&lt;h2&gt;关于我&lt;/h2&gt;
&lt;h3&gt;联系&lt;/h3&gt;
&lt;p&gt;请 E-mail: zeqing6688@126.com&lt;/p&gt;
&lt;h2&gt;关于本站&lt;/h2&gt;
&lt;p&gt;本站内容为: 只对自己 …&lt;/p&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;blog&lt;/li&gt;
&lt;li&gt;about&lt;/li&gt;
&lt;li&gt;archive&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;本博客于 2025-12-31 进行第三次升级升级。此为升级前的一些存档。&lt;/p&gt;
&lt;h2&gt;关于我&lt;/h2&gt;
&lt;h3&gt;联系&lt;/h3&gt;
&lt;p&gt;请 E-mail: zeqing6688@126.com&lt;/p&gt;
&lt;h2&gt;关于本站&lt;/h2&gt;
&lt;p&gt;本站内容为: 只对自己负责的学习笔记, 以及生活的牢骚.&lt;/p&gt;
&lt;p&gt;本站是由 &lt;a href="https://getpelican.com/"&gt;Pelican&lt;/a&gt; 生成的静态博客, 托管于
&lt;a href="https://github.com/phyer219/phyer219.github.io"&gt;GithubPages&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;文章的源格式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;org-mode 的格式, 由 &lt;a href="https://github.com/phyer219/phyer219.github.io.2.0/tree/main/zqwblog/renderer"&gt;zqwblog/renderer&lt;/a&gt; 渲染成 html. 由于是自己的写的包, 还有很多不完善的地方. 重复造轮子的目的是练习写程序.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;markdown, 由包 &lt;a href="https://python-markdown.github.io/"&gt;python-markdown&lt;/a&gt; 渲染.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;文章中的公式由 &lt;a href="https://www.mathjax.org/"&gt;MathJax&lt;/a&gt; 渲染.&lt;/p&gt;
&lt;p&gt;文章中的代码块由 &lt;a href="https://highlightjs.org/"&gt;highlight.js&lt;/a&gt; 渲染.&lt;/p&gt;
&lt;h2&gt;README 存档&lt;/h2&gt;
&lt;p&gt;Generate by &lt;a href="https://getpelican.com/"&gt;Pelican&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Use Plugins:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/pelican-plugins/sitemap"&gt;sitemap&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Use package:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/pallets/jinja/"&gt;jinja2&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://python-markdown.github.io/"&gt;Python-Markdown&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/sgryjp/markdown_math_escape"&gt;markdown_math_escape&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/jupyter/nbformat"&gt;nbformat&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="未分类"></category></entry><entry><title>利用虚时传播子求解定态散射问题</title><link href="https://zqw.ink/2024-04-24-physics-propagator_scattering.html" rel="alternate"></link><published>2024-04-24T00:00:00+08:00</published><updated>2024-04-24T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2024-04-24:/2024-04-24-physics-propagator_scattering.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;利用虚时传播子求解定态散射问题&lt;/h1&gt;
&lt;p&gt;本文考虑一维问题&lt;/p&gt;
&lt;h2&gt;传播子(propagator)&lt;/h2&gt;
&lt;p&gt;如果 $\hat{H}$ 不含时，虚时传播子为
$$
\begin{align}
  K(x, \tau; x', 0) = \langle x | e …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;利用虚时传播子求解定态散射问题&lt;/h1&gt;
&lt;p&gt;本文考虑一维问题&lt;/p&gt;
&lt;h2&gt;传播子(propagator)&lt;/h2&gt;
&lt;p&gt;如果 $\hat{H}$ 不含时，虚时传播子为
$$
\begin{align}
  K(x, \tau; x', 0) = \langle x | e^{-\hat{H}\tau} | x'\rangle
  = \sum_n e^{-E_n\tau}\langle x| n\rangle \langle n| x'\rangle
\end{align}
$$
其中 $|n\rangle$ 是 $\hat{H}$ 的本征态
$$
\begin{align}
  \hat H | n\rangle = E_n | n\rangle
\end{align}
$$&lt;/p&gt;
&lt;h2&gt;散射问题&lt;/h2&gt;
&lt;p&gt;$$
\begin{align}
  (\hat{H} + \hat{V} )|\phi\rangle = E|\phi\rangle
\end{align}
$$
移项并投影到 $\hat{H}$ 的本征态 $|n\rangle$ 上
$$
\begin{align}
  \langle n|(\hat{H} - E )|\phi\rangle = -\langle n|\hat{V}|\phi\rangle
\end{align}
$$
$$
\begin{align}
  \langle n|\phi\rangle =&amp;amp; -\frac{1}{E_n - E }\langle n|\hat{V}|\phi\rangle \
  =&amp;amp; -\frac{1}{E_n - E }\langle n|\hat{V}|\phi\rangle \
  =&amp;amp;-\int_0^{\infty} \mathrm{d}\tau \, e^{-(E_n - E)\tau}\langle n|V|\phi\rangle \
  =&amp;amp;-\int_0^{\infty} \mathrm{d}\tau \, e^{E\tau}\cdot e^{-E_n \tau}\langle n|V|\phi\rangle
\end{align}
$$
最后一步 Schwinger parametrization 需要散射能量 $E$ 小于 $E_n$.&lt;/p&gt;
&lt;p&gt;散射波函数可以写成
$$
\begin{align}
  \phi(x) = \langle x|\phi\rangle
  = \sum_n \langle x | n \rangle \langle n|\phi\rangle
\end{align}
$$
代入我们之前算得的 $\langle n |\phi\rangle$
$$
\begin{align}
  \phi(x) =&amp;amp; -\int_0^{\infty} \mathrm{d}\tau \, e^{E\tau}\cdot
  \sum_n e^{-E_n \tau}  \langle x | n \rangle \langle n|V|\phi\rangle \
  =&amp;amp; -\int_0^{\infty} \mathrm{d}\tau \, e^{E\tau}\cdot
  \int \mathrm{d} x'\,
  \sum_n e^{-E_n \tau}  \langle x | n \rangle \langle n|x'\rangle\langle x'|V|\phi\rangle
\end{align}
$$
会发现其中出现了传播子.就得到
$$
\begin{align}
  \phi(x) =&amp;amp; -\int_0^{\infty} \mathrm{d}\tau \, e^{E\tau}\cdot
  \sum_n e^{-E_n \tau}  \langle x | n \rangle \langle n|V|\phi\rangle \
  =&amp;amp; -\int_0^{\infty} \mathrm{d}\tau \, e^{E\tau}\cdot
  \int \mathrm{d} x'\,
   \langle x'|V|\phi\rangle K(x, \tau; x', 0)
\end{align}
$$&lt;/p&gt;
&lt;h2&gt;例: 一维简谐势中接触吸引的两粒子&lt;/h2&gt;
&lt;p&gt;通过质心相对坐标分离后，相对运动部分的哈密顿量为
$$
\begin{align}
  \hat{H} +\hat{V} = \frac{\hat{p}^2}{2\mu} + \frac{\mu}{2}\omega^2 \hat{x}^2 + \hat{V}
\end{align}
$$
其中 $\hat{V}$ 是接触相吸引互作用，
$$
\begin{align}
  \hat{V} |x\rangle = -g\delta(x) |x\rangle
\end{align}
$$
那么散射波函数为
$$
\begin{align}
  \phi(x)
  =&amp;amp; -\int_0^{\infty} \mathrm{d}\tau \, e^{E\tau}\cdot
  \int \mathrm{d} x'\,
   \langle x'|V|\phi\rangle K(x, \tau; x', 0) \
   =&amp;amp; g \phi(0)\int_0^{\infty} \mathrm{d}\tau \, e^{E\tau}\cdot
  K(x, \tau; x', 0)
\end{align}
$$
其中的传播子即为一维谐振子的传播子: &lt;a href="https://en.wikipedia.org/wiki/Mehler_kernel"&gt;Mehler kernel&lt;/a&gt;。&lt;/p&gt;
&lt;h2&gt;数值验证传播子&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;scipy.integrate&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;integrate&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;scipy.special&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;hermite&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;math&lt;/span&gt;


&lt;span class="c1"&gt;# x = np.linspace(-3, 3)&lt;/span&gt;
&lt;span class="c1"&gt;# check hermite polynomials&lt;/span&gt;
&lt;span class="c1"&gt;# plt.plot(x, hermite(3)(x))&lt;/span&gt;
&lt;span class="c1"&gt;# plt.plot(x, 8*x**3 - 12*x, &amp;#39;x&amp;#39;)&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;ho_eig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;harmonic oscillator eigenfunctions and eigenvalues&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;psi&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;math&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;factorial&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;psi&lt;/span&gt; &lt;span class="o"&gt;*=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;psi&lt;/span&gt; &lt;span class="o"&gt;*=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;psi&lt;/span&gt; &lt;span class="o"&gt;*=&lt;/span&gt; &lt;span class="n"&gt;hermite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;energy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;energy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;psi&lt;/span&gt;


&lt;span class="c1"&gt;# check ho_eig&lt;/span&gt;
&lt;span class="c1"&gt;# x = np.linspace(-10, 10, 1000)&lt;/span&gt;
&lt;span class="c1"&gt;# plt.plot(x, ho_eig(x, 3)[1])&lt;/span&gt;
&lt;span class="c1"&gt;# integrate.quad(lambda x:(ho_eig(x, 3)[1])**2,-10, 10)&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;Mehler_kernel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tau&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;propagator of 1D harmonic oscillator, also known as Mehler kernel&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;K&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sinh&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;tau&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;K&lt;/span&gt; &lt;span class="o"&gt;*=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;x0&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cosh&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;tau&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sinh&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;tau&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;K&lt;/span&gt;


&lt;span class="c1"&gt;# check Mehler_kernel&lt;/span&gt;
&lt;span class="c1"&gt;# x = np.linspace(-10, 10, 1000)&lt;/span&gt;
&lt;span class="c1"&gt;# for ti in [0.1, 1, 2]:&lt;/span&gt;
&lt;span class="c1"&gt;#     plt.plot(x, Mehler_kernel(x, tau=ti))&lt;/span&gt;
&lt;span class="c1"&gt;#     print(integrate.quad(lambda x:Mehler_kernel(x, tau=0.1), -5, 5))&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;HO_propagator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tau&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cut&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;1D harmonic oscillator propagator, by eigenfunction expansion&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cut&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;energy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;psi&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ho_eig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;psi0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ho_eig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;energy&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;tau&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;psi&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;psi0&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;p&lt;/span&gt;


&lt;span class="c1"&gt;# compare the results of 1D harmonic oscillator propagator given by two methods&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ti&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
    &lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Mehler_kernel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tau&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ti&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                 &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;rf&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$\tau\omega=&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;ti&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[::&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;HO_propagator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tau&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ti&lt;/span&gt;&lt;span class="p"&gt;)[::&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
             &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;o&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mec&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_color&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mfc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;integrate&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;quad&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;Mehler_kernel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tau&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$K(x, \tau; 0, 0)$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$x/\sqrt{\hbar/(m\omega)}$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savefig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;HO_propagator.svg&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transparent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="HO_propagator" src="./2024-04-24-physics-propagator_scattering/HO_propagator.svg"&gt;&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Shina Tan 的 lecture note.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Propagator"&gt;Wikipedia: Propagator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Mehler_kernel"&gt;Wikipedia: Mehler kernel&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.m.wikipedia.org/wiki/Schwinger_parametrization"&gt;Wikipedia: Schwinger parametrization&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://physics.stackexchange.com/questions/20797/differentiating-propagator-greens-function-correlation-function-etc/476630#476630"&gt;Physics Stackexchange: Differentiating Propagator, Green's function, Correlation function, etc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://physics.stackexchange.com/questions/209846/dirac-delta-in-definition-of-green-function"&gt;Physics Stackexchange: Dirac Delta in definition of Green function&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="未分类"></category><category term="[physics"></category><category term="scattering"></category><category term="propagator]"></category></entry><entry><title>原子自发辐射与主方程</title><link href="https://zqw.ink/2023-12-31-physics-tls_master_eq.html" rel="alternate"></link><published>2023-12-31T00:00:00+08:00</published><updated>2023-12-31T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2023-12-31:/2023-12-31-physics-tls_master_eq.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="#原子自发辐射与主方程"&gt;原子自发辐射与主方程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#模型"&gt;模型&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#粗粒化的时间演化-coarse-grained-rate-of-variation"&gt;粗粒化的时间演化 (coarse-grained rate of variation)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#对热库的假设"&gt;对热库的假设&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#热库很大处于定态"&gt;热库很大，处于定态&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#热库关联时间很短"&gt;热库关联时间很短&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#真空电磁场作为热库"&gt;真空电磁 …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="#原子自发辐射与主方程"&gt;原子自发辐射与主方程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#模型"&gt;模型&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#粗粒化的时间演化-coarse-grained-rate-of-variation"&gt;粗粒化的时间演化 (coarse-grained rate of variation)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#对热库的假设"&gt;对热库的假设&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#热库很大处于定态"&gt;热库很大，处于定态&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#热库关联时间很短"&gt;热库关联时间很短&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#真空电磁场作为热库"&gt;真空电磁场作为热库&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#对相互作用的假设"&gt;对相互作用的假设&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#近似之后的结果"&gt;近似之后的结果&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#v-的一阶项为零"&gt;$V$ 的一阶项为零&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#截断-v-的二阶项"&gt;截断 $V$ 的二阶项&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#利用-tau-tau_c-时-gtau-to-0把对-t-和-t-的积分解耦"&gt;利用 $\tau &amp;gt;\tau_c$ 时 $g(\tau) \to 0$，把对 $t'$ 和 $t''$ 的积分解耦&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#在能量本征态下写出积掉-t做久期近似"&gt;在能量本征态下写出，积掉 $t'$，做久期近似&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#reference"&gt;Reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;原子自发辐射与主方程&lt;/h1&gt;
&lt;h2&gt;模型&lt;/h2&gt;
&lt;p&gt;$$
H = H_A + H_R + V
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$H_A$ : 要研究的系统 $A$ 的哈密顿量， 比如原子 (Atom)。&lt;/li&gt;
&lt;li&gt;$H_R$ : 系统所处的热库 (Reservoir) $R$ 的哈密顿量，比如真空电磁场 (Radiation)&lt;/li&gt;
&lt;li&gt;$V = -AR$ : 系统与热库的耦合。$A$ 系统子空间的算符。$R$ 热库子空间的算符。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;对于二能级原子与真空电磁场的耦合：
$$
\begin{align}
H_A = \frac{\hbar}{2}\left(\omega_{ba}|b\rangle\langle b|
           - \omega_{ba}|a\rangle\langle a|\right)
\end{align}
$$
真空电磁场：
$$
\begin{align}
H_R = \sum_i \hbar \omega_i a_i^{\dagger} a_i
\end{align}
$$
偶极近似下，算符 $A$ 是原子偶极跃迁的矩阵元，算符 $R$ 是量子化的电场强度。具体来讲:
$$
\begin{align}
A =&amp;amp; D (|a\rangle\langle b| + |b\rangle\langle a|) \
R =&amp;amp; \sum_i \epsilon_i (a_i - a_i^\dagger)
\end{align}
$$
其中 $D, \epsilon_i$ 都是系数。&lt;/p&gt;
&lt;h2&gt;粗粒化的时间演化 (coarse-grained rate of variation)&lt;/h2&gt;
&lt;p&gt;有两个重要的时间尺度。第一个是热库的关联时间 $\tau_c$ 。第二个是系统 $A$ 演化的时间尺度 $T_R$。他们应当满足 $\tau_c\ll T_R$
主方程的时间尺度 $\Delta t$ 的量级为
$$
\begin{align}
\tau_c \ll \Delta t \ll T_R
\end{align}
$$
以下考虑相互作用绘景，任意算符 $O$ 在相互作用绘景中记为 $\tilde{O}(t) = e^{-\frac{1}{i\hbar} (H_A + H_R)}Oe^{\frac{1}{i\hbar} (H_A + H_R)}$ 。系统加热库的密度矩阵记为 $\rho(t)$ 。在相互作用绘景中
$$
\begin{align}
\tilde{\rho}(t) =&amp;amp; e^{-\frac{1}{i\hbar} (H_A + H_R)}\rho(t)e^{\frac{1}{i\hbar} (H_A + H_R)}\
\tilde{V}(t) =&amp;amp; e^{-\frac{1}{i\hbar} (H_A + H_R)}Ve^{\frac{1}{i\hbar} (H_A + H_R)}\
\tilde{A}(t) =&amp;amp; e^{-\frac{1}{i\hbar} H_A}Ae^{\frac{1}{i\hbar} H_A}\
\tilde{R}(t) =&amp;amp; e^{-\frac{1}{i\hbar} H_R}Re^{\frac{1}{i\hbar} (H_R)}
\end{align}
$$
根据密度矩阵在相互作用绘景中的演化方程 $i\hbar \dot{\tilde{\rho}(t)} = [\tilde{V(t)}, \tilde{\rho}(t)]$， 可知在我们粗粒化的时间 $t$ 到 $t + \Delta t$ 内，密度矩阵的演化为
$$
\begin{align}
\tilde{\rho}(t + \Delta t) = \tilde{\rho}(t) + \frac{1}{i\hbar}\int_t^{t+\Delta t} dt'\,
\left[ \tilde{V}(t'), \tilde{\rho}(t') \right]
\end{align}
$$
我们对上式迭代一次，并把环境求偏迹掉，得到环境密度矩阵 $\tilde{\sigma}(t) = \mathrm{Tr}_R [\tilde{\rho}(t)]$ 的演化增量
$$
\begin{align}
\Delta\tilde{\sigma}(t) \equiv &amp;amp;
\tilde{\sigma}(t + \Delta t) - \tilde{\sigma}(t) \
=&amp;amp; \frac{1}{i\hbar}\int_t^{t+\Delta t} dt'\,
\mathrm{Tr}_R\left[ \tilde{V}(t'), \tilde{\rho}(t) \right]\
&amp;amp; + \left(\frac{1}{i\hbar}\right)^2\int_t^{t+\Delta t} dt'\,
\int_t^{t'} dt''\,
\mathrm{Tr}_R\left[ \tilde{V}(t'), \left[\tilde{V}(t''), \tilde{\rho}(t'') \right] \right]
\end{align}
$$
直到上式，都是严格精确的，没有做任何近似。&lt;/p&gt;
&lt;h2&gt;对热库的假设&lt;/h2&gt;
&lt;h3&gt;热库很大，处于定态&lt;/h3&gt;
&lt;p&gt;热库，顾名思义，要比研究的系统 $A$ 大得多。把系统 $A$ 求偏迹掉，热库的密度矩阵记为 $\tilde{\sigma}_R(t) = \mathrm{Tr}_A [\tilde{\rho} (t)]$ 。&lt;/p&gt;
&lt;p&gt;由于热库比系统 $A$ 大得多，所以可以认为一直不变
$$
\begin{align}
\tilde{\sigma}&lt;em _mu="\mu"&gt;R(t) \approx \tilde{\sigma}_R(t) = \sigma_R
\end{align}
$$
其次，假设热库一直处在一个定态上，也就是说
$$
\begin{align}
[\sigma_R, H_R] = 0
\end{align}
$$
记热库的能量本征态为
$$
\begin{align}
H_R |\mu \rangle = E&lt;/em&gt; |\mu \rangle
\end{align}
$$
那么定态 $\sigma_R$ 可以展开为
$$
\begin{align}
\sigma_R = \sum_{\mu} p_{\mu} | \mu \rangle \langle \mu |
\end{align}
$$
假设 $R$ 在 $\sigma_R$ 上的均值为 $0$
$$
\begin{align}
\mathrm{Tr}[\sigma_R R] = \mathrm{Tr}[\sigma_R \tilde{R}(t)]
\end{align}
$$
因此就有
$$
\begin{align}
\mathrm{Tr}_R[\tilde{V}(t')\sigma_R] = 0
\end{align}
$$&lt;/p&gt;
&lt;h3&gt;热库关联时间很短&lt;/h3&gt;
&lt;p&gt;定义热库中的算符 $R$ 的双时平均
$$
\begin{align}
g(\tau) \equiv g(t' - t'') \equiv \mathrm{Tr}\left[\sigma_R \tilde{R}(t') \tilde{R}(t'')\right]
= \mathrm{Tr}\left[\sigma_R \tilde{R}(\tau) \tilde{R}(0)\right]
\end{align}
$$
我们假设 $g(\tau)$ 只集中在 $\tau&amp;lt;\tau_c$ 的范围内， 在 $\tau &amp;gt; \tau_c$ 迅速衰减。这在热库很大是，是自然的。热库很大，能谱倾向于连续，求和在 $\tau$ 很大时，就会干涉相消。&lt;/p&gt;
&lt;h3&gt;真空电磁场作为热库&lt;/h3&gt;
&lt;p&gt;真空电磁场的密度矩阵为
$$
\begin{align}
\sigma_R = |0\rangle \langle 0|
\end{align}
$$
是一个温度为零的玻色场，每一个模式都处于基态，没有任何光子激发。它显然满足
$$
\begin{align}
\mathrm{Tr}&lt;em i&gt;R[\tilde{V}(t')\sigma_R] = -\tilde{A}(t') \langle 0 |\tilde{R}(t') | 0\rangle
= -\tilde{A}(t') \sum_i \epsilon_i \langle 0 | (a_i - a_i^\dagger) | 0\rangle
= 0
\end{align}
$$
真空电磁场的 $g(\tau)$ 为
$$
\begin{align}
g(\tau) = \sum&lt;/em&gt; |0\rangle
= \sum_i |\epsilon_i|^2 e^{-i\omega_i \tau}
\end{align}
$$
这个是可以具体算出的，但是可以看出，当 $\omega_i$ 非常密时，当 $\tau$ 大于某个值时，会由于干涉相消变成 $0$ 。一个用于理解的情况是，$\epsilon_i$ 是一个常数，$\omega_i$ 太密，以至于连续，求和化积分，结果就变成一个 $\delta$ 函数，只在 $\tau=0$ 时非零。} |\epsilon_i|^2 \langle 0 | a_i e^{i \omega_i\tau} a_i^{\dagger&lt;/p&gt;
&lt;h2&gt;对相互作用的假设&lt;/h2&gt;
&lt;p&gt;当然是弱耦合。&lt;/p&gt;
&lt;p&gt;其次，因为是弱耦合，这也会导致系统 $A$ 和热库的关联
$$
\begin{align}
\tilde{\rho}_{\mathrm{correl}}(t) \equiv \tilde{\rho}(t)
- \mathrm{Tr}_R [\tilde{\rho}(t)]\otimes  \mathrm{Tr}_A [\tilde{\rho}(t)]
\end{align}
$$
在粗粒化的时间尺度下($\tau_c \ll \Delta t$)只作为高阶项贡献（详见书），因此可以将总的密度矩阵近似为直积
$$
\begin{align}
\tilde{\rho}(t)
\approx \mathrm{Tr}_R [\tilde{\rho}(t)]\otimes  \mathrm{Tr}_A [\tilde{\rho}(t)]
\end{align}
$$&lt;/p&gt;
&lt;h2&gt;近似之后的结果&lt;/h2&gt;
&lt;p&gt;现在，我们结合对大环境小系统，弱耦合的假设，对之前的严格结果
$$
\begin{align}
\Delta\tilde{\sigma}(t) \equiv &amp;amp;
\tilde{\sigma}(t + \Delta t) - \tilde{\sigma}(t) \
=&amp;amp; \frac{1}{i\hbar}\int_t^{t+\Delta t} dt'\,
\mathrm{Tr}_R\left[ \tilde{V}(t'), \tilde{\rho}(t) \right]\
&amp;amp; + \left(\frac{1}{i\hbar}\right)^2\int_t^{t+\Delta t} dt'\,
\int_t^{t'} dt''\,
\mathrm{Tr}_R\left[ \tilde{V}(t'), \left[\tilde{V}(t''), \tilde{\rho}(t'') \right] \right]
\end{align}
$$
进行化简。&lt;/p&gt;
&lt;h3&gt;$V$ 的一阶项为零&lt;/h3&gt;
&lt;p&gt;$$
\begin{align}
\mathrm{Tr}_R\left[ \tilde{V}(t'), \tilde{\rho}(t) \right]
= \tilde{A}(t') \tilde{\sigma}(t) \, \mathrm{Tr}\left[ \tilde{R}(t'), \sigma_R \right]
= 0
\end{align}
$$
因此一阶项消失。&lt;/p&gt;
&lt;h3&gt;截断 $V$ 的二阶项&lt;/h3&gt;
&lt;p&gt;也就是把 $V$ 的二阶项中的 $\tilde{\rho}(t'')$ 换成 $\tilde{\rho}(t)$&lt;/p&gt;
&lt;h3&gt;利用 $\tau &amp;gt;\tau_c$ 时 $g(\tau) \to 0$，把对 $t'$ 和 $t''$ 的积分解耦&lt;/h3&gt;
&lt;p&gt;$$
\begin{align}
\int_t^{t+\Delta t} dt'\, \int_t^{t'} dt''\
= \int_0^{\Delta t} d\tau \, \int_{t+\tau}^{t+\Delta t} dt'\
\approx \int_0^{\infty} d\tau \, \int_{t}^{t+\Delta t} dt'\
\end{align}
$$
此时，严格的结果现在变成了
$$
\begin{align}
\frac{\Delta \tilde{\sigma}(t)}{\Delta t}
=&amp;amp; - \frac{1}{\hbar^2}\int_0^\infty d\tau \, \frac{1}{\Delta{t}}\int_t^{t+\Delta t} d t' \
&amp;amp;\left{
  g(\tau) \left[\tilde{A}(t')\tilde{A}(t'-\tau) \tilde{\sigma}(t)
                - \tilde{A}(t'-\tau) \tilde{\sigma} (t) \tilde{A}(t')\right]
\right.
                \
&amp;amp;\left.
  + g(-\tau)\left[
     \tilde{\sigma} (t)\tilde{A}(t'-\tau) \tilde{A}(t')
     - \tilde{A}(t') \tilde{\sigma} (t)\tilde{A}(t'-\tau)
   \right]
\right}
\end{align}
$$&lt;/p&gt;
&lt;h2&gt;在能量本征态下写出，积掉 $t'$，做久期近似&lt;/h2&gt;
&lt;p&gt;在能量本征表象下，花括号中的四项中关于 $t'$ 的部分是相同的，因此可以拿出来积掉&lt;/p&gt;
&lt;p&gt;$$
\begin{align}
\frac{1}{\Delta t} \int_t^{t+\Delta t} dt'\, e^{-i (\omega_{ba} - \omega_{dc})}
\end{align}
$$
在 $|\omega_{ba} - \omega_{dc}|\Delta t \ll 1$ 时， 结果为 $1$ 。
在 $|\omega_{ba} - \omega_{dc}|\Delta t \gg 1$ 时， 结果为 $0$ 。
在 $|\omega_{ba} - \omega_{dc}|\Delta t \sim 1$ 时， 为弱耦合，可以忽略。&lt;/p&gt;
&lt;p&gt;因此
$$
\begin{align}
\frac{\Delta \tilde{\sigma}&lt;em c_="c," d&gt;{ab}(t)}{\Delta t} = \sum&lt;/em&gt;
e^{-i(\omega_{ba} - \omega_dc)t} \mathcal{R}}^{\mathrm{sec}&lt;em cd&gt;{abcd}\tilde{\sigma}&lt;/em&gt;(t)
\end{align}
$$
其中
$$
\begin{align}
\mathcal{R}&lt;em bd&gt;{abcd}
=&amp;amp; -\frac{1}{\hbar^2} \int_0^{\infty} d\tau\, \
=&amp;amp; \left{
  g(\tau)\left[ \delta&lt;/em&gt;
  -A_{ac}A_{db}e^{i\omega_{ca}\tau}   \right] \right. \
  &amp;amp;+\left.
    g(-\tau)\left[ \delta_{ac} \sum_n A_{dn}A_{nb} e^{i\omega_{nd}\tau}
  -A_{ac}A_{db}e^{i\omega_{bd}\tau}   \right]
 \right} \
\end{align}
$$} \sum_n A_{an}A_{nc} e^{i\omega_{cn}\tau&lt;/p&gt;
&lt;h1&gt;Reference&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Cohen-Tannoudji, Claude, Jacques Dupont-Roc, and Gilbert Grynberg. Atom-Photon Interactions: Basic Processes and Applications. New York: Wiley, 1992. Chapter IV.&lt;/li&gt;
&lt;/ul&gt;</content><category term="未分类"></category><category term="[physics"></category><category term="master equation"></category><category term="spontaneous emission]"></category></entry><entry><title>Arch安装deb包：为 deb 包编写 PKGBUILD 文件</title><link href="https://zqw.ink/2023-11-16-coding-makepkg-copy.html" rel="alternate"></link><published>2023-11-16T00:00:00+08:00</published><updated>2023-11-16T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2023-11-16:/2023-11-16-coding-makepkg-copy.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="#前言"&gt;前言&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#makepkg-简介"&gt;&lt;code&gt;makepkg&lt;/code&gt; 简介&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#一个最简单的-pkgbuild-文件"&gt;一个最简单的 &lt;code&gt;PKGBUILD&lt;/code&gt; 文件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#打包流程一个不-trivial-的测试"&gt;打包流程（一个不 trivial 的测试）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#deb-包示例wps-office"&gt;deb 包示例：wps-office&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;前言&lt;/h2&gt;
&lt;p&gt;使用 Arch, 或者基于 Arch 的 Manjaro 时，有些软件官方仓 …&lt;/p&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href="#前言"&gt;前言&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#makepkg-简介"&gt;&lt;code&gt;makepkg&lt;/code&gt; 简介&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#一个最简单的-pkgbuild-文件"&gt;一个最简单的 &lt;code&gt;PKGBUILD&lt;/code&gt; 文件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#打包流程一个不-trivial-的测试"&gt;打包流程（一个不 trivial 的测试）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#deb-包示例wps-office"&gt;deb 包示例：wps-office&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;前言&lt;/h2&gt;
&lt;p&gt;使用 Arch, 或者基于 Arch 的 Manjaro 时，有些软件官方仓库里没有，而网上又可以下载到编译好的二进制文件，deb包，或者rpm包。二进制文件可以直接运行，deb或者rpm包解压后，找到对应的二进制文件，也可以直接运行。&lt;/p&gt;
&lt;p&gt;但时，它们不被 &lt;code&gt;pacman&lt;/code&gt; 包管理器管理，也不能从 app lancher 里面便捷的运行。&lt;/p&gt;
&lt;p&gt;对于 deb 包，AUR库里有一个 &lt;code&gt;debtap&lt;/code&gt; 脚本，可以将 deb 包转换成 &lt;code&gt;pacman -U&lt;/code&gt; 可以直接安装的 &lt;code&gt;.pkg.tar.zst&lt;/code&gt; 格式。这个脚本非常方便，但是由于这个脚本考虑非常全面，注意普适性，这就导致有时候转换后的 &lt;code&gt;.pkg.tar.zst&lt;/code&gt; 包会出现一些问题，安装不上。&lt;/p&gt;
&lt;p&gt;用 &lt;code&gt;makepkg&lt;/code&gt; 打包软件是非常简单的事情，只是如果一点也不了解的话，会生怵。但是只要知道了它的运行机理，就会觉得非常简单，而且很多问题也就不存在了。&lt;/p&gt;
&lt;h2&gt;&lt;code&gt;makepkg&lt;/code&gt; 简介&lt;/h2&gt;
&lt;p&gt;详细地介绍在 ArchWiki 里面都有介绍。在此按我的理解梳理一下。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;makepkg&lt;/code&gt; 是 Arch 系统中的一个软件，它的作用是将写好的程序源代码编译好，并且打包成 &lt;code&gt;.pkg.tar.zst&lt;/code&gt; 格式，然后发布。大家就可以下载打包好的 &lt;code&gt;.pkg.tar.zst&lt;/code&gt; 文件在 Arch 上直接安装。&lt;/p&gt;
&lt;p&gt;要想用 &lt;code&gt;makepkg&lt;/code&gt; 打包一个程序，必须先写一个 &lt;code&gt;PKGBUILD&lt;/code&gt; 文件。系统中有一些示例文件，比如 &lt;code&gt;/usr/share/pacman/PKGBUILD.proto&lt;/code&gt; 。&lt;/p&gt;
&lt;p&gt;写好了 &lt;code&gt;PKGBUILD&lt;/code&gt; 文件，就可以直接在  &lt;code&gt;PKGBUILD&lt;/code&gt; 文件所在的目录直接运行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;makepkg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;然后就生成了 &lt;code&gt;.pkg.tar.zst&lt;/code&gt; 格式的软件包，然后 &lt;code&gt;pacman -U&lt;/code&gt; 安装就可以了。&lt;/p&gt;
&lt;h2&gt;一个最简单的 &lt;code&gt;PKGBUILD&lt;/code&gt; 文件&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;PKGBUILD&lt;/code&gt; 文件使用的是 &lt;code&gt;shell&lt;/code&gt; 语言。最简单的 &lt;code&gt;PKGBUILD&lt;/code&gt; 文件如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nx"&gt;pkgname&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="nx"&gt;hello&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;makepkg&lt;/span&gt;
&lt;span class="nx"&gt;pkgver&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="m m-Double"&gt;1.0&lt;/span&gt;
&lt;span class="nx"&gt;pkgrel&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="nx"&gt;arch&lt;/span&gt;&lt;span class="p"&gt;=(&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="nx"&gt;x86_64&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="kn"&gt;package&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;packaging...&amp;quot;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;前四行定义了四个变量，是软件的名字，版本，以及运行架构。最后三行定义了一个函数，输出一行字 packaging...。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pkgname&lt;/code&gt; 、 &lt;code&gt;pkgver&lt;/code&gt; 、 &lt;code&gt;pkgrel&lt;/code&gt; 、 &lt;code&gt;arch&lt;/code&gt; 四个变量必须定义。名为 &lt;code&gt;package()&lt;/code&gt; 的函数会被 &lt;code&gt;makepkg&lt;/code&gt; 自动执行。&lt;/p&gt;
&lt;p&gt;这个最简单的 &lt;code&gt;PKGBUILD&lt;/code&gt; 文件是 trivial 的，因为它什么也没干，只是走了个过场。&lt;/p&gt;
&lt;h2&gt;打包流程（一个不 trivial 的测试）&lt;/h2&gt;
&lt;p&gt;下面写一个不 trivial 的 &lt;code&gt;PKGBUILD&lt;/code&gt; 文件。如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# This is an example PKGBUILD file. Use this as a start to creating your own,&lt;/span&gt;
&lt;span class="c1"&gt;# and remove these comments. For more information, see &amp;#39;man PKGBUILD&amp;#39;.&lt;/span&gt;
&lt;span class="c1"&gt;# NOTE: Please fill out the license field for your package! If it is unknown,&lt;/span&gt;
&lt;span class="c1"&gt;# then please put &amp;#39;unknown&amp;#39;.&lt;/span&gt;

&lt;span class="c1"&gt;# Maintainer: Your Name &amp;lt;youremail@domain.com&amp;gt;&lt;/span&gt;
&lt;span class="nv"&gt;pkgname&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;zqwtest
&lt;span class="nv"&gt;pkgver&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.0
&lt;span class="nv"&gt;pkgrel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="nv"&gt;arch&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;x86_64&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;source&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;m.vsix&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;md5sums&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;541126551a459a74e740ac6a82875d24&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;


prepare&lt;span class="o"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;prepare...&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;

build&lt;span class="o"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;building...&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#   pwd&lt;/span&gt;
&lt;span class="c1"&gt;#   cd ${srcdir}&lt;/span&gt;
&lt;span class="c1"&gt;#   pwd&lt;/span&gt;
&lt;span class="c1"&gt;#   mkdir diraa&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;

check&lt;span class="o"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;checking...&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;

package&lt;span class="o"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;packaging...&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;mkdir&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;pkgdir&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/home
&lt;span class="w"&gt;    &lt;/span&gt;cp&lt;span class="w"&gt; &lt;/span&gt;m.vsix&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;pkgdir&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/home/m.vsix
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;PKGBUILD&lt;/code&gt; 文件所在的目录结构如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;.
├──&lt;span class="w"&gt; &lt;/span&gt;m.vsix
└──&lt;span class="w"&gt; &lt;/span&gt;PKGBUILD
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;与之前相比，多定义了两个变量，&lt;code&gt;source&lt;/code&gt; 和 &lt;code&gt;md5sums&lt;/code&gt; 。这两个变量有什么用处呢？那应该先说一下 &lt;code&gt;makepkg&lt;/code&gt; 具体都做了什么。&lt;/p&gt;
&lt;p&gt;首先，它们通过我们定义的变量，得到软件包的名字，版本号等信息。&lt;code&gt;source&lt;/code&gt; 变量是告诉 &lt;code&gt;makepkg&lt;/code&gt; 我们打包过程中所需要的文件，它可以是一个本地文件，也可以是一个文件网址。 &lt;code&gt;makepkg&lt;/code&gt; 会获取这个文件，验证它的 md5，然后将它放在（链接）目录 &lt;code&gt;src&lt;/code&gt; 下。 &lt;code&gt;src&lt;/code&gt; 目录是 &lt;code&gt;makepkg&lt;/code&gt; 进行一些处理，比如编译，时的工作目录。&lt;/p&gt;
&lt;p&gt;接下来， &lt;code&gt;makepkg&lt;/code&gt; 依次执行四个函数 &lt;code&gt;prepare()&lt;/code&gt; 、 &lt;code&gt;build()&lt;/code&gt; 、 &lt;code&gt;check()&lt;/code&gt; 、 &lt;code&gt;package()&lt;/code&gt; 。 &lt;code&gt;prepare()&lt;/code&gt; 一般做编译前的处理，比如解压文件。 &lt;code&gt;build()&lt;/code&gt; 进行编译。&lt;code&gt;check()&lt;/code&gt; 检查编译结果。最后 &lt;code&gt;package()&lt;/code&gt; 进行打包。我们这里的 &lt;code&gt;prepare()&lt;/code&gt; 、 &lt;code&gt;build()&lt;/code&gt; 、 &lt;code&gt;check()&lt;/code&gt; 不进行操作，只输出一行文字提示。&lt;/p&gt;
&lt;p&gt;最后，我在函数 &lt;code&gt;package()&lt;/code&gt; 中，先新建了一个目录 &lt;code&gt;${pkgdir}/home&lt;/code&gt; 。这里先说明一下，  &lt;code&gt;makepkg&lt;/code&gt; 会默认定义两个变量：&lt;code&gt;${srcdir}&lt;/code&gt; 是前面提到的工作路径 &lt;code&gt;src&lt;/code&gt;；另一个 &lt;code&gt;${pkgdir}&lt;/code&gt; 是软件包的目录 &lt;code&gt;pkg/${pkgname}&lt;/code&gt; 。 &lt;code&gt;${pkgdir}&lt;/code&gt; 目录就是最终打包成 &lt;code&gt;.pkg.tar.zst&lt;/code&gt; 的目录。在安装包时，&lt;code&gt;${pkgdir}&lt;/code&gt; 会被安装对应的目录中。比如我们在这个例子中，将文件 &lt;code&gt;m.vsix&lt;/code&gt; 放在 &lt;code&gt;${pkgdir}/home/m.vsix&lt;/code&gt; ，那么我们用 &lt;code&gt;pacman -U&lt;/code&gt; 安装时，就会把 &lt;code&gt;m.vsix&lt;/code&gt; 复制到 &lt;code&gt;/home/m.vsix&lt;/code&gt; 。&lt;/p&gt;
&lt;p&gt;运行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;makepkg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;后，目录结构如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;.
├──&lt;span class="w"&gt; &lt;/span&gt;m.vsix
├──&lt;span class="w"&gt; &lt;/span&gt;pkg
│&lt;span class="w"&gt;   &lt;/span&gt;└──&lt;span class="w"&gt; &lt;/span&gt;zqwtest
├──&lt;span class="w"&gt; &lt;/span&gt;PKGBUILD
├──&lt;span class="w"&gt; &lt;/span&gt;src
│&lt;span class="w"&gt;   &lt;/span&gt;├──&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;Content_Types&lt;span class="o"&gt;]&lt;/span&gt;.xml
│&lt;span class="w"&gt;   &lt;/span&gt;├──&lt;span class="w"&gt; &lt;/span&gt;extension
│&lt;span class="w"&gt;   &lt;/span&gt;├──&lt;span class="w"&gt; &lt;/span&gt;extension.vsixmanifest
│&lt;span class="w"&gt;   &lt;/span&gt;└──&lt;span class="w"&gt; &lt;/span&gt;m.vsix&lt;span class="w"&gt; &lt;/span&gt;-&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;/home/zqw/pkgtest/m.vsix
└──&lt;span class="w"&gt; &lt;/span&gt;zqwtest-1.0-1-x86_64.pkg.tar.zst
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;然后我们运行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;pacman&lt;span class="w"&gt; &lt;/span&gt;-U&lt;span class="w"&gt; &lt;/span&gt;zqwtest-1.0-1-x86_64.pkg.tar.zst
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;安装一下，就可以看到，如我们所预期，&lt;code&gt;/home&lt;/code&gt; 目录下多了文件 &lt;code&gt;m.vsix&lt;/code&gt;：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/home
├──&lt;span class="w"&gt; &lt;/span&gt;m.vsix
└──&lt;span class="w"&gt; &lt;/span&gt;zqw
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;然后我们运行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;pacman&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;zqwtest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;删除软件包，就发现&lt;code&gt;/home&lt;/code&gt; 目录下的 &lt;code&gt;m.vsix&lt;/code&gt; 被删除了：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/home
└──&lt;span class="w"&gt; &lt;/span&gt;zqw
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;更加多的例子可以去 AUR 仓库里随便找一些看。比如 &lt;a href="https://aur.archlinux.org/packages/quickapp-ide"&gt;quickapp-ide&lt;/a&gt; ，可以直接 clone 下来学习。&lt;/p&gt;
&lt;h2&gt;deb 包示例：wps-office&lt;/h2&gt;
&lt;p&gt;我们提前准备好 wps-office 的 deb 格式安装包，并和 &lt;code&gt;PKGBUILD&lt;/code&gt; 文件放在一起：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;.
├──&lt;span class="w"&gt; &lt;/span&gt;PKGBUILD
└──&lt;span class="w"&gt; &lt;/span&gt;wps-office_11.1.0.11698.XA_amd64.deb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;PKGBUILD&lt;/code&gt; 文件如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# This is an example PKGBUILD file. Use this as a start to creating your own,&lt;/span&gt;
&lt;span class="c1"&gt;# and remove these comments. For more information, see &amp;#39;man PKGBUILD&amp;#39;.&lt;/span&gt;
&lt;span class="c1"&gt;# NOTE: Please fill out the license field for your package! If it is unknown,&lt;/span&gt;
&lt;span class="c1"&gt;# then please put &amp;#39;unknown&amp;#39;.&lt;/span&gt;

&lt;span class="c1"&gt;# Maintainer: Your Name &amp;lt;youremail@domain.com&amp;gt;&lt;/span&gt;
&lt;span class="nv"&gt;pkgname&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;wps-office
&lt;span class="nv"&gt;pkgver&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;11&lt;/span&gt;.1.0.11698
&lt;span class="nv"&gt;pkgrel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="nv"&gt;arch&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;x86_64&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;source&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;wps-office_11.1.0.11698.XA_amd64.deb&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;md5sums&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;c80a2b32604cb2a8eb0de456a062fe30&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;


prepare&lt;span class="o"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;mv&lt;span class="w"&gt; &lt;/span&gt;wps-office_11.1.0.11698.XA_amd64.deb&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;pkgver&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;_&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;pkgver&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;.deb
&lt;span class="w"&gt;    &lt;/span&gt;ar&lt;span class="w"&gt; &lt;/span&gt;-x&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;pkgver&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;_&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;pkgver&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;.deb
&lt;span class="w"&gt;    &lt;/span&gt;mkdir&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;pkgname&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;-&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;pkgver&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;tar&lt;span class="w"&gt; &lt;/span&gt;-xf&lt;span class="w"&gt; &lt;/span&gt;data.tar.xz&lt;span class="w"&gt; &lt;/span&gt;--directory&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;pkgname&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;-&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;pkgver&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;


package&lt;span class="o"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="nv"&gt;$pkgname&lt;/span&gt;&lt;span class="s2"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;$pkgver&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;cp&lt;span class="w"&gt; &lt;/span&gt;-r&lt;span class="w"&gt; &lt;/span&gt;./&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;pkgdir&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;/
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;这里说明一下， &lt;code&gt;deb&lt;/code&gt; 包全部解压后会有两个文件夹，&lt;code&gt;control&lt;/code&gt; 和 &lt;code&gt;data&lt;/code&gt; 。&lt;code&gt;control&lt;/code&gt; 类似于我们的  &lt;code&gt;PKGBUILD&lt;/code&gt; ，包含了软件的信息和安装过程中进行的一些操作。 &lt;code&gt;data&lt;/code&gt; 类似于 &lt;code&gt;{pkgdir}&lt;/code&gt; ，包含了需要安装的所有文件。因此我们要做的就是把 &lt;code&gt;deb&lt;/code&gt; 全部解压，然后将 &lt;code&gt;data&lt;/code&gt; 目录打包。&lt;/p&gt;</content><category term="未分类"></category><category term="[Arch"></category><category term="manjaro"></category><category term="makepkg"></category><category term="PKGBUILD]"></category></entry><entry><title>三种统计分布的相图</title><link href="https://zqw.ink/2023-11-03-physics-phase_diagram_of_statistic_function.html" rel="alternate"></link><published>2023-11-03T00:00:00+08:00</published><updated>2023-11-03T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2023-11-03:/2023-11-03-physics-phase_diagram_of_statistic_function.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="#bose-einstein-distribution"&gt;Bose-Einstein distribution&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#free-boson"&gt;Free Boson&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#condensation-of-free-boson"&gt;Condensation of free Boson&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#condensation-of-fermi-pairs"&gt;Condensation of Fermi pairs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#more-generally-dispersion-cases"&gt;More generally dispersion cases&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#fermi-dirac-distribution"&gt;Fermi-Dirac distribution&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#maxwell-boltzmann-distribution"&gt;Maxwell-Boltzmann distribution&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#reference"&gt;Reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Bose-Einstein distribution&lt;/h1&gt;
&lt;h2&gt;Free Boson&lt;/h2&gt;
&lt;p&gt;For free Bosons, the particle density can be written as the sum of the Bose-Einstein distribution for every energy level with momentum $\mathbf{k}$,
$$
n …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="#bose-einstein-distribution"&gt;Bose-Einstein distribution&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#free-boson"&gt;Free Boson&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#condensation-of-free-boson"&gt;Condensation of free Boson&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#condensation-of-fermi-pairs"&gt;Condensation of Fermi pairs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#more-generally-dispersion-cases"&gt;More generally dispersion cases&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#fermi-dirac-distribution"&gt;Fermi-Dirac distribution&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#maxwell-boltzmann-distribution"&gt;Maxwell-Boltzmann distribution&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#reference"&gt;Reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Bose-Einstein distribution&lt;/h1&gt;
&lt;h2&gt;Free Boson&lt;/h2&gt;
&lt;p&gt;For free Bosons, the particle density can be written as the sum of the Bose-Einstein distribution for every energy level with momentum $\mathbf{k}$,
$$
n(T, \mu) = \frac{1}{V}\sum_{\mathbf{k}}
\frac{1}{e^{ \frac{1}{k_B T}\left( \frac{\hbar^2 k^2}{2m} - \mu\right)} - 1}
= \frac{1}{V}\sum_{\mathbf{k}}
\frac{1}{z^{-1}e^{ \frac{1}{k_B T} \frac{\hbar^2 k^2}{2m}} - 1}
$$
where fugacity $z = e^{\frac{\mu}{k_BT}}$. Using
$$
 \frac{1}{V} \sum_{\mathbf{k}}\to \frac{1}{(2\pi)^3}\int \mathrm{d}^3k
$$
convert a sum over momentum states into an integral, then,
$$
\begin{align}
n(T, \mu) =&amp;amp; \frac{4\pi}{(2\pi)^3}\int_0^{\infty} \mathrm{d}k
\frac{k^2}{z^{-1}e^{ \frac{1}{k_B T} \frac{\hbar^2 k^2}{2m} } - 1}\
=&amp;amp; \frac{1}{\lambda_{\mathrm{d.B.}}^3} \frac{4}{\sqrt{\pi}}
  \int_0^{\infty}\mathrm{d}x \frac{x^2}{z^{-1}e^{x^2} - 1}\
=&amp;amp; \frac{1}{\lambda_{\mathrm{d.B.}}^3} \frac{2}{\sqrt{\pi}}
  \int_0^{\infty}\mathrm{d}\varepsilon \frac{\sqrt{\varepsilon}}{z^{-1}e^{\varepsilon} - 1} \
=&amp;amp; \frac{1}{\lambda_{\mathrm{d.B.}}^3} \mathrm{Li}&lt;em 3_2="3/2"&gt;{3/2}(z) \
=&amp;amp; \left(\frac{m k_B T}{2 \pi \hbar^2} \right)^{3/2}\mathrm{Li}&lt;/em&gt;(z)
\end{align}
$$
where we have defined the thermal de Broglie wavelength
 $\lambda_{\mathrm{d.B.}} = \sqrt{\frac{2\pi \hbar^2}{m k_B T}}$ by setting&lt;/p&gt;
&lt;p&gt;$$
\frac{\hbar^2}{m}\frac{1}{\lambda_{\mathrm{d.B.}}^2} = \frac{k_B T}{2\pi}.
$$&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://en.wikipedia.org/wiki/Polylogarithm"&gt;Polylogarithm&lt;/a&gt; is defined as&lt;/p&gt;
&lt;p&gt;$$
\begin{align}
\mathrm{Li}&lt;em k&gt;s(z) = \sum&lt;/em&gt;
\end{align}
$$
}^{\infty} \frac{z^k}{k^s&lt;img alt="free-bose" src="./2023-11-03-physics-phase_diagram_of_statistic_function/free-bose.svg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="./2023-11-03-physics-phase_diagram_of_statistic_function/free-bose.py"&gt;free-bose.py&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Condensation of free Boson&lt;/h2&gt;
&lt;p&gt;For free Bosons, when the density fixed, lower the temperature, the chemical potential will approach $0$. Therefore the Bosons will condense to the zero momentum states. Therefore, we can find the condensate critical temperature $T_C$ by setting $\mu\to 0$,
$$
k_B T_C = \left(\frac{n}{\mathrm{Li}&lt;em 3_2="3/2"&gt;{3/2}(1)}\right)^{2/3}\frac{1}{\frac{m}{2\pi\hbar^2}}
$$
where $\mathrm{Li}&lt;/em&gt;(1) = \zeta(3/2)\approx2.612$.&lt;/p&gt;
&lt;h2&gt;Condensation of Fermi pairs&lt;/h2&gt;
&lt;p&gt;The two components Fermion system on the strong BEC side, every two Fermions form a bound Boson pairs. Thus we can consider this system as a free Bosons. We label the density of pairs as $n$, also every component has a density $n$. Label the mass of a Fermion as $m$, so the mass of a pair is $M=2m$, and the chemical potential $2\mu$. We define the Fermi momentum as $k_F^3 = 6\pi^2 n$, and Fermi energy as $E_F = \frac{\hbar^2 k_F^2}{2m}$. Then the density of pairs can be written as
$$
\begin{align}
n(T, 2\mu)
= \left(\frac{M k_B T}{2 \pi \hbar^2} \right)^{3/2}\mathrm{Li}_{3/2}(z)
\end{align}
$$
where $z=e^{\frac{2\mu}{k_B T}}$. We can get the condensate critical temperature of pairs&lt;/p&gt;
&lt;p&gt;$$
k_B T_C = \left(\frac{n}{\mathrm{Li}&lt;em 3_2="3/2"&gt;{3/2}(1)}\right)^{2/3}\frac{1}{\frac{M}{2\pi\hbar^2}} = \frac{2\pi}{\left[6\pi^2\mathrm{Li}&lt;/em&gt; E_F
\approx 0.218 E_F
$$}(1)\right]^{2/3}&lt;/p&gt;
&lt;h2&gt;More generally dispersion cases&lt;/h2&gt;
&lt;p&gt;$$
\int_0^{\infty}\mathrm{d}\varepsilon \frac{x^{\nu}}{z^{-1} e^{\varepsilon} - 1}
= \Gamma(1+\nu)\mathrm{Li}_{1+\nu}(z)
$$
where $\nu = 1/2$ for the 3D free Boson. And the gamma function&lt;/p&gt;
&lt;p&gt;$$
 \Gamma(z)=\int _0^{\infty}\mathrm{d}t\cdot e^{-t} t^{z-1}
$$
which $\Gamma(3/2) = \sqrt{\pi}/2$ for the 3D free Boson.&lt;/p&gt;
&lt;p&gt;For Fermion case&lt;/p&gt;
&lt;p&gt;$$
\int_0^{\infty}\mathrm{d}\varepsilon \frac{x^{\nu}}{z^{-1} e^{\varepsilon} + 1}
= -\Gamma(1+\nu)\mathrm{Li}_{1+\nu}(-z)
$$&lt;/p&gt;
&lt;h1&gt;Fermi-Dirac distribution&lt;/h1&gt;
&lt;p&gt;For free Bosons, the particle density can be written as the sum of the Bose-Einstein distribution for every energy level with momentum $\mathbf{k}$,
$$
n(T, \mu) = \frac{1}{V}\sum_{\mathbf{k}}&lt;/p&gt;
&lt;p&gt;\frac{1}{z^{-1}e^{ \frac{1}{k_B T} \frac{\hbar^2 k^2}{2m}} + 1}
$$
where fugacity $z = e^{\frac{\mu}{k_BT}}$. Convert a sum over momentum states into an integral, then,
$$
\begin{align}
n(T, \mu) =&amp;amp; \frac{4\pi}{(2\pi)^3}\int_0^{\infty} \mathrm{d}k
\frac{k^2}{z^{-1}e^{ \frac{1}{k_B T} \frac{\hbar^2 k^2}{2m} } + 1}\
=&amp;amp; \frac{1}{\lambda_{\mathrm{d.B.}}^3} \frac{4}{\sqrt{\pi}}
  \int_0^{\infty}\mathrm{d}x \frac{x^2}{z^{-1}e^{x^2} + 1}\
=&amp;amp; \frac{1}{\lambda_{\mathrm{d.B.}}^3} \frac{2}{\sqrt{\pi}}
  \int_0^{\infty}\mathrm{d}\varepsilon \frac{\sqrt{\varepsilon}}{z^{-1}e^{\varepsilon} + 1} \
=&amp;amp; \frac{1}{\lambda_{\mathrm{d.B.}}^3} \left[-\mathrm{Li}&lt;em 3_2="3/2"&gt;{3/2}(-z)\right] \
=&amp;amp; \left(\frac{m k_B T}{2 \pi \hbar^2} \right)^{3/2}\left[-\mathrm{Li}&lt;/em&gt;(-z)\right]
\end{align}
$$&lt;/p&gt;
&lt;p&gt;&lt;img alt="free-fermi" src="./2023-11-03-physics-phase_diagram_of_statistic_function/free-fermi.svg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="./2023-11-03-physics-phase_diagram_of_statistic_function/free-fermi.py"&gt;free-fermi.py&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Maxwell-Boltzmann distribution&lt;/h1&gt;
&lt;h1&gt;Reference&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Polylogarithm"&gt;Polylogarithm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Gamma_function"&gt;Gamma function&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Pathria, R. K., and Paul D. Beale. Statistical Mechanics. 3rd ed. Amsterdam ; Boston: Elsevier/Academic Press, 2011. Chap.7 and Appendices D, E.&lt;/li&gt;
&lt;li&gt;Stoof, Henk T. C., Koos B. Gubbels, and Dennis B. M. Dickerscheid. Ultracold Quantum Fields. Theoretical and Mathematical Physics. Dordrecht ; New York: Springer, 2009. Chap.4.3.&lt;/li&gt;
&lt;/ul&gt;</content><category term="未分类"></category><category term="[physics"></category><category term="chemical potential]"></category></entry><entry><title>一个 Hadamard finite part</title><link href="https://zqw.ink/2023-10-23-physics-hadamard.html" rel="alternate"></link><published>2023-10-23T00:00:00+08:00</published><updated>2023-10-23T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2023-10-23:/2023-10-23-physics-hadamard.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;
&lt;p&gt;$F(\rho, z)$ 是一个光滑，并且在正负无穷快速decay到时0,的函数，比如 $F(\rho, z) = 1/(z^2 + 1)$。我们想要计算
$$
\lim_{\rho\to 0} \frac{\partial}{\partial\rho}\left[\rho
\int_{-\infty}^{+\infty} \frac …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;
&lt;p&gt;$F(\rho, z)$ 是一个光滑，并且在正负无穷快速decay到时0,的函数，比如 $F(\rho, z) = 1/(z^2 + 1)$。我们想要计算
$$
\lim_{\rho\to 0} \frac{\partial}{\partial\rho}\left[\rho
\int_{-\infty}^{+\infty} \frac{F(\rho, z)}{\rho^2 + z^2}\mathrm{d}z\right]
$$&lt;/p&gt;
&lt;p&gt;其中的积分
$$
\int_{-\infty}^{+\infty} \frac{F(\rho, z)}{\rho^2 + z^2}\mathrm{d}z
$$
可以在 $\rho\to 0$ 处展开
$$
\int_{-\infty}^{+\infty} \frac{F(\rho, z)}{\rho^2 + z^2}\mathrm{d}z
= \frac{\pi}{\rho}F(0, 0) + C_0 + C_1 \rho + C_2\rho^2 + \cdots
$$
其中第一项
$$
\lim_{\rho\to 0}\int_{-\infty}^{+\infty} \frac{F(\rho, z)}{\rho^2 + z^2}\mathrm{d}z
=\lim_{\rho\to 0}\int_{-\infty}^{+\infty} \frac{F(\rho, z)}{\rho}\frac{\rho}{\rho^2 + z^2}\mathrm{d}z
=\int_{-\infty}^{+\infty} \frac{F(\rho, z)}{\rho}\pi\delta(z)\mathrm{d}z
= \frac{\pi}{\rho}F(0, 0)
$$
代回原式后得
$$
\lim_{\rho\to 0} \frac{\partial}{\partial\rho}\left[\rho
\int_{-\infty}^{+\infty} \frac{F(\rho, z)}{\rho^2 + z^2}\mathrm{d}z\right]
 = C_0
$$
也就是说，我们想要的就是 $C_0$。但这在数值上如何计算呢？我们可以把发散的部分
$$
\lim_{\rho\to 0}\int_{-\infty}^{+\infty} \frac{F(\rho, z)}{\rho^2 + z^2}\mathrm{d}z
=
\int_{-\infty}^{+\infty} \frac{F(0, z)}{ z^2}\mathrm{d}z
= \frac{\pi}{\rho}F(0, 0)
$$
减去，就得到
$$
\lim_{\rho\to 0} \frac{\partial}{\partial\rho}\left[\rho
\int_{-\infty}^{+\infty} \frac{F(\rho, z)}{\rho^2 + z^2}\mathrm{d}z\right]
=
\int_{-\infty}^{\infty}\left[
\frac{F(0, z)}{z^2} - \frac{F(0, 0)}{z^2}\right]\mathrm{d}z
$$
这样我们就可以做数值计算了。&lt;/p&gt;
&lt;h1&gt;例&lt;/h1&gt;
&lt;p&gt;比如$F(\rho, z) = 1/(z^2 + 1)$时，
$$
\int_{-\infty}^{\infty}\left[
\frac{1}{z^2}\frac{1}{z^2 + 1} - \frac{1}{z^2}\frac{1}{0^2 + 1}\right]\mathrm{d}z
= \int_{-\infty}^{\infty}
\frac{-1}{z^2 + 1} \mathrm{d}z = -\pi
$$&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;scipy.integrate&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;quad&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;quad_recorded&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;    use scipy.integrate.quad, but return the results with additional&lt;/span&gt;
&lt;span class="sd"&gt;    information &amp;quot;nc&amp;quot; and &amp;quot;vc&amp;quot;.&lt;/span&gt;

&lt;span class="sd"&gt;    Returns:&lt;/span&gt;
&lt;span class="sd"&gt;        inte_res: the return of scipy.integrate.quad&lt;/span&gt;
&lt;span class="sd"&gt;              nc: the points calculated&lt;/span&gt;
&lt;span class="sd"&gt;              vc: the calculated functiona values&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;func_recorded&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;node_container&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value_container&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;res&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;node_container&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;value_container&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;res&lt;/span&gt;
    &lt;span class="n"&gt;nc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;vc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;inte_res&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;quad&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;func_recorded&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;node_container&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;nc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                            &lt;span class="n"&gt;value_container&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vc&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                    &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;idx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argsort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nc&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;nc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nc&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tolist&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;vc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vc&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tolist&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;inte_res&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vc&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;foo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="c1"&gt;# check the first term in expansion&lt;/span&gt;
&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.01&lt;/span&gt;
&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;quad_recorded&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;foo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;numeric:&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;analytic:&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savefig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;first-term.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transparent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;clf&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="c1"&gt;# calculate the Hadamard finite part&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fini&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;

&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;quad_recorded&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fini&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# print(&amp;#39;numeric:&amp;#39;, res)&lt;/span&gt;
&lt;span class="c1"&gt;# print(&amp;#39;analytic:&amp;#39;, np.pi/r*f(0, 0))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savefig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;finite-part.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transparent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;numeric&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;310.9760738639882&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;9.137428740868536e-07&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;analytic&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;314.1592653589793&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;3.140592653672964&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;4.381553441406457e-11&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="first-term" src="2023-10-23-physics-Hadamard/first-term.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="finite-part" src="2023-10-23-physics-Hadamard/finite-part.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="2023-10-23-physics-Hadamard/Hadamard.py"&gt;Hadamard.py&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;致谢&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;F Yang and R Qi&lt;/li&gt;
&lt;/ol&gt;</content><category term="未分类"></category><category term="[Hadamard integral"></category><category term="mathematic]"></category></entry><entry><title>matplotlib 科研作图总结</title><link href="https://zqw.ink/2023-10-12-coding-matplotlib.html" rel="alternate"></link><published>2023-10-12T00:00:00+08:00</published><updated>2023-10-12T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2023-10-12:/2023-10-12-coding-matplotlib.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;结合近几年的经验，把&lt;code&gt;matplotlib&lt;/code&gt;作图常用的脚本集合在此。这包含了之前一些关于&lt;code&gt;matplotlib&lt;/code&gt;作图的博文。&lt;/p&gt;
&lt;h1&gt;作图风格&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;matplotlib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;rc&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;prettify_plot&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;    change the plot …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;结合近几年的经验，把&lt;code&gt;matplotlib&lt;/code&gt;作图常用的脚本集合在此。这包含了之前一些关于&lt;code&gt;matplotlib&lt;/code&gt;作图的博文。&lt;/p&gt;
&lt;h1&gt;作图风格&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;matplotlib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;rc&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;prettify_plot&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;    change the plot matplotlibrc file&lt;/span&gt;

&lt;span class="sd"&gt;    To use it, please run it before plotting.&lt;/span&gt;

&lt;span class="sd"&gt;    https://matplotlib.org/stable/tutorials/introductory/customizing.html#customizing-with-matplotlibrc-files&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;text&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;usetex&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;font&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;family&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;serif&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;serif&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Computer Modern Roman&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="c1"&gt;# rc(&amp;#39;legend&amp;#39;, fontsize=10)&lt;/span&gt;
    &lt;span class="c1"&gt;# rc(&amp;#39;mathtext&amp;#39;, fontset=&amp;#39;cm&amp;#39;)&lt;/span&gt;
    &lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;xtick&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;in&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ytick&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;in&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;用于调整作图的字体，风格。&lt;/p&gt;
&lt;h1&gt;作图尺寸，布局&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;3.375&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.5&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="c1"&gt;# 单栏图宽度固定3.375， 双栏图宽度固定 6.75&lt;/span&gt;

&lt;span class="n"&gt;gs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_gridspec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nrows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ncols&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;left&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.08&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bottom&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;right&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.99&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;top&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.94&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;wspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;hspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;width_ratios&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                      &lt;span class="n"&gt;height_ratios&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;:])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;彩图及colorbar&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;gs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_gridspec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nrows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ncols&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;left&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.08&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bottom&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;right&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.99&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;top&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.94&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;wspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;hspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;width_ratios&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                      &lt;span class="n"&gt;height_ratios&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;:])&lt;/span&gt;
&lt;span class="n"&gt;ima&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;colorbar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ima&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ax_c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;orientation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;horizontal&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;自定义color map&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.colors&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ListedColormap&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;mpl&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;newcmap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;old&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;old_map&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mpl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;colormaps&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;old&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;cut1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;old_map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;cut2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;old_map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="c1"&gt;#     cut3 = old_map(np.linspace(0.6, 1, 10))&lt;/span&gt;
    &lt;span class="n"&gt;cutall&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concatenate&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;cut1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cut2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;ListedColormap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cutall&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;newcmap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;jet&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;newcmap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;jet&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;colorbar&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savefig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;newcmap.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transparent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="image-newcamp" src="2023-10-12-coding-matplotlib/newcmap.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="2023-10-12-coding-matplotlib/newcmap.py"&gt;newcmap.py&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;在每个子图插入 colorbar&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;mpl_toolkits.axes_grid1&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;make_axes_locatable&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;


&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;divider1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;make_axes_locatable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ax_1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_cb1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;divider1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new_horizontal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;5%&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pad&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.05&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_axes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ax_cb1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;divider2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;make_axes_locatable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ax_2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_cb2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;divider2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new_horizontal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;5%&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pad&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.05&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_axes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ax_cb2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;im1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax_1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;rainbow&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;im2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax_2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;rainbow&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;colorbar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;im1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax_cb1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;colorbar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;im2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax_cb2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savefig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;divider.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transparent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href="2023-10-12-coding-matplotlib/divider.py"&gt;divider.py&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="divider" src="2023-10-12-coding-matplotlib/divider.png"&gt;&lt;/p&gt;
&lt;h1&gt;双重坐标轴&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax00&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax00twin&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax00&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;twiny&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ax01&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;xtwin&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;60&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax00&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;b-&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# ax00twin.plot(xtwin, np.cos(0.1*xtwin), &amp;#39;r--&amp;#39;)&lt;/span&gt;
&lt;span class="n"&gt;ax00twin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xticks&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax00&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax00twin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax01&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax01&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;secondary_xaxis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;location&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;top&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;functions&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savefig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;double_ax.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transparent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="image-double_ax" src="2023-10-12-coding-matplotlib/double_ax.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="2023-10-12-coding-matplotlib/double_ax.py"&gt;double_ax.py&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;示例 Phys. Rev. B 108, 054313 (2023) fig1&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;matplotlib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;rc&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;types&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SimpleNamespace&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_file_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;fn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;splitext&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;fn&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;prettify_plot&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;    change the plot matplotlibrc file&lt;/span&gt;

&lt;span class="sd"&gt;    To use it, please run it before plotting.&lt;/span&gt;

&lt;span class="sd"&gt;    https://matplotlib.org/stable/tutorials/introductory/customizing.html#customizing-with-matplotlibrc-files&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;text&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;usetex&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;font&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;family&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;serif&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;serif&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Computer Modern Roman&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="c1"&gt;# rc(&amp;#39;legend&amp;#39;, fontsize=10)&lt;/span&gt;
    &lt;span class="c1"&gt;# rc(&amp;#39;mathtext&amp;#39;, fontset=&amp;#39;cm&amp;#39;)&lt;/span&gt;
    &lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;xtick&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;in&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ytick&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;in&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;FigureData&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;    A dict which figure data save in.&lt;/span&gt;
&lt;span class="sd"&gt;    For example:&lt;/span&gt;
&lt;span class="sd"&gt;        save:&lt;/span&gt;
&lt;span class="sd"&gt;            x1 = [1, 2, 3]&lt;/span&gt;
&lt;span class="sd"&gt;            y1 = [1, 2, 3]&lt;/span&gt;
&lt;span class="sd"&gt;            x2 = [2, 3, 4]&lt;/span&gt;
&lt;span class="sd"&gt;            y2 = [2, 3, 4]&lt;/span&gt;
&lt;span class="sd"&gt;            fd = FigureData()&lt;/span&gt;
&lt;span class="sd"&gt;            fd.add_data(&amp;#39;x1&amp;#39;, x1)&lt;/span&gt;
&lt;span class="sd"&gt;            fd.add_data(&amp;#39;y1&amp;#39;, y1)&lt;/span&gt;
&lt;span class="sd"&gt;            fd.add_data(&amp;#39;x2&amp;#39;, x2)&lt;/span&gt;
&lt;span class="sd"&gt;            fd.add_data(&amp;#39;y2&amp;#39;, y2)&lt;/span&gt;
&lt;span class="sd"&gt;            fd.save_data(&amp;#39;mydata&amp;#39;)&lt;/span&gt;
&lt;span class="sd"&gt;        load:&lt;/span&gt;
&lt;span class="sd"&gt;            fd = FigureData()&lt;/span&gt;
&lt;span class="sd"&gt;            fd.load_data(&amp;#39;mydata&amp;#39;)&lt;/span&gt;
&lt;span class="sd"&gt;            x1 = fd.d.x1&lt;/span&gt;
&lt;span class="sd"&gt;            y1 = fd.d.y1&lt;/span&gt;
&lt;span class="sd"&gt;            x2 = fd.d.x2&lt;/span&gt;
&lt;span class="sd"&gt;            y2 = fd.d.y2&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_data&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;save_data&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;file_name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_name&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.json&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dump&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;load_data&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;file_name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_name&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.json&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SimpleNamespace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="n"&gt;arrowprops&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;color&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;tab:pink&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s2"&gt;&amp;quot;shrink&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;0.05&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s2"&gt;&amp;quot;width&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s2"&gt;&amp;quot;headwidth&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="s2"&gt;&amp;quot;headlength&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;gap_arrowprops&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;color&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;black&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s2"&gt;&amp;quot;arrowstyle&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;|-|&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s1"&gt;&amp;#39;shrinkA&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="s1"&gt;&amp;#39;shrinkB&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;fd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;FigureData&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load_data&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;get_file_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="vm"&gt;__file__&lt;/span&gt;&lt;span class="p"&gt;)[:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;prettify_plot&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;



&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;6.75&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.5&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;gs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_gridspec&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nrows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ncols&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;left&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.08&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bottom&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;right&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.99&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;top&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.94&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;wspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;hspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax_a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_a_ins&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;inset_axes&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mf"&gt;.12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.39&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;35&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;65&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_b_ins&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax_b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;inset_axes&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mf"&gt;.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.13&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.34&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.23&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;40&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;70&lt;/span&gt;&lt;span class="p"&gt;:])&lt;/span&gt;
&lt;span class="n"&gt;ax_c_ins&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax_c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;inset_axes&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mf"&gt;.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.65&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.27&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;55&lt;/span&gt;&lt;span class="p"&gt;:,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_e&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;55&lt;/span&gt;&lt;span class="p"&gt;:,&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;43&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_f&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;55&lt;/span&gt;&lt;span class="p"&gt;:,&lt;/span&gt; &lt;span class="mi"&gt;46&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;66&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_g&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;55&lt;/span&gt;&lt;span class="p"&gt;:,&lt;/span&gt; &lt;span class="mi"&gt;69&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;89&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax_cbar&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;90&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;92&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_real&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_imag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
          &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;o&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mec&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Im$[\lambda]$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Re$[\lambda]$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_label_coords&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;yaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_label_coords&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.83&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;(a)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transAxes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;vec_i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;vmax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;vmin&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;annotate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(iii)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_real&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt;
                        &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_imag&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]]],&lt;/span&gt;
              &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;.85&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.85&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;textcoords&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;axes fraction&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;annotate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(iv)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_real&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt;
                       &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_imag&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]]],&lt;/span&gt;
              &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.8&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;textcoords&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;axes fraction&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_a_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;annotate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(i)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_real&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt;
                          &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_imag&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]]],&lt;/span&gt;
                  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;.6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.5&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="n"&gt;textcoords&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;axes fraction&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_a_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;annotate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(ii)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_real&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt;
                           &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_imag&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]]],&lt;/span&gt;
                  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                  &lt;span class="n"&gt;textcoords&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;axes fraction&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax_a_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_real&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_val_imag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;o&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mec&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_a_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;annotate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;70&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;gap_arrowprops&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_a_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;55&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.8e6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$\Delta$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax_a_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;300&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_a_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2e6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2e6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;connector_lines_a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax_a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;indicate_inset_zoom&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ax_a_ins&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                                &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;cl&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;connector_lines_a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;cl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax_b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_no_hop_val_real&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_no_hop_val_imag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
          &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;o&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mec&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_b_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_no_hop_val_real&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_no_hop_val_imag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;o&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mec&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_b_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_b_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1e6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1e6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_b_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;annotate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;gap_arrowprops&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_b_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3e5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$\Delta$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;connector_lines_b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax_b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;indicate_inset_zoom&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ax_b_ins&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                                &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;cl&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;connector_lines_b&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;cl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# ax_b.set_yticks([])&lt;/span&gt;
&lt;span class="n"&gt;ax_b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.83&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;(b)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ax_b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transAxes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Re$[\lambda]$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_label_coords&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax_c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;no_on_hop_val_real&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;no_on_hop_val_imag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
          &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;o&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mec&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.13&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.83&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;(c)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ax_c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transAxes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Re$[\lambda]$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_label_coords&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_c_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;no_on_hop_val_real&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;no_on_hop_val_imag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="n"&gt;marker&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;o&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mec&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_c_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_c_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_c_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;annotate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;65&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;arrowprops&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;gap_arrowprops&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_c_ins&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;55&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.02&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$\Delta$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;connector_lines_c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax_c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;indicate_inset_zoom&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ax_c_ins&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;edgecolor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                                &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;cl&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;connector_lines_c&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;cl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;.7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# ax_e.plot([5], [15],&lt;/span&gt;
&lt;span class="c1"&gt;#           &amp;#39;gx&amp;#39;, ms=2)&lt;/span&gt;
&lt;span class="c1"&gt;# ax_d.plot([5], [15],&lt;/span&gt;
&lt;span class="c1"&gt;#           &amp;#39;rx&amp;#39;, ms=2)&lt;/span&gt;
&lt;span class="c1"&gt;# ax_f.plot([5], [15],&lt;/span&gt;
&lt;span class="c1"&gt;#           &amp;#39;bx&amp;#39;, ms=2)&lt;/span&gt;
&lt;span class="c1"&gt;# ax_g.plot([5], [15],&lt;/span&gt;
&lt;span class="c1"&gt;#           color=&amp;#39;orange&amp;#39;, marker=&amp;#39;x&amp;#39;, ms=2)&lt;/span&gt;

&lt;span class="n"&gt;im_d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ax_d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_vecs_abs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt;
                   &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;jet&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vmax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vmax&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vmin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vmin&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;(d)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ax_d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transAxes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$m$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$n$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_label_coords&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;yaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_label_coords&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(i)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax_e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_vecs_abs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt;
            &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;jet&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vmax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vmax&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vmin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vmin&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_yticks&lt;/span&gt;&lt;span class="p"&gt;([])&lt;/span&gt;
&lt;span class="n"&gt;ax_e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$m$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_label_coords&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(ii)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax_f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_vecs_abs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt;
            &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;jet&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vmax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vmax&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vmin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vmin&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_yticks&lt;/span&gt;&lt;span class="p"&gt;([])&lt;/span&gt;
&lt;span class="n"&gt;ax_f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$m$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_label_coords&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(iii)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax_g&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;on_hop_vecs_abs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;vec_i&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt;
            &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;jet&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lower&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vmax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vmax&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vmin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;vmin&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_g&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_yticks&lt;/span&gt;&lt;span class="p"&gt;([])&lt;/span&gt;
&lt;span class="n"&gt;ax_g&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$m$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_g&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_label_coords&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;.2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_g&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(iv)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;ax_cbar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tick_params&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax_cbar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$\rho_&lt;/span&gt;&lt;span class="si"&gt;{nm}&lt;/span&gt;&lt;span class="s1"&gt;$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;colorbar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;im_d&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ax_cbar&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savefig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;get_file_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="vm"&gt;__file__&lt;/span&gt;&lt;span class="p"&gt;)[:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.pdf&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dpi&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savefig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;get_file_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="vm"&gt;__file__&lt;/span&gt;&lt;span class="p"&gt;)[:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dpi&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transparent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;画图数据：&lt;a href="2023-10-12-coding-matplotlib/fig2/fig2.json"&gt;fig2.json&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-fig2" src="2023-10-12-coding-matplotlib/fig2/fig2.png"&gt;&lt;/p&gt;
&lt;h1&gt;参考资料&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://matplotlib.org/stable/"&gt;https://matplotlib.org/stable/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</content><category term="未分类"></category><category term="[python"></category><category term="matplotlib]"></category></entry><entry><title>Scattering Summarize</title><link href="https://zqw.ink/2023-09-15-physics-scattering.html" rel="alternate"></link><published>2023-09-15T00:00:00+08:00</published><updated>2023-09-15T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2023-09-15:/2023-09-15-physics-scattering.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;挖个坑，之后慢慢填。&lt;/p&gt;
&lt;h1&gt;一维方势阱&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;S&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;0&amp;lt;E&amp;lt;V0&lt;/span&gt;
&lt;span class="sd"&gt;    曾谨言. 量子力学（卷1）, 2007. Eq(3.3.15)&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;K …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;挖个坑，之后慢慢填。&lt;/p&gt;
&lt;h1&gt;一维方势阱&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;S&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;0&amp;lt;E&amp;lt;V0&lt;/span&gt;
&lt;span class="sd"&gt;    曾谨言. 量子力学（卷1）, 2007. Eq(3.3.15)&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;K&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;S_val&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;
    &lt;span class="n"&gt;S_val&lt;/span&gt; &lt;span class="o"&gt;/=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sinh&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cosh&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;S_val&lt;/span&gt; &lt;span class="o"&gt;*=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;S_val&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;R&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;0&amp;lt;E&amp;lt;V0&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;K&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;R_val&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;S&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;K&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;R_val&lt;/span&gt; &lt;span class="o"&gt;-=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;
    &lt;span class="n"&gt;R_val&lt;/span&gt; &lt;span class="o"&gt;/=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;R_val&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;f_kk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;S&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;f_mkk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;sigma_total&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f_kk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f_mkk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;sigma_total_optical_theorems&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;f_kk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;E&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imag&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;

&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.2&lt;/span&gt;
&lt;span class="n"&gt;V0&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;
&lt;span class="n"&gt;Es&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1e-2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;endpoint&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;Ss&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;Rs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;sigma_total_s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;optical_theorem_s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;sigma_kk_s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;sigma_mkk_s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;f_kk_s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;f_mkk_s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ei&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;Es&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;Ss&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;S&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ei&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;Rs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ei&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;sigma_total_s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sigma_total&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ei&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;optical_theorem_s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sigma_total_optical_theorems&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ei&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;sigma_kk_s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f_kk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ei&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;ei&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;sigma_mkk_s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f_mkk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ei&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;ei&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;f_kk_s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f_kk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ei&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;f_mkk_s&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f_mkk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ei&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;V0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Es&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Ss&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$|S|^2$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Es&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Rs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$|R|^2$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Es&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Rs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conjugate&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Ss&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Rs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Ss&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;conjugate&lt;/span&gt;&lt;span class="p"&gt;()))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;real&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;x&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;in coming energy E&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savefig&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;fig.png&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;transparent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="image-scattering" src="./2023-09-15-physics-Scattering/fig.png"&gt;&lt;/p&gt;
&lt;h1&gt;参考资料&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;曾谨言. 量子力学（卷1）, 2007.&lt;/li&gt;
&lt;/ol&gt;</content><category term="未分类"></category><category term="[scattering"></category><category term="physic]"></category></entry><entry><title>博客2.0版本的介绍存档</title><link href="https://zqw.ink/2022-09-20-coding-blog20.html" rel="alternate"></link><published>2022-09-20T00:00:00+08:00</published><updated>2022-09-20T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2022-09-20:/2022-09-20-coding-blog20.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;blog&lt;/li&gt;
&lt;li&gt;archive&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1&gt;关于我&lt;/h1&gt;
&lt;p&gt;AMO PhD student&lt;/p&gt;
&lt;p&gt;研究课题: RF spectrum of strongly interacting Bose gases across d-wave resonance&lt;/p&gt;
&lt;p&gt;热爱生活, 热爱物理.&lt;/p&gt;
&lt;p&gt;业余爱好列表, 排名不分先后:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;书法: 始于初中语文 …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;blog&lt;/li&gt;
&lt;li&gt;archive&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1&gt;关于我&lt;/h1&gt;
&lt;p&gt;AMO PhD student&lt;/p&gt;
&lt;p&gt;研究课题: RF spectrum of strongly interacting Bose gases across d-wave resonance&lt;/p&gt;
&lt;p&gt;热爱生活, 热爱物理.&lt;/p&gt;
&lt;p&gt;业余爱好列表, 排名不分先后:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;书法: 始于初中语文课本最后一页的兰亭集序, 发展于本科时的书画协会.&lt;/li&gt;
&lt;li&gt;口琴: 始于高中时, 发展比较平缓, 研三在家终于调琴超吹成功.&lt;/li&gt;
&lt;li&gt;吉他: 始于高中同学拿到宿舍的一把蓝色破吉他. 研四暑假从零开始.&lt;/li&gt;
&lt;li&gt;乒乓球: 始于小学水泥台子, 发展于本科时选修的乒乓球体育课&lt;/li&gt;
&lt;li&gt;羽毛球: 始于研二时舒哥的指引, 在北园食堂上面打.&lt;/li&gt;
&lt;li&gt;植物: 蓬勃的生命!&lt;/li&gt;
&lt;li&gt;Linux: 始于研二的 deepin, 发展于 Manjaro.&lt;/li&gt;
&lt;li&gt;写程序: 始于研二, python, c, html...&lt;/li&gt;
&lt;li&gt;Latex: 必备技能.&lt;/li&gt;
&lt;li&gt;折腾: 生命!&lt;/li&gt;
&lt;li&gt;看动漫: 始于研一, 第一部是 《超时空要塞 $\Delta$ 》. 每天睡觉看一集, 研一支撑我过来的精神支柱. 睡前看的习惯持续至今, 不觉已有四年.&lt;/li&gt;
&lt;li&gt;打邦邦: BanG Dream!  始于研三因疫情在家的那个夏天, 让我体会到音乐带来的快感!&lt;/li&gt;
&lt;li&gt;跑跑卡丁车: 始于初中时时候家里刚给买了电脑, 从那就一直玩. 周五放学回家最开心的时光!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;联系请 E-mail: zeqing6688@126.com&lt;/p&gt;
&lt;p&gt;本站内容为: 只对自己负责的学习笔记, 以及生活的牢骚.&lt;/p&gt;
&lt;h1&gt;关于本站&lt;/h1&gt;
&lt;p&gt;本站是由 python 生成的静态博客, 托管于
&lt;a href="https://github.com/phyer219/phyer219.github.io.2.0"&gt;GithubPages&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;文章的源格式大多采用 org-mode 的格式, 由
&lt;a href="https://github.com/phyer219/phyer219.github.io.2.0/tree/main/zqwblog/renderer"&gt;zqwblog/renderer&lt;/a&gt;
渲染成 html . 由于是自己的写的包, 还有很多不完善的地方. 重复造轮子的目的是练习写
程序.&lt;/p&gt;
&lt;p&gt;还有一部分文章的源格式是 markdown, 由包
&lt;a href="https://python-markdown.github.io/"&gt;python-markdown&lt;/a&gt; 渲染.&lt;/p&gt;
&lt;p&gt;文章中的公式由 &lt;a href="https://www.mathjax.org/"&gt;MathJax&lt;/a&gt; 渲染.&lt;/p&gt;
&lt;p&gt;文章中的代码块由 &lt;a href="https://highlightjs.org/"&gt;highlight.js&lt;/a&gt; 渲染.&lt;/p&gt;
&lt;p&gt;有许多现有的静态博客生成器, 如 Hexo, Jekyll, Pelican 等, 都非常优秀. 但本站还是
自己写了一个简陋的版本, 原因在于:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;本站的需求比较简单&lt;/li&gt;
&lt;li&gt;想要练习写程序&lt;/li&gt;
&lt;li&gt;Hexo 等, 更新之后有时会产生一些兼容问题&lt;/li&gt;
&lt;li&gt;难以随心所欲的修改博客的样式, 添加一些新的页面, 组件&lt;/li&gt;
&lt;/ul&gt;</content><category term="未分类"></category></entry><entry><title>深圳小记</title><link href="https://zqw.ink/2022-08-31-thinking-shenzhen.html" rel="alternate"></link><published>2022-08-31T00:00:00+08:00</published><updated>2022-08-31T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2022-08-31:/2022-08-31-thinking-shenzhen.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;4月9日晚上到深圳。8月21日早上离开。  &lt;/p&gt;
&lt;h1&gt;干净的空气&lt;/h1&gt;
&lt;p&gt;这是第一感受，也是进入一座城市最直接最快速的感受。  &lt;/p&gt;
&lt;p&gt;城市主干道的视野宽阔，绿化好，这与北京截然相 …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;4月9日晚上到深圳。8月21日早上离开。  &lt;/p&gt;
&lt;h1&gt;干净的空气&lt;/h1&gt;
&lt;p&gt;这是第一感受，也是进入一座城市最直接最快速的感受。  &lt;/p&gt;
&lt;p&gt;城市主干道的视野宽阔，绿化好，这与北京截然相反。蓝的透亮的天空，随时狙击的阵雨。&lt;/p&gt;
&lt;h1&gt;断掉的社交&lt;/h1&gt;
&lt;p&gt;我不是那种自来熟的人，更何况，大部分时间我的办公室都是我独自一人。&lt;/p&gt;
&lt;p&gt;办公室没有窗户，关上门就没有一丝光亮，关上空调就密不透风。开始的一段时间，我就住在办公室，食堂就在办公室的同一层。办公室的对面就是浴室，浴室里面有洗衣烘干机。所以，只要你愿意，每天就只需要下一次楼做核酸。除了师兄偶尔来讨论问题，没有任何人会打扰到你。因为没有人认识你，你也就只认识食堂盛饭的阿姨。&lt;/p&gt;
&lt;p&gt;我常常到对面的浴室，推开窗户，看看天气如何，有没有下雨。&lt;/p&gt;
&lt;p&gt;当然，还是要在饭后去外面散步，见一见阳光。&lt;/p&gt;
&lt;p&gt;住在那间办公室，真是一种神奇的体验。尤其是，在方圆千里的范围内，办公室是你唯一的落脚点的时候，在方圆千里，没有几个人说话的时候。&lt;/p&gt;
&lt;p&gt;这让我想起了牛顿躲避瘟疫做出许多伟大工作的事情。如果你是一个特别热爱工作的人，这简直就是天堂。&lt;/p&gt;
&lt;p&gt;只有在最后的一个月，才认识了两位同学，但也仅限于点头之交。就像之前的硕士室友，在要分别的时候，才发现，有许多话都没有说。&lt;/p&gt;
&lt;h1&gt;拥挤的城中村&lt;/h1&gt;
&lt;p&gt;这与城市主干道的宽阔干净截然相反。&lt;/p&gt;
&lt;p&gt;城中村是多半深圳人栖息的地方。离开后，我大概率不会再选择住进去。&lt;/p&gt;
&lt;p&gt;就像许多人说的，很有烟火气。但是总感觉是一种匆匆的，飘忽不定的烟火气。被生活所迫，住在拥挤狭小的房间。而且，过于拥挤。&lt;/p&gt;
&lt;h1&gt;电吉他与拳击&lt;/h1&gt;
&lt;p&gt;后来几个月，在沙尾西村租了一间有点破的小房间，买了一把芬达，一台电视。&lt;/p&gt;
&lt;p&gt;每天的作息就非常稳定了。早上六点四十起床，整理，出门。如果有雨，就步行，如果无雨，就骑共享单车。在路上买肠粉，到办公室吃肠粉。下午六点左右离开，回沙尾。一小时左右的拳击，一小时左右的练琴，一小时左右的洗澡休息，一小时左右的躺在床上看动漫。&lt;/p&gt;
&lt;p&gt;练琴能够把内心所有的情感发泄出来，喜怒哀乐。&lt;/p&gt;
&lt;p&gt;这就是所有的业余生活。周末偶尔看点小说。几乎不出门，真乃死宅。&lt;/p&gt;
&lt;h1&gt;早上的肠粉&lt;/h1&gt;
&lt;p&gt;当在沙尾租了房子之后，每天的早餐就是固定的双肉肠粉加一个鸡蛋。&lt;/p&gt;
&lt;p&gt;毫不客气地说，除去与朋友短暂的相聚时光，这家肠粉店，就是我离开深圳后最怀念的。&lt;/p&gt;
&lt;p&gt;有一次疫情比较严重，我在没人的肠粉店门口左右徘徊时，听见了卖肠粉的阿姨的声音，顺着声音过去，又看见了熟悉的卖肠粉的先生。原来是疫情原因临时搬家。&lt;/p&gt;
&lt;p&gt;最后要离开深圳的那个周一，和卖肠粉的阿姨和先生道了别。&lt;/p&gt;
&lt;h1&gt;每天的核酸&lt;/h1&gt;
&lt;p&gt;如今，在好多地方，做核酸都是日常。我已经再那里连续做了几个月的核酸。&lt;/p&gt;
&lt;h1&gt;随时被封控的不确定&lt;/h1&gt;
&lt;p&gt;你永远不知道，明天是否能够出村。&lt;/p&gt;
&lt;h1&gt;最开心的时光&lt;/h1&gt;
&lt;p&gt;和朋友相聚的时光总是难忘的！吃肠粉便是一个人时最棒的时刻。&lt;/p&gt;
&lt;h1&gt;结尾&lt;/h1&gt;
&lt;p&gt;有让人留恋的东西，却没有留下的勇气。&lt;/p&gt;</content><category term="未分类"></category><category term="[ 深圳"></category><category term="肠粉"></category><category term="城中村"></category><category term="电吉他]"></category></entry><entry><title>风沙 苹果 外星人 雨 开袋即食</title><link href="https://zqw.ink/2022-03-30-story-spring_march_2022.html" rel="alternate"></link><published>2022-03-30T00:00:00+08:00</published><updated>2022-03-30T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2022-03-30:/2022-03-30-story-spring_march_2022.html</id><summary type="html">&lt;p&gt;（一）&lt;/p&gt;
&lt;p&gt;窗外是一片大风与黄沙，几天前，在这样的早晨醒来。明明昨天还是干净透明的蓝天。&lt;/p&gt;
&lt;p&gt;回忆刚才的梦。&lt;/p&gt;
&lt;p&gt;“你可以用‘陳’”，对着焦急 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;（一）&lt;/p&gt;
&lt;p&gt;窗外是一片大风与黄沙，几天前，在这样的早晨醒来。明明昨天还是干净透明的蓝天。&lt;/p&gt;
&lt;p&gt;回忆刚才的梦。&lt;/p&gt;
&lt;p&gt;“你可以用‘陳’”，对着焦急烦躁的脸这样说到。&lt;/p&gt;
&lt;p&gt;“哎呀！不是！‘陳’和‘陈’是不一样的！根本不是一个意思！”，伴着焦急的神情。&lt;/p&gt;
&lt;p&gt;“哦，是这样啊！”，这样说也不是没有可能，毕竟没有考证（考查验证）。这样想着，拇指向上滑动解锁手机，开始搜索。&lt;/p&gt;
&lt;p&gt;半分钟。&lt;/p&gt;
&lt;p&gt;“你看，是一样的”，把手机凑到对方的跟前。&lt;/p&gt;
&lt;p&gt;“哦。可是。。。”&lt;/p&gt;
&lt;p&gt;然后就这样醒来了。这是这几天最温和的一个噩梦。&lt;/p&gt;
&lt;p&gt;（二）&lt;/p&gt;
&lt;p&gt;外面传来几声枪响。&lt;/p&gt;
&lt;p&gt;娘把两个苹果分别藏到两个火罐里，不是拔火罐的火罐，是用来取暖的那个火罐。对两个四五岁的女儿说：“坐在火罐上。等会他们来了，千万不要起来！”&lt;/p&gt;
&lt;p&gt;人果然进来了。“有苹果吗？把苹果交出来！”，用刺刀对着两个小女孩。&lt;/p&gt;
&lt;p&gt;姐姐有些害怕，妹妹却还觉得有趣。&lt;/p&gt;
&lt;p&gt;最终，两个苹果都被征收走了。&lt;/p&gt;
&lt;p&gt;妹妹对娘说：“娘，娘，姐姐真傻，姐姐真傻，他们让她起来，她就起来！”&lt;/p&gt;
&lt;p&gt;（三）&lt;/p&gt;
&lt;p&gt;不知道哪一天，校园里突然出现了一块被铁皮墙圈起来的地。&lt;/p&gt;
&lt;p&gt;谁都不知道那里面是什么。&lt;/p&gt;
&lt;p&gt;说不定是外星人的基地。&lt;/p&gt;
&lt;p&gt;终于有一天，铁皮墙上裂开了一条缝隙。里面原来是一堆垃圾。&lt;/p&gt;
&lt;p&gt;太奇怪了，垃圾为什么不放到分类的垃圾桶里？垃圾为什么不运走？垃圾为什么要用铁皮墙围起来？&lt;/p&gt;
&lt;p&gt;说不定真的是外星人的基地，伪装成垃圾堆的样子。&lt;/p&gt;
&lt;p&gt;（四）&lt;/p&gt;
&lt;p&gt;意外地，教学视频里出现了雨声。真的是雨声吗？并不见得。&lt;/p&gt;
&lt;p&gt;但是雨声把思绪拉回了大概十年前的夜晚。那个时候，也是好像听到了，雨滴落到宿舍外商业街铁皮屋顶上的声音。&lt;/p&gt;
&lt;p&gt;还真是一切都像从前。急切地期盼一场雨，因为很久没有下雨了。&lt;/p&gt;
&lt;p&gt;(五)&lt;/p&gt;
&lt;p&gt;真空包装食品，写有食用方法。喜凉食，开袋即食。或者喜热食，可微波加热或水浴加热。我喜热食，可是没有微波炉或者热水，所以只能开袋即食。&lt;/p&gt;</content><category term="未分类"></category></entry><entry><title>从来没有一个安宁的夏天</title><link href="https://zqw.ink/2021-06-15-thinking-no_summer.html" rel="alternate"></link><published>2021-06-15T00:00:00+08:00</published><updated>2021-06-15T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2021-06-15:/2021-06-15-thinking-no_summer.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;夏天&lt;/li&gt;
&lt;li&gt;文学青年&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;hr&gt;
&lt;p&gt;命运,&lt;/p&gt;
&lt;p&gt;在毫无征兆时,&lt;/p&gt;
&lt;p&gt;就在一瞬间被别人改变.&lt;/p&gt;
&lt;p&gt;没有任何反应的时间.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;夏天,&lt;/p&gt;
&lt;p&gt;被施加了诅咒.&lt;/p&gt;
&lt;p&gt;每当满怀期待地去迎 …&lt;/p&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;夏天&lt;/li&gt;
&lt;li&gt;文学青年&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;hr&gt;
&lt;p&gt;命运,&lt;/p&gt;
&lt;p&gt;在毫无征兆时,&lt;/p&gt;
&lt;p&gt;就在一瞬间被别人改变.&lt;/p&gt;
&lt;p&gt;没有任何反应的时间.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;夏天,&lt;/p&gt;
&lt;p&gt;被施加了诅咒.&lt;/p&gt;
&lt;p&gt;每当满怀期待地去迎接,&lt;/p&gt;
&lt;p&gt;就会迎来一个糟糕的夏天.&lt;/p&gt;
&lt;p&gt;从来没有迎接到一个真正的夏天.&lt;/p&gt;
&lt;p&gt;安宁的夏天,&lt;/p&gt;
&lt;p&gt;大概只有在山田尚子笔下,&lt;/p&gt;
&lt;p&gt;才能看到.&lt;/p&gt;
&lt;p&gt;不喜欢看悬疑恐怖的原因,&lt;/p&gt;
&lt;p&gt;是人生就已经悬疑恐怖了,&lt;/p&gt;
&lt;p&gt;只能靠美好的剧情活下去.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;温柔地人,&lt;/p&gt;
&lt;p&gt;总是不断地被伤害.&lt;/p&gt;
&lt;p&gt;至于原因,&lt;/p&gt;
&lt;p&gt;就是温柔.&lt;/p&gt;
&lt;p&gt;最怕爱的人受到伤害,&lt;/p&gt;
&lt;p&gt;更害怕爱的人被爱的人伤害.&lt;/p&gt;
&lt;p&gt;除了叹息,&lt;/p&gt;
&lt;p&gt;还是叹息.&lt;/p&gt;
&lt;p&gt;除了失望,&lt;/p&gt;
&lt;p&gt;还是失望,&lt;/p&gt;
&lt;p&gt;除了悲伤,&lt;/p&gt;
&lt;p&gt;还是悲伤.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;厌倦了太多的人在喋喋不休的讲大道理.&lt;/p&gt;
&lt;p&gt;而更可笑的是,&lt;/p&gt;
&lt;p&gt;那些讲大道理的人,&lt;/p&gt;
&lt;p&gt;总有一天自己也因为讲过的大道理而被人耻笑.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;努力,&lt;/p&gt;
&lt;p&gt;真的是一个骗人的东西.&lt;/p&gt;
&lt;p&gt;努力不过是和自己较劲而已.&lt;/p&gt;
&lt;p&gt;认真也是最没用的东西,&lt;/p&gt;
&lt;p&gt;没人会在乎,&lt;/p&gt;
&lt;p&gt;甚至都是嘲笑.&lt;/p&gt;
&lt;p&gt;而这些都是从小都刻在脑子里的东西,&lt;/p&gt;
&lt;p&gt;没用的东西,&lt;/p&gt;
&lt;p&gt;当一个个,&lt;/p&gt;
&lt;p&gt;都崩塌,&lt;/p&gt;
&lt;p&gt;都坏掉,&lt;/p&gt;
&lt;p&gt;童年就只剩下谎言,&lt;/p&gt;
&lt;p&gt;少年就只是一个异类.&lt;/p&gt;
&lt;p&gt;成年人就只是被掏空的躯壳而已了.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;命运,&lt;/p&gt;
&lt;p&gt;也仿佛被施加了诅咒.&lt;/p&gt;
&lt;p&gt;每天的日常,&lt;/p&gt;
&lt;p&gt;都是接连不断的奇迹.&lt;/p&gt;
&lt;p&gt;不幸的是,&lt;/p&gt;
&lt;p&gt;只有当奇迹被打断的时候,&lt;/p&gt;
&lt;p&gt;才明白过来.&lt;/p&gt;
&lt;p&gt;原来各种各样的故事都会降临到自己的身上.&lt;/p&gt;
&lt;p&gt;降临之时,&lt;/p&gt;
&lt;p&gt;根本无法拒绝!&lt;/p&gt;
&lt;p&gt;也意想不到的木然.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;夏天,&lt;/p&gt;
&lt;p&gt;想有一个夏天,&lt;/p&gt;
&lt;p&gt;一个简单的夏天,&lt;/p&gt;
&lt;p&gt;什么事都不发生,&lt;/p&gt;
&lt;p&gt;就那么安安静静的,&lt;/p&gt;
&lt;p&gt;平平静静的,&lt;/p&gt;
&lt;p&gt;没有痛苦,&lt;/p&gt;
&lt;p&gt;没有谎言,&lt;/p&gt;
&lt;p&gt;没有失望.&lt;/p&gt;
&lt;p&gt;蓝蓝的天空上有白白的云朵.&lt;/p&gt;
&lt;p&gt;微风吹动,&lt;/p&gt;
&lt;p&gt;就躺在那里,&lt;/p&gt;
&lt;p&gt;什么也不想.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;可是,&lt;/p&gt;
&lt;p&gt;美好的夏天总是在别人的世界里.&lt;/p&gt;
&lt;p&gt;我的夏天是被诅咒的夏天,&lt;/p&gt;
&lt;p&gt;我不配拥有.&lt;/p&gt;
&lt;p&gt;好想爱别人,&lt;/p&gt;
&lt;p&gt;好想被别人爱,&lt;/p&gt;
&lt;p&gt;可是,&lt;/p&gt;
&lt;p&gt;还有勇气和力气吗?&lt;/p&gt;
&lt;hr&gt;</content><category term="未分类"></category></entry><entry><title>两体束缚态</title><link href="https://zqw.ink/2021-03-01-physics-two_body_in_3d.html" rel="alternate"></link><published>2021-03-01T00:00:00+08:00</published><updated>2021-03-01T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2021-03-01:/2021-03-01-physics-two_body_in_3d.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;
&lt;h1&gt;any&lt;/h1&gt;
&lt;p&gt;$r &amp;gt; r_0$ 时, $V(r) = 0$ , 径向 Schrodinger 方程为
$$
\label{eq:sq}
-\chi'' + \frac{l(l+1)}{r^2}\chi = k^2 \chi
$$&lt;/p&gt;
&lt;p&gt;将 $\chi$ 在 $k=0$ 处做低能展开
$$
\chi(r) = \phi(r) + k^2 f(r) +k^4 g(r …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;
&lt;h1&gt;any&lt;/h1&gt;
&lt;p&gt;$r &amp;gt; r_0$ 时, $V(r) = 0$ , 径向 Schrodinger 方程为
$$
\label{eq:sq}
-\chi'' + \frac{l(l+1)}{r^2}\chi = k^2 \chi
$$&lt;/p&gt;
&lt;p&gt;将 $\chi$ 在 $k=0$ 处做低能展开
$$
\chi(r) = \phi(r) + k^2 f(r) +k^4 g(r) + \mathcal{O}(k^6)
$$&lt;/p&gt;
&lt;p&gt;将展开代回到 $(\ref{eq:sq})$ , 对比 $k$ 的系数得到:&lt;/p&gt;
&lt;p&gt;零能时, 也就是 $\phi$ 满足的方程为
$$
\label{eq:phi}
- \phi '' + \frac{l(l+1)}{r^2}\phi = 0
$$
$f$ 满足的方程为
$$
\label{eq:f}
- f '' + \frac{l(l+1)}{r^2}f = \phi
$$
$g$ 满足的方程为
$$
\label{eq:g}
- g'' + \frac{l(l+1)}{r^2}g = f
$$&lt;/p&gt;
&lt;h1&gt;s-wave&lt;/h1&gt;
&lt;p&gt;$l = 0$ 代入 $(\ref{eq:phi})$ 零能解为
$$
\phi \propto \sharp_1  + \sharp_2 r
$$
舍去一个归一化因子, 相对系数可定义散射长度
$$
\label{eq:phi_s}
\phi = 1 - \frac{r}{a}
$$&lt;/p&gt;
&lt;p&gt;$$
\psi(r)|_{k=0} = \frac{\chi(r)}{r} \propto \frac{1}{r} - \frac{1}{a}
$$
$(\ref{eq:phi_s})$ 代入 $(\ref{eq:f})$ 解得
$$
f = -\frac{r^2}{2} + \frac{r^3}{6a} + C_1 + C_2 r
$$
重新定义 $f \to f - C_1\phi$ (这总是可以做到的, 因为相当于直接在展开的时候令 $\chi = \phi + k^2 (f-C_1\phi) + k^4 g$ , $f - C_1 \phi$ 也可以做一到是任意函数 ) ,并用系数定义 effective range
$$
\label{eq:f_s}
f = -\frac{r^2}{2} + \frac{r^3}{6a} + \frac{r_s}{2} r
$$
$(\ref{eq:f_s})$ 代入 $(\ref{eq:f})$ ,并做类似地处理 ( $g\to g - \cdots$ , 定义 $r_s'$ ) 得到 (  $r_s'$ &lt;strong&gt;的系数why?1/24??&lt;/strong&gt; ) 
$$
g = \frac{r^4}{24} - \frac{r^5}{120a} - \frac{r_s}{12}r^3 +\frac{r_s'}{24}r
$$
s-wave 非零能的径向方程实际是严格可解的, 舍去一个归一化系数, 另一个系数定义相移( 是 $k$ 的函数 ), 形式为
$$
\psi(r) = \frac{\sin (k r + \delta_k)}{r\sin\delta_k}
$$
$\psi(r)$ 也做低能 $k\to 0$ 的展开
$$
\psi(r) = \frac{\chi(r)}{r} = \cot\delta_k \sin(kr)\frac{1}{r} + \cos(kr)\frac{1}{r} 
= \frac{1}{r} + k\cot\delta_k + \mathcal{O}(r^2)
$$
 $k\cot\delta_k$ 为 $r^0$ 的系数, 因此得到 $k\cot\delta_k$ 低能展开
$$
k\cot \delta_k = -\frac{1}{a} + k^2\frac{r_s}{2} + k^4 \frac{r_s'}{24} + \mathcal{O}(k^6)
$$&lt;/p&gt;
&lt;h1&gt;p-wave&lt;/h1&gt;
&lt;p&gt;$l = 1$ 代入 $(\ref{eq:phi})$ 零能解为零能时
$$
-\phi'' + \frac{1\times(1+1)}{r^2}\phi = 0
$$
解为
$$
\phi(r) \propto \sharp_1 r^2 + \sharp_2 \frac{1}{r}
$$&lt;/p&gt;
&lt;p&gt;舍去一个归一化因子, 相对系数可定义 $v$ 
$$
\label{eq:phi_p}
\phi(r) = \frac{1}{r} - \frac{r^2}{3v}
$$
$(\ref{eq:phi_p})$ 代入 $(\ref{eq:f})$ 解得
$$
f = \frac{r}{2} + \frac{r^4}{30v} + \sharp_1 r^2 +\sharp_2 \frac{1}{r}
$$
与 s-wave 类似的处理, 用系数定义 $R$ , 重新定义后的 $f$ 为
$$
f = \frac{r}{2} + \frac{r^4}{30v} - \frac{r^2}{3R}
$$
所以
$$
\psi(r) = \frac{\chi(r)}{r} = \left( \frac{1}{r^2} - \frac{r}{3v} \right)
         + k^2 \left( \frac{1}{2} - \frac{r}{3R} + \frac{r^3}{30v}  \right) + \mathcal{O}(k^4)
$$&lt;/p&gt;
&lt;p&gt;~~p-wave 非零能的径向方程的严格解是求 Bessel 函数, 舍去一个归一化系数, 另一个系数定义相移( 是 $k$ 的函数 ), 在 $r\to\infty$ 的渐近形式为~~&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;$$
\begin{align}
\psi(r) = \frac{\chi(r)}{r} \sim&amp;amp; \frac{1}{r\sin\delta_k}\sin\left(kr - \frac{1}{2}\pi + \delta_k  \right) \
 =&amp;amp; -\frac{1}{r}\cot \delta_k  + k + r\frac{k^2}{2}\cot\delta_k+\mathcal{O}(r^2)\quad, \quad \mathrm{as}\, r \to\infty
 \end{align}
$$&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;将严格解也在低能展开 ( &lt;strong&gt;此式的来源???&lt;/strong&gt; )
$$
\psi(r) = \frac{\chi(r)}{r} \propto \cot\delta_k j_1(kr) - y_1(kr) = \frac{1}{k^2 r^2} + \frac{1}{2} 
             + \frac{r}{3}k \cot\delta_k + \mathcal{O}(r^2)
$$&lt;/p&gt;
&lt;p&gt;对比 $\frac{1}{r^2}$ 及 $r$ 的系数可得
$$
\cot \delta_k = -\frac{1}{v k^3} - \frac{1}{kR} + \mathcal{O}(k)
$$&lt;/p&gt;
&lt;h1&gt;d-wave&lt;/h1&gt;
&lt;p&gt;$l = 2$ 代入 $(\ref{eq:phi})$ 零能解为零能时
$$
-\phi'' + \frac{2(2+1)}{r^2}\phi = 0
$$
解为
$$
\phi(r) = \sharp_1 r^3 + \sharp_2 \frac{1}{r^2}
$$&lt;/p&gt;
&lt;p&gt;舍去一个归一化因子, 相对系数可定义 $D$ 
$$
\label{eq:phi_d}
\phi(r) = \frac{1}{r^2} - \frac{r^3}{45 D}
$$
$(\ref{eq:phi_d})$ 代入 $(\ref{eq:f})$ 解得
$$
f = \frac{1}{6} + \frac{r^5}{630 D} + \sharp_1 r^3 + \frac{\sharp_2}{r^2}
$$
与 s-wave 类似的处理, 用系数定义 $v$ , 重新定义后的 $f$ 为
$$
\label{eq:f_d}
f = \frac{1}{6} + \frac{r^5}{630 D} - \frac{r^3}{45v}
$$
$(\ref{eq:f_d})$ 代入 $(\ref{eq:g})$ ,并做类似地处理 ( $g\to g - \cdots$ , 定义 $r_s'$ ) 得到
$$
\begin{align}
g =&amp;amp; \frac{r^5}{630 v} + \frac{r^2}{24} - \frac{r^7}{22680 D} + \sharp_1 r^3 + \frac{\sharp_2}{r^2} \
\Rightarrow g =&amp;amp; \frac{r^5}{630 v} + \frac{r^2}{24} - \frac{r^7}{22680 D} -\frac{r^3}{45R}&lt;br&gt;
\end{align}
$$
所以
$$
\begin{align}
\psi(r) =&amp;amp; \frac{\chi(r)}{r} = \frac{\phi(r) + k^2 f(r) +k^4 g(r) + \mathcal{O}(k^6)}{r} \
        =&amp;amp;  \left(\frac{1}{r^3} - \frac{r^2}{45 D} \right)
         +k^2\left( \frac{1}{6} + \frac{r^5}{630 D} - \frac{r^3}{45v} \right)
         +k^4\left( \frac{r^5}{630 v} + \frac{r^2}{24} - \frac{r^7}{22680 D} -\frac{r^3}{45R} \right)
\end{align}
$$&lt;/p&gt;
&lt;p&gt;将严格解也在低能展开
$$
\psi(r) = \frac{\chi(r)}{r} \propto \cot\delta_k j_2(kr) - y_2(kr) 
        = \frac{3}{k^3 r^3} + \frac{1}{2kr} + \frac{kr}{8} 
             + \frac{r^2}{15}k^2 \cot\delta_k + \mathcal{O}(r^3)
$$&lt;/p&gt;
&lt;p&gt;对比系数得
$$
\cot \delta_k = - \frac{1}{Dk^5} - \frac{1}{vk^3} - \frac{1}{kR} + \mathcal{O}(k)
$$&lt;/p&gt;</content><category term="未分类"></category><category term="[two body"></category><category term="bound state]"></category></entry><entry><title>格林函数的格林(翻译)The Green of Green Functions</title><link href="https://zqw.ink/2020-12-24-physics-georgegreen.html" rel="alternate"></link><published>2020-12-24T00:00:00+08:00</published><updated>2020-12-24T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2020-12-24:/2020-12-24-physics-georgegreen.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;本文为 Physics Today 56, 12, 41 (2003), Lawrie Challis, The Green of Green Functions 的翻译. 图片可查看原文.&lt;/p&gt;
&lt;h1&gt;格林函数的格林&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;1828 年, 英国诺丁汉的一位磨坊主发表了一 …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;本文为 Physics Today 56, 12, 41 (2003), Lawrie Challis, The Green of Green Functions 的翻译. 图片可查看原文.&lt;/p&gt;
&lt;h1&gt;格林函数的格林&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;1828 年, 英国诺丁汉的一位磨坊主发表了一篇数学论文, 几乎没有产生任何影响. 然而,  乔治·格林 的分析后来在从经典静电学问题到现代量子场论中都找到了应用.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;诺丁汉是英格兰中部地区一个迷人而繁荣的小镇, 因与罗宾汉的关联而闻名. 罗宾汉的雕像屹立在城堡的墙边. 尽管市民的心中不再有恐惧, 诺丁汉郡治安官在市政府中仍然扮演着特殊的角色.&lt;/p&gt;
&lt;p&gt;最近, 诺丁汉的天际线上出现了一个新景点, 即风车 (见图1) . 风车在有风的日子会转, 与之相邻的轧机厂出售石磨面粉, 但更令人惊讶的是, 还卖数学物理小册子. 面粉与物理之间的联系是磨坊独特特征的一部分, 并用一块附着在磨坊塔侧面的铭牌加以说明, &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;HERE LIVED AND LABOURED&lt;/p&gt;
&lt;p&gt;GEORGE GREEN&lt;/p&gt;
&lt;p&gt;MATHEMATICIAN&lt;/p&gt;
&lt;p&gt;B.1793–D.1841.&lt;/p&gt;
&lt;p&gt;在这里生活和劳动 &lt;/p&gt;
&lt;p&gt;乔治·格林 &lt;/p&gt;
&lt;p&gt;数学家 &lt;/p&gt;
&lt;p&gt;公元1793–1841&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这就是格林定理, 它是全世界物理学本科生都熟悉的定理, 并且格林函数用于经典物理和量子物理学的许多分支. &lt;/p&gt;
&lt;h1&gt;早期生活和教育&lt;/h1&gt;
&lt;p&gt;乔治·格林的父亲在诺丁汉市中心附近的一家面包店, 那时是一个人口约 30 000 的小镇. 他的独生子乔治于 1793 年 7 月 14 日受洗. 1801 年 3 月, 乔治以罗伯特·古德克雷的 255 号学生入学, 他在那里呆了仅 18 个月. 他 9 岁那年, 他被安排到父亲的面包店工作. 在古德阿克雷学院度过的那段时间, 是格林在 40 岁去剑桥大学前唯一的正规教育. 他很幸运地接受了那么多的教育. 大多数孩子没有孩子, 尽管有些孩子在主日学被教读写. 格林还很幸运, 他的父亲有能力让他接受私人教育, 并选择了罗伯特·古德克雷学院, 罗伯特·古德克雷以对天文学和自然科学的热情而闻名. &lt;/p&gt;
&lt;p&gt;格林在父亲的面包店里呆了五年, 然后被派去学习做磨坊主, 磨坊是父亲在距离诺丁汉约一英里的斯尼顿村的一座小山上建造的塔式磨房. 磨坊高五层, 在一个有粮仓的院子里, 养着八匹马. 院子里还有一个茅屋, 供磨坊主约翰·史密斯, 他的妻子和他的女儿简使用. 诺丁汉的街道在天黑后行走是不安全的, 因此, 格林在磨坊里工作了许多个日夜, 并且是住在磨坊里. 直到他的家人在磨坊附近建了一所房子. 简·史密斯在格林 31 岁时为他生了一个女儿. 他们总共有七个孩子, 但从未结婚. 据说格林的父亲认为简不适合做格林的妻子, 毕竟格林是一个富裕的商人和地主的儿子, 并威胁要取消他的继承权. &lt;/p&gt;
&lt;p&gt;对于格林从1802年到1823年的生活知之甚少. 特别是, 不知道他是否在数学发展方面获得了帮助, 或者他是否完全自学成才. 他可能得到了约翰·托普利斯的帮助. 约翰·托普利斯是剑桥大学皇后学院研究员, 也是诺丁汉语法学校校长. 托普利斯对 Pierre-Simon Laplace 的书《Mécanique Céleste》(1814年在诺丁汉出版) 的翻译似乎是格林对势理论感兴趣的一种来源. 由于托普利斯使用了 Gottfried Leibniz 的更方便的微分记号, 而不是Isaac Newton的, 所以在当时的英国是一件不寻常的工作. 由于格林采用了莱布尼兹的记号, 因此格林受托普利斯影响似乎是合理的, 但没有证据表明托普利斯以任何方式充当其导师. &lt;/p&gt;
&lt;p&gt;1823年, 格林加入了诺丁汉订阅图书馆, 这是该镇知识活动的中心. 图书馆位于 Bromley House (见图2). 图书馆会员资格为格林提供了鼓励, 支持和使用 &lt;em&gt;Philosophical Transactions of the Royal Society&lt;/em&gt;  和其他科学期刊的机会. 这些不包括海外期刊, 但是 &lt;em&gt;Transactions&lt;/em&gt; 不在海外期刊之列, 这使得格林可以直接从作者那里获得复印件. &lt;/p&gt;
&lt;h1&gt;格林在 1828 年的论文&lt;/h1&gt;
&lt;p&gt;格林于 1828 年发表了第一篇工作, 《关于将数学分析应用于电磁学理论的论文》. 这项长约70页的工作包含格林定理的推导, 并将该定理与格林函数一起应用于静电问题. 其标题页如图 3 所示. &lt;/p&gt;
&lt;p&gt;当时, 在英国出版科学论文的惯用途径是通过两个学会（皇家学会和剑桥哲学学会）的期刊之一. 但是格林没有任何资格, 也没有与科学机构建立联系, 因此认为将他的论文提交给期刊是冒昧的. 因此, 他自费在诺丁汉私下发表. 在他的前言中很明显地看到了他尝试出版的方式. 在那里, 他表达了它的希望, &lt;strong&gt;“该学科的难度将使数学家享受地阅读本著作, 尤其是当他们被告知这是由一位年轻人撰写时, 这个年轻人不得不获得他所掌握的很少的知识,  以这样的间隔和方式, 作为其它必不可少的爱好, 提供了很少提高的机会 ”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;格林每篇论文的成本为 7 先令半, 大约是诺丁汉长袜制造者每周的工资. 购买者包括当地的医生, 校长, 牧师以及当时诺丁汉的蕾丝, 针织品和其它主要制造业的制造者. 购买该作品的人中有将近一半是诺丁汉订阅图书馆的成员. 几乎没有人能理解这篇文章, 因此他们显然必须对作者的能力有相当大的信心. &lt;/p&gt;
&lt;p&gt;格林发表的主要目的是使他的作品引起英国和海外其他数学家的注意. 但是, 似乎除了一个例外, 几乎没有响应. 那一定令人非常沮丧. &lt;/p&gt;
&lt;p&gt;唯一的例外是爱德华·布罗姆黑德, 他对格林的论文印象深刻. 他立即回答, 表示愿意帮助格林将来将任何论文发表在期刊上. 布罗姆黑德是一位富有和有影响力的人, 是公众人物, 也是诺丁汉东北 35 英里的林肯市的赞助者. 他曾先后在格拉斯哥大学和剑桥大学学习数学, 尽管他的社会地位使他脱离了学术生涯, 但他仍与包括Charles Babbage, John Herschel 和 William Whewell 在内的许多英国著名数学家和科学家保持着密切联系.&lt;/p&gt;
&lt;p&gt;因此, Bromhead 非常适合让格林与这些数学家和其他数学家联系, 并且一定感到惊讶和失望, 因为他没有收到格林的任何答复. 大约20个月后, 终于到达了. 格林的一封长信解释了他一直很高兴和感激 Bromhead 的来信, 以及他最初打算回信并接受他的 offer . 但是他被告知, 布罗姆黑德给他的信是出于礼貌, 而且鉴于他们的社会地位存在差异, 因此不宜回信. 直到后来他才发现那条建议多么糟糕. &lt;/p&gt;
&lt;p&gt;Bromhead迅速做出了回应, 随后进行了许多其他交流, 并在林肯附近的 Bromhead 房子见面. 在 Bromhead 的帮助下, 格林于 1833 年在期刊上发表了他的第一篇论文. 那篇论文又是关于电力的, 但是在布罗姆黑德的建议下, 格林随后放弃了这个课题, 当时英国的数学家对这个课题并不感兴趣. 他继续研究流体力学, 波动和光学等更主流的课题, 这是他于 1835 年至 1839 年间发表的八篇论文的主题. &lt;/p&gt;
&lt;p&gt;他们见面后不久, 格林告诉布罗姆黑德他想去剑桥的梦想. 他在 1833 年 4 月的一封信中谈到了这个话题, 他在信中写道：“您知道, 如果有一个成功的良好前景, 我会倾向于剑桥. 不幸的是, 我几乎不懂拉丁文, 只懂很少的希腊文, 虚度了太多的冬天, 因此处于一个很纠结的状态. ”格林一定还意识到, 简和他的孩子（当时只有四个）的存在与大学要求成员独身的要求有些矛盾！但是, 只要成员未实际结婚, 独身这一条似乎是可以接受的. 受到布罗姆海德的影响, 格林于 1833 年 10 月进入剑桥大学, 成为一名本科生, 成为了布罗姆海德所在的 Gonville &amp;amp; Caius College 学院的一员. 格林于 1837 年毕业, 1839 年 11 月成为大学研究员. 不幸的是, 他很快病倒, 于1840 年春季回到诺丁汉, 并于 1841 年 5 月 31 日死于流感. 他和简被一起葬在离工厂几百码远的圣史蒂芬教堂的院子里. 没有他的画像, 他在摄影术发明后不久就去世了. &lt;/p&gt;
&lt;h1&gt;格林的论文的二次发掘&lt;/h1&gt;
&lt;p&gt;到 1840 年代初期, 格林的大部分著作都可以在公开文献中找到, 但他最重要的贡献, 即他的论文, 尚未在期刊上发表. 如果不是被威廉·汤姆森（如图4所示）发现的话, 它可能很多年都不会被发现. 汤姆森, 后来的开尔文勋爵, 在格林死后不久就去了剑桥. 他的父亲是格拉斯哥的数学教授,  汤姆森在去剑桥之前已经获得了格拉斯哥的学位. 他对电力很感兴趣, 并且在罗伯特·墨菲的一篇论文的脚注中看到了格林的论文. 在1907年, 他去世前不久写给约瑟夫·拉莫尔的一封关于格林的信中, 汤姆森写到：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When I went up to Cambridge as a freshman, I asked at all the book shops in Cambridge for Green’s Essay on Electricity and Magnetism, and could hear nothing of it.&lt;/p&gt;
&lt;p&gt;The day before I left Cambridge for Paris after taking my degree, in Jan. 1845, I met [William] Hopkins on what I believe was then called the Senior Wranglers’ Walk, and I told him I had enquired in vain for Green’s Essay. . . . He said “I have some copies of it.” He turned with me and took me to his house, and there, in his chief coaching room in which I had been day after day for two years, he found three copies of Green’s Essay in his bookcase and gave them to me.&lt;/p&gt;
&lt;p&gt;I had only time that evening to look at some pages of it, which astonished me. Next day, if I remember right, on the top of a diligence [stagecoach] on my way to Paris, I managed to read some more of it.&lt;/p&gt;
&lt;p&gt;当我还是剑桥新生时, 我在剑桥的所有书店里寻找格林的《电和磁学随笔》, 却没有结果.     &lt;/p&gt;
&lt;p&gt;1845 年 1 月, 我获得学位后, 在离开剑桥前往巴黎的前一天, 遇到了[William] Hopkins, 遇见的那个地方在当时称之为 Senior Wranglers’ Walk, 我告诉他我打听格林的论文无果时. . . . 他说：“我有一些副本. ” 他带我去了他的家. 在那里, 在我两年的时间每天都待的首席教练室里, 他在书架上发现了三篇格林的论文的副本, 并将它们交给了我. &lt;/p&gt;
&lt;p&gt;我只在晚上有时间看它一些, 内容让我感到惊讶. 第二天, 如果我没记错的话, 我在去巴黎的路上&lt;strong&gt;尽了全力[驿马车]&lt;/strong&gt;, 我设法读了更多. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;汤姆森去巴黎待四个月, 以获取一些实验物理学的经验. 但他也想见一些理论家, 例如米歇尔·查尔斯, 约瑟夫·刘维尔和查尔斯·斯图姆. 他给拉莫尔的信中继续说, 在刘维尔家中向他展示时, 刘维尔对格林的论文“给予了极大的关注”. 后来, 汤姆森和一位剑桥同事在一起时, 斯图姆气喘吁吁地走过来. 他热切地想要看格林的文章. “所以我把它交给了他. 他坐下来, 热情洋溢地翻了翻书页. 他在一个地方停下来, 喊道：“啊, 这是我的工作(法语). ”“不可避免地, 自从这篇论文发表以来的17年间, 格林的许多发现被重新发现了. 汤姆森指出, 除斯图姆外, 查尔斯也在论文中发现了自己的成果和示范. &lt;/p&gt;
&lt;p&gt;汤姆森回到英格兰后, 安排格林的论文重新发表在 Crelle’s Journal 上. 埃德蒙·惠特克在他的《以太与电的理论史》（Dover, 1989）中说：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It is impossible to avoid noticing throughout all Kelvin’s work evidences of the deep impression
which was made on him by the writings of Green. The same may be said of Kelvin’s friend and contemporary, [George] Stokes, and indeed it is no exaggeration to describe Green as the founder of that “Cambridge School” of natural philosophers of which Kelvin, Stokes, [Lord] Rayleigh, [James] Clerk Maxwell, [Horace] Lamb, J. J. Thomson, Larmor and [Augustus] Love were the most illustrious members in the latter half of the nineteenth century.
不可避免的是, 在开尔文所有作品中, 都能够感受到格林的论文给他的深刻影响. 对于开尔文的朋友以及当时的[乔治] 斯托克斯来说, 也可以这样说. 实际上, 毫不夸张地说, 格林是自然哲学家 “Cambridge School” 的创始人. 开尔文, 斯托克斯, [瑞利]勋爵, [詹姆斯] ] 克拉克 麦克斯韦,  [贺拉斯] 兰姆,  J. J. 汤姆森, 拉莫尔和 [奥古斯都] 洛夫都是19世纪下半叶 “Cambridge School” 中最杰出的成员. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;格林对科学的贡献&lt;/h1&gt;
&lt;p&gt;格林论文的灵感来自法国, 拉普拉斯和西蒙·泊松. 最近通过实验建立了两个电荷之间力的平方反比定律, 泊松证明了如何由此确定导体表面电荷分布的. 他使用的技术仅适用于具有简单几何形状的曲面, 因此格林设计了强大的技术来得到任何曲面的分布. 他充分利用了电势, 并给它起了名字. 他发展的其中一个定理, 现在称为格林定理, 可以简化为通常称为散度定理或高斯定理的定理. 不过, 许多早期的教科书也将这种简化称为格林定理, 以强调&lt;strong&gt;他是最先发现的&lt;/strong&gt;. 文章中发展的的另一种强大工具现在称为 Green function 或者 Green’s function. &lt;/p&gt;
&lt;p&gt;格林接下来对弹性研究的工作, 因为格林的张量而被大家记住. 格林通过考虑“以太”而对弹性产生了兴趣, “以太”当然必须是固体, 因为光波是横波. 他表明, 通常需要 21 个模量才能描述各向异性介质的弹性, 并且他解释了对称如何减少模量的个数. &lt;/p&gt;
&lt;p&gt;在另一篇论文中, 格林首次修正了界面上的反射和折射的能量比的计算, 并解释了全内反射现象. 该解释中包括对存在于较高折射率介质中的倏逝波的描述. 在这项工作中, 他成为最早写下能量守恒原理的人之一. 格林后来的工作还包括其他一些数学上的先河. 这些包括从他的论文中得出的一种求解微分方程的近似方法的推论, 该微分方程是关于水波在宽度和深度可变的导管中的运动的. 一个多世纪之后, 他的方法作为 Wentzel-Kramers-Brillouin（WKB）方法重新出现. 他也是第一个陈述泛函最小化的 Dirichlet 原则的人, 尽管 Bernhard Riemann 给它起了那个众所周知的名字. &lt;/p&gt;
&lt;h1&gt;格林定理和格林函数&lt;/h1&gt;
&lt;p&gt;格林函数的概念最容易通过一个例子来说明: 一个最初静止的粒子, 它受随时间变化的力 $F(t)$ , 考虑它的动力学. 首先要考虑一个很短时间内的力：猛推一下. 这个冲量在时间 $t'$ 产生单位大小的动量改变. 在之后的时间 $t$ , 粒子的位移 $s(t)$ 被定义为格林函数 $G(t, t')$ . 但是, 作用在无穷小的时间间隔 $\Delta t'$ 上的力 $F(t')$ 是大小为  $F(t') \Delta t'$  的冲量, 并且随时间连续施加的力可以看作是产生了一系列这样的冲量. 通过对从初始时间 $t_0$ 到时间 $t$ 施加的所有冲量的影响进行求和, 可以求得粒子的运动, 从而
$$
\begin{align}
\label{eq:1}
S(t) = \int_{t_0}^t G(t, t') F(t') \mathrm{d}t'
\end{align}
$$
它的初始条件为 $s=0$  , $\mathrm{d}s/\mathrm{d}t = 0$ . 得到格林函数后, 就可以计算系统对任意力的响应. 注意, 格林函数取决于动力系统, 而不取决于作用力的形式. 方框1给出了具体的计算. &lt;/p&gt;
&lt;p&gt;式 ( $\ref{eq:1}$ ) 中的连续冲量的影响的叠加仅对线性系统有效, 在线性系统中, 响应与施加的力成比例. 尽管如此, 格林的方法显然已广泛应用于各种系统, 包括力学和电气系统, 在实际应用中, 对力或电压的线性响应非常重要. &lt;/p&gt;
&lt;p&gt;格林的原始工作是针对解决封闭区域内的静电问题. 在这种情况下, 格林函数 $G(\mathbf{r},\mathbf{r}')$ 是在 $\mathbf{r}'$ 处的单位点电荷产生的点  $\mathbf{r}$ 处的电势. 点电荷是仅在单个时刻起作用的冲量的空间类比. 格林函数与点电荷产生的静电库仑电势不同, 因为点源还会在边界上感应出电荷. 利用现在知道的格林定理, 静电势  $\phi(\mathbf{r})$ 可以用现代符号表示为 (有关更多详细信息, 请参见框2) :
$$
\begin{align}
\phi(\mathbf{r}) =&amp;amp; \int_{\tau} G(\mathbf{r}, \mathbf{r}') \rho(\mathbf{r}')\mathrm{d}\tau' + \
&amp;amp; \int_S \left[\phi(\mathbf{r}')\nabla' G(\mathbf{r}, \mathbf{r}') - G(\mathbf{r}, \mathbf{r}' ) \nabla' \phi(\mathbf{r}') \right]\cdot \mathrm{d}\mathbf{S}'
\end{align}
$$
电势 $\phi(\mathbf{r})$ 是体积 $\tau$ 中空间电荷密度 $\rho(\mathbf{r}')$ 和体积边界表面 $S$ 上的感应电荷所引起的效应的叠加, 其影响通过格林函数  $G(\mathbf{r},\mathbf{r}')$ 来传递. 格林的工作的重要性在于它的普遍性. 对表面的几何形状没有限制.容易证明, 例如, 如果任何表面保持零电势（接地）并且不包含电荷 ( $\rho = 0$ ), 则在内部的每个位置都是 $\phi = 0$ 也就是说, 内部完全不受外部静电影响. &lt;/p&gt;
&lt;h1&gt;散射理论中的格林函数&lt;/h1&gt;
&lt;p&gt;在19世纪后半叶, 越来越多地使用格林函数方法来求解偏微分方程, 这些方程非常相似, 描述了电, 磁, 力学和热现象. 格林函数也可以用来表述经典波的散射理论. 实际上, 由于薛定谔方程的形式与波动方程类似, 因此格林函数还可用于描述外势 $V(\mathbf{r})$ 对单个粒子的非相对论性散射. 对于总能量 $E$ , 质量 $m$ 的粒子, 波函数 $\psi(\mathbf{r})$ 的不含时部分满足
$$
\begin{align}
\label{eq:3}
-\frac{\hslash^2}{2m}\nabla^2 \psi + V(\mathbf{r}) \psi(\mathbf{r}) = E \psi(\mathbf{r})
\end{align}
$$
对项 $V\psi$ 做和静电问题中的施加电荷相同的处理,  可以写出式 ( $\ref{eq:3}$ ) 的形式解：
$$
\begin{align}
\label{eq:4}
\psi(\mathbf{r}) = \psi_0(\mathbf{r}) +\int G(\mathbf{r}, \mathbf{r}')
            \frac{2m}{\hslash^2}V(\mathbf{r}')\psi(\mathbf{r}') \mathrm{d}\tau' ,
\end{align}
$$
其中 $\psi_0(\mathbf{r})$ 是能量为 $E$ 的粒子的入射波, 格林函数 $G(\mathbf{r},\mathbf{r}')$ 是在 $\mathbf{r}'$ 处的给定点源在 $\mathbf{r}$ 处产生的波幅. 但是与式 ( $\ref{eq:1}$ ) 不同, 式 ( $\ref{eq:4}$ ) 不是显式解, 因为未知波函数出现在积分内. 物理上的原因是, 与式 ( $\ref{eq:1}$ ) 中由外部影响确定的力不同, 仅当存在入射波时才存在散射波源 (式 ( $\ref{eq:3}$ ) 中的 $V\psi$  项). &lt;/p&gt;
&lt;p&gt;解式 ( $\ref{eq:4}$ ) 的常用方法是迭代. 第一个迭代项是将积分中的 $\psi(\mathrm{r}')$ 替换为 $\psi_0(\mathrm{r}')$  , 这是散射理论中熟悉的玻恩近似. 迭代中的接下来的项是下列形式的积分
$$
\begin{align}
\label{eq:5}
\int G(\mathbf{r}, \mathbf{r}')V(\mathbf{r}')\psi_0 (\mathbf{r}')
   G(\mathbf{r}', \mathbf{r}'')V(\mathbf{r}'')\psi_0 (\mathbf{r}'')
   \cdots \mathrm{d}\tau'' \mathrm{d}\tau'
\end{align}
$$
这些项对应于多次散射事件, 它们发生在入射波在到达 $\mathbf{r}$ 之前的点 $\mathbf{r}'$ , $\mathbf{r}''$ 等处. 因为在每个散射点都有一个动量变化, 所以 $G(\mathbf{r},\mathbf{r}')$ 就像是时间依赖的格林函数对冲量的响应一样. &lt;/p&gt;
&lt;h1&gt;之后的发展&lt;/h1&gt;
&lt;p&gt;在基本粒子物理学中, 散射至关重要, 因为我们研究基本粒子特性的唯一方法是通过它们彼此之间的相互作用. 但是, 这些相互作用必须通过由虚能量和动量量子来传递力的量子场来描述. 对于通过电磁相互作用的带电粒子, 这些量子是量子电动力学 (QED) 中的的光子. 电子 (和正电子) 之间通过量子化电磁场进行相互作用的理论是在 1940 年代后期提出的, 用于解释氢原子 1s 能级的兰姆位移以及电子的磁矩与狄拉克值的偏差. 这两种现象均归因于场的涨落, 但是早期的理论受到无穷大修正的困扰, 直到证明可以通过电子质量和电荷的重整化来消除无穷大. &lt;/p&gt;
&lt;p&gt;朱利安·史温格和理查德·费曼分别独立完成了一样的 QED. Schwinger 在雷达工作时曾使用格林函数来描述微波传播, 他给出了形式的场论处理, 其中格林函数作为时空点之间传播场出现. 他的理论的某些方面与日本的朝永振一郎的工作非常相似, 后者正在发展量子场论方法来进行重整化. 费曼将他的时空直觉方法用于量子力学. 在该理论中, 给定过程的概率幅度是每个可能的时空路径的概率幅总和. 对于任何特定路径, 振幅都是自由传播或散射相互作用的因子的乘积, 如式 ( $\ref{eq:5}$ ) 所示. 每个传播子和相互作用的都可以表示为所谓的费曼图, 该图给出了该过程有用的物理图景. 后来, 弗里曼·戴森证明了费曼的理论和史温格的理论的等效性, 并将 QED 中高阶效应的计算系统化了. &lt;/p&gt;
&lt;p&gt;在费曼的方法中, 可以很清晰地看出格林函数为何在粒子物理理论中发挥如此自然而基本的作用. 粒子间相互作用是复杂的多重散射事件, 其中力通过量子场传递. 但是, 不同点之间场的传播正是格林函数最初的想要用来描述的. 因此, 格林函数, 在粒子物理学中通常被称为费曼传播子, 是现代量子物理学中理论分析的标准工具之一. &lt;/p&gt;
&lt;p&gt;在 1950 年代和 1960 年代, 物理学家开始使用格林函数方法来描述凝聚态物理学的多体相互作用. 固体的电导率实质上是对外部电场的线性响应. 因此, 可以如久保亮五等人所展示的那样, 用格林函数表示. 固体中的电阻的来源是散射过程, 其自然地通过格林函数来描述. 但是与粒子物理学中通常描述的过程不同, 凝聚态过程在有限的温度下发生. 该理论的推广导致热或者有限温格林函数. 但值得注意的是, 在引入了虚部与温度倒数成正比的复数时间坐标后, 可以使用与普通零温度格林函数几乎相同的技术来计算非零温格林函数. 如今, 物理学家将格林函数应用了到许多领域, 这些领域在格林的时代是难以想像的, 并且有可能继续这样做. 将来什么都有可能发生. &lt;/p&gt;
&lt;h1&gt;在自己国家的荣誉&lt;/h1&gt;
&lt;p&gt;蒸汽机结束了风车的时代, 格林的磨坊渐渐失修了. 1920年, 工厂由当地商人和慈善家奥利弗·辛德买下, 后者修理了木帽. 同年, 霍尔布鲁克捐赠了磨坊的纪念牌匾. 有一段时间, 这个磨坊像是被重新上光的家具一样焕然一新, 但在1947年, 它起火并被完全毁坏. Hind 通过登上门窗并用混凝土板代替盖子来密封外壳. 多年来, 当地对格林的兴趣一直保持在中等水平, 这主要是由于诺丁汉大学成员的活动所致. 1945年, 大学数学系成员H. Gwynedd Green（不是乔治格林的亲戚）撰写了格林的传记. 玛丽·坎内尔（Mary Cannell）在1993年发表了更长的著作. 扩充的第二版于2001年出版. &lt;/p&gt;
&lt;p&gt;恢复磨坊的计划最初是由谣言引起的, 谣传它将被拆除以进行重新开发. 这导致了诺丁汉大学物理学家和其他人士组建了乔治·格林纪念基金, 最终, 作为对格林的纪念馆, 诺丁汉市对该磨坊进行了修复. 现在是诺丁汉的主要博物馆和旅游景点之一. 格林的第二个主要纪念馆是伦敦的威斯敏斯特大教堂. 那是英国国王和王后的安息之地, 也是最近许多人回想起著名文学和科学人物的地方. 1993年, 在格林诞辰200周年之际, 皇家学会主席迈克尔·阿蒂亚（Michael Atiyah）揭幕了纪念馆. 如图 5 所示, 该牌匾位于修道院的地板上, 毗邻牛顿, 迈克尔·法拉第, 麦克斯韦和开尔文的纪念馆. 会众包括格林的许多后裔以及包括史温格和戴森在内的许多其他科学家和数学家. 开尔文（Kelvin）的纪念馆必须向侧面移动才能容纳格林（Green）的纪念碑. 但是他肯定不会反对. &lt;/p&gt;
&lt;h1&gt;Box1&lt;/h1&gt;
&lt;p&gt;假设希望得到一个粒子的速度 $v(t)$ . 初始时刻粒子静止, 受到粘滞力 $\alpha v$ 和任意力 $F(t)$ 的作用. 那么它的运动方程为
$$
\begin{align}
    m \frac{\mathrm{d}v}{\mathrm{d}t} + \alpha v = F(t)
\end{align}
$$&lt;/p&gt;
&lt;p&gt;对于在时间 $t=t'$ 时施加的一个单位冲量, 它的解是格林函数 $G(t, t')$ . 施加冲量后的一瞬间, 它的速度是 $1/m$ , 然后随时间指数衰减, 所以对于 $t &amp;gt; t'$ ,
$$
\begin{align}
    G(t, t') = \frac{1}{m} e^{-\alpha (t - t')/m} \quad (t\ge t') .
\end{align}
$$&lt;/p&gt;
&lt;p&gt;对于 $t &amp;lt; t'$ 时, 格林函数为零.&lt;/p&gt;
&lt;p&gt;因此, 这个问题对于任意力的通解为
$$
\begin{align}
    v(t) = \int_0^t \frac{1}{m} e^{-\alpha (t - t')/m} 
        F(t') \mathrm{d}t' \, .
\end{align}
$$
对于这个简单的例子, 也可以直接将运动方程用常数变易法积分, 从而得到问题的解. &lt;/p&gt;
&lt;h1&gt;Box2&lt;/h1&gt;
&lt;p&gt;格林函数通常用来求解一个经典场的偏微分方程
$$
\begin{align}
    \nabla^2 \phi(\mathbf{r}) + k^2 \phi(\mathbf{r}) = \rho(\mathbf{r}) 
\end{align}
$$
其中对于静电场 $k=0$ , 但对于波动场不为零. 格林函数 $G(\mathbf{r}, \mathbf{r}')$ 
是一个在 $\mathbf{r}'$ 处, 由 Dirac Delta 函数 $\delta(\mathbf{r} - \mathbf{r}')$ 表示的点源的解. 也就是说, 格林函数满足方程
$$
\begin{align}
    \nabla^2 G(\mathbf{r}, \mathbf{r}') + k^2 G(\mathbf{r}, \mathbf{r}')
    = \delta(\mathbf{r} - \mathbf{r}') 
\end{align}
$$
对 $\phi$ 和 $G$ 用格林第二公式,
$$
\begin{align}
    \int_\tau (\phi \nabla^2 G - G\nabla^2 \phi) \mathrm{d}\tau
    = \int_S (\phi \nabla G - G\nabla \phi) \cdot \mathrm{d}\mathbf{S}
    \, ,
\end{align}
$$
交换 $\mathbf{r}$ 和 $\mathbf{r}'$ 并利用 $G(\mathbf{r}, \mathbf{r}')$ 的对称性后, 可以得到式 ( \ref{eq:2} )&lt;/p&gt;
&lt;p&gt;为了唯一确定 $\phi(\mathbf{r})$ 的解, 我们必须给定边界条件. 也必须给 $G(\mathbf{r}, \mathbf{r}')$ 选定合适的边界条件. 因此, 格林函数是由一个点源产生, 并由边界上的影响进修正, 得到的场. 在静电场中, 边界上的影响来自于表面电荷. 在波动问题中, 边界产生反射波, 反射波可以通过求解适当的无源方程来得到.&lt;/p&gt;
&lt;p&gt;在格林函数对粒子运动的处理中, 单位冲量由一个力 $F(t) = \delta(t - t')$ 表示, 可以与空间中的单位点源类比. 初始条件与这里的边界条件扮演同样的角色.&lt;/p&gt;
&lt;p&gt;在散射问题中, 格林函数由式 ( \ref{eq:3} ) 的变形得到, 将式 ( \ref{eq:3} ) 中的 $V\psi$ 移到右边, 并由的一个 delta 函数源 $\delta (\mathbf{r} - \mathbf{r}')$ 替换. 对于这样的问题, 边界条件要求解在离源很远的地方是出射波, 因为入射波意味着在无穷远的反射, 这是不物理的.&lt;/p&gt;
&lt;h1&gt;扩展阅读&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;The Scientific Papers of George Green, compiled in 1995 into three volumes, available on the George Green Society Web site at http://www.nottingham.ac.uk/physics/gg. Click on “The George Green Memorial Fund” for ordering information.&lt;/li&gt;
&lt;li&gt;N. M. Ferrers, ed., Mathematical Papers of George Green, (1871; reprint, Chelsea, New York, 1970).&lt;/li&gt;
&lt;li&gt;H. G. Green, “A Biography of Geroge Green,” in M. F. A. Montagu, ed., Studies and Essays in the History of Science and Learning, Schuman, New York (1946; New York: Arno Press, 1975).&lt;/li&gt;
&lt;li&gt;D. M. Cannell, George Green: Mathematician &amp;amp; Physicist, 1793–1841: The Background to His Life and Work, Society for Industrial and Applied Mathematics, Philadelphia (2001).&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;知识背景&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;罗宾汉&lt;/strong&gt;（英語：&lt;strong&gt;Robin Hood&lt;/strong&gt;）是&lt;a href="https://zh.wikipedia.org/wiki/英國"&gt;英國&lt;/a&gt;民间传说中的&lt;a href="https://zh.wikipedia.org/wiki/俠盜"&gt;俠盜&lt;/a&gt;. 他武艺出众、机智勇敢, 仇视官吏和教士, 是一位劫富濟貧、行俠仗義的綠林&lt;a href="https://zh.wikipedia.org/wiki/英雄"&gt;英雄&lt;/a&gt;. 传说他住在&lt;a href="https://zh.wikipedia.org/wiki/诺丁汉"&gt;诺丁汉&lt;/a&gt;&lt;a href="https://zh.wikipedia.org/wiki/雪伍德森林"&gt;雪伍德森林&lt;/a&gt;（Sherwood Forest）. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;主日學&lt;/strong&gt;（英語：Sunday school）是&lt;a href="https://zh.wikipedia.org/wiki/基督教"&gt;基督教&lt;/a&gt;&lt;a href="https://zh.wikipedia.org/wiki/教會"&gt;教會&lt;/a&gt;於&lt;a href="https://zh.wikipedia.org/wiki/主日"&gt;主日&lt;/a&gt;（通常即&lt;a href="https://zh.wikipedia.org/wiki/星期日"&gt;星期日&lt;/a&gt;，部分教派为安息日）早上在&lt;a href="https://zh.wikipedia.org/wiki/教堂"&gt;教堂&lt;/a&gt;或其他场所進行的宗教教育，一般在&lt;a href="https://zh.wikipedia.org/wiki/礼拜"&gt;主日敬拜&lt;/a&gt;之前或之後舉行。主日學的形式多樣化，因教會而異，內容多以查&lt;a href="https://zh.wikipedia.org/wiki/聖經"&gt;經&lt;/a&gt;、教授基本聖經內容為主，並由教會所指定的小組長、執事、傳道或&lt;a href="https://zh.wikipedia.org/wiki/牧師"&gt;牧師&lt;/a&gt;講道。&lt;/p&gt;</content><category term="未分类"></category><category term="[Green's function"></category><category term="George Green]"></category></entry><entry><title>SSD 备忘与趣事</title><link href="https://zqw.ink/2020-11-29-coding-newssd.html" rel="alternate"></link><published>2020-11-29T00:00:00+08:00</published><updated>2020-11-29T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2020-11-29:/2020-11-29-coding-newssd.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;引言&lt;/h1&gt;
&lt;p&gt;办公室电脑原来的机械硬盘实在有点不行了, 换了一块新的 SSD.&lt;/p&gt;
&lt;p&gt;本来想买个再好一点的, 但是主板有只有 sata 接口. 虽说 …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;引言&lt;/h1&gt;
&lt;p&gt;办公室电脑原来的机械硬盘实在有点不行了, 换了一块新的 SSD.&lt;/p&gt;
&lt;p&gt;本来想买个再好一点的, 但是主板有只有 sata 接口. 虽说再折腾一下也可以换更高级的 SSD, 但是也没(有)那(点)么(懒)多(啊)时(啊)间. &lt;/p&gt;
&lt;p&gt;我发现 11 月份没有写新的博客. 就这样水?一篇吧! 其实这个可以合在之前那篇 manjaro 装机 note 里的的.&lt;/p&gt;
&lt;h1&gt;买 SSD&lt;/h1&gt;
&lt;p&gt;我之前只知道 SSD 分好几种, 具体也没怎么研究过. 要自己买当然要拆开看看主板上有什么接口. 哎, 自己看了半天也不知道哪个是 SSD接口. 把图片发给店家, 立马知道要买什么样的了!&lt;/p&gt;
&lt;p&gt;原来主板上有空的 sata 接口, 而且之前我也没有意识到 SSD 是用线与主板相连的, 还以为是像内存一样直接插上的, 怪不得没有找到插口.&lt;/p&gt;
&lt;p&gt;在卖家的帮忙下(吐嘈一下, 东芝改名叫铠侠, 觉得不如原来好听) , 买了 SSD 和 sata 线.&lt;/p&gt;
&lt;h1&gt;装 SSD&lt;/h1&gt;
&lt;p&gt;很快啊, 新的 SSD 第二天就来了. 一拿的感觉是: 轻!&lt;/p&gt;
&lt;p&gt;直接插上 sata 线连上, 开机! 竟然没有识别. 思考为什么会这样的时候, 瞟了一眼说明说: SSD 还需要接电源的! 看来"不用读系列"有时候还是要看的. 我说这硬盘上怎么有两块呲出来的.&lt;/p&gt;
&lt;p&gt;可是我并没有买电源线. 就在我一边责怪卖家没有告诉我, 一边又想又得再等一天快递了, 一边又想从哪个废旧电脑上拆一根时, 突然又想到光驱也是 sata 线连到主板上的, 应该也有电源线. 机智如我, 直接拔下来接到了 SSD 上. 开机, 开不了机了, 原来那里接的是机械硬盘. 又一次偶然发现, 这根电源线中间还伸出一个头. 不错, 接上, 完美解决!&lt;/p&gt;
&lt;h1&gt;安装 SSD manjaro&lt;/h1&gt;
&lt;p&gt;记录一下注意的点. Bootloader 选到 KIOXIA (新 SSD ) 上, BIOS select device 也先 KIOXIA.&lt;/p&gt;
&lt;h1&gt;幽灵般的网络&lt;/h1&gt;
&lt;p&gt;在 SSD 上装 win10 和 manjaro 很顺利. 但接下来有一件事我至今不明白是为什么.&lt;/p&gt;
&lt;p&gt;win10 是有网的. 然后装 manjaro, 打开之后没网. 心想是网络配置不对. 然后打开机械硬盘上的 manjaro 对一下配置. 再重启进 SSD manjaro, 突然有网了. 虽然奇怪, 但问题自己好了. &lt;/p&gt;
&lt;p&gt;在 SSD manjaro 上进行了一些设置后, 重启, 又没网了, 啊! 再重启进机械硬盘 manjaro, 啊, 机械 manjaro 也没网了, 很奇怪啊, 之前 机械 manjaro 用了很久, 也没有出现连不上网的情况. 怀疑是办公室的网络出问题了, 进 SSD win10, 也没网, 更加断定我的判断. &lt;/p&gt;
&lt;p&gt;问了一下别人, 有网?&lt;/p&gt;
&lt;p&gt;那是我这根线上的路由器被我搞冲突了? 但是 yf 的还有网, 而且又边了它的网线, 也连不上网, 它的电脑却能连上. 那就是我电脑的问题了.&lt;/p&gt;
&lt;p&gt;应该也不是软件的问题, 因为无论新旧, 四个系统每个都边不上网.&lt;/p&gt;
&lt;p&gt;硬件问题, 难道是我装 SSD 的时候碰到了什么? 不应该啊! 有点迷惑!&lt;/p&gt;
&lt;p&gt;在 yf 提醒下, 将 SSD 拆下来, 进机械 win10, 进不去了... 进机械 manjaro, 啊, 竟然能连上, 真的太奇怪了! 难道接上 SSD 导致其它部分供电不足?&lt;/p&gt;
&lt;p&gt;又把 SSD 装回去, 又能连上了...&lt;/p&gt;
&lt;p&gt;从 SSD manjaro 重启再进 SSD manjaro 又边不上了.&lt;/p&gt;
&lt;p&gt;再从 SSD manjaro 重启进 SSD win10 可以.&lt;/p&gt;
&lt;p&gt;再从 SSD win10 进 SSD manjaro, 又可以了.&lt;/p&gt;
&lt;p&gt;从 SSD manjaro 重启再进 SSD manjaro 又边不上了.&lt;/p&gt;
&lt;p&gt;再从 SSD manjaro 重启进 SSD win10 可以.&lt;/p&gt;
&lt;p&gt;再从 SSD win10 进 SSD manjaro, 又可以了.&lt;/p&gt;
&lt;p&gt;看来 SSD manjaro 的网络需要 SSD win10 的唤醒...&lt;/p&gt;
&lt;p&gt;又想起之前对机械和 SSD manjaro 配置的时候网上驱动不太一样, 但是重启后好了, 没有在意. 现在又边不上了. 这就把驱动弄地一样. 好了&lt;/p&gt;
&lt;p&gt;一切都好了, 是网卡驱动的问题. 之前 cy 机械硬盘 manjaro 连不上网估计也是这个问题.&lt;/p&gt;
&lt;p&gt;但是!!! 之前四个系统都连不上的原因我依然不知道, 我能想到的就只能是... 想不到是为什么 . 太奇怪了!&lt;/p&gt;
&lt;p&gt;附网上安装: 右键安装&lt;/p&gt;
&lt;p&gt;&lt;img alt="fig" src="./2020-11-29-coding-newSSD/image-20201128212856147.png"&gt;&lt;/p&gt;
&lt;h1&gt;wayland 换 xorg&lt;/h1&gt;
&lt;p&gt;奇怪的网络问题让我对了机械和 SSD 的 gnome 版本, 发现新的 manjaro 包默认是 wayland. 我突然意识到之前给 cy 的机械硬盘装 manjaro 后闪屏的问题, 很有可能也是用了 wayland.&lt;/p&gt;
&lt;p&gt;换回 Xorg 直接安装 Xorg 包就好了&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;pacman&lt;span class="w"&gt; &lt;/span&gt;-S&lt;span class="w"&gt; &lt;/span&gt;xorg&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;登陆选 xorg 的 gnome 即可.&lt;/p&gt;
&lt;h1&gt;输入法&lt;/h1&gt;
&lt;p&gt;arch wiki 关于中文输入法的部分升级了, 存放环境变量的文件有了变化, 详见: https://wiki.archlinux.org/index.php/Fcitx_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#.E5.AE.89.E8.A3.85&lt;/p&gt;
&lt;p&gt;还是比较习惯之前的快捷键设置, 截图记录.&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-20201128215138108" src="./2020-11-29-coding-newSSD/image-20201128215138108.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-20201128215200197" src="./2020-11-29-coding-newSSD/image-20201128215200197.png"&gt;&lt;/p&gt;
&lt;h1&gt;evince 中文问题&lt;/h1&gt;
&lt;p&gt;之前装 xpdf 就好了, 可这次不好使了. 这样, 也促使我找到了问题的原因: https://blog.csdn.net/nevasun/article/details/7303529 okular, epdfview, evince的pdf功能均由xpdf的分支poppler提供，poppler从fontconfig的配置文件中读取字体取代pdf里的字体。&lt;/p&gt;
&lt;p&gt;这次安装 &lt;code&gt;poppler-data&lt;/code&gt; 就好了&lt;/p&gt;
&lt;h1&gt;emacs 开启卡顿&lt;/h1&gt;
&lt;p&gt;看卡顿的时间, 卡顿完字体变大, 推测是 cnfonts 的问题, 注释掉就好了&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;;; 字体设置&lt;/span&gt;
&lt;span class="c1"&gt;;;(require &amp;#39;cnfonts)&lt;/span&gt;
&lt;span class="c1"&gt;;; 让 cnfonts 随着 Emacs 自动生效。&lt;/span&gt;
&lt;span class="c1"&gt;;;(cnfonts-enable)&lt;/span&gt;
&lt;span class="c1"&gt;;; 让 spacemacs mode-line 中的 Unicode 图标正确显示。&lt;/span&gt;
&lt;span class="c1"&gt;;;(cnfonts-set-spacemacs-fallback-fonts)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;修改默认 shell&lt;/h1&gt;
&lt;p&gt;新的 manjaro 包默认的 shell 也改成了 zsh. 不过我还是习惯原来的 bash. 改下面的文件就可以:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;emacs&lt;span class="w"&gt; &lt;/span&gt;/etc/passwd&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;GRUB theme&lt;/h1&gt;
&lt;p&gt;新的 manjaro 包里也没有了 GRUB theme, 有点不好看, 可以直接 &lt;code&gt;yaourt grub theme&lt;/code&gt; 找到 manjaro 的 grub theme 安装就好.&lt;/p&gt;
&lt;h1&gt;开机挂载&lt;/h1&gt;
&lt;p&gt;旧的机械硬盘可以设置开机自动挂到某个目录, 方法是修改 &lt;code&gt;/etc/fstab&lt;/code&gt; , 比如增加记录&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/dev/sda5&lt;span class="w"&gt;                 &lt;/span&gt;/docu&lt;span class="w"&gt;      &lt;/span&gt;ntfs&lt;span class="w"&gt;    &lt;/span&gt;defaults&lt;span class="w"&gt;           &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;对 manjaro 版本时用到的命令&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsb_release&lt;span class="w"&gt; &lt;/span&gt;-a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;对 hexo&lt;/h1&gt;
&lt;p&gt;hexo 貌似对新版的 node 支持不友好, 需要将 node 进行版本回退才可以正常 deploy. &lt;/p&gt;
&lt;p&gt;用 &lt;code&gt;n&lt;/code&gt; 来管理和切换 node 版本. &lt;/p&gt;
&lt;p&gt;查看 node 版本&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;node&lt;span class="w"&gt; &lt;/span&gt;-v
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;安装&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;npm&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;-g&lt;span class="w"&gt; &lt;/span&gt;n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;下载 hexo 可用的 node 版本 13.14.0&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;n&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;13&lt;/span&gt;.14.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;切换版本是与上面相同的命令&lt;/p&gt;
&lt;p&gt;或许有一天, 我该把 blog 换到 pelican 上面, 毕竟比较熟悉语言.&lt;/p&gt;
&lt;h1&gt;VirtualBox&lt;/h1&gt;
&lt;p&gt;不仅需要安装 virtualbox, 还需要安装宿主机对应内核的 host modules. &lt;code&gt;umane -a&lt;/code&gt; 查看 Linux 内核版本, 比如我的结果是 5.8.18, 所以还要安装 &lt;code&gt;linux58-virtualbox-host-modules&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;两个安装好之后, 还要激活模块(这个在安装 virtualbox 时有过一行提示)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;modprobe&lt;span class="w"&gt; &lt;/span&gt;vboxdrv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;之后即可正常使用&lt;/p&gt;</content><category term="未分类"></category><category term="[SSD"></category><category term="manjaro]"></category></entry><entry><title>Listening to music 笔记</title><link href="https://zqw.ink/2020-05-22-thinking-listteningtomusic.html" rel="alternate"></link><published>2020-05-22T00:00:00+08:00</published><updated>2020-05-22T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2020-05-22:/2020-05-22-thinking-listteningtomusic.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;Style(风格)&lt;/h1&gt;
&lt;p&gt;历史学家将西方音乐史划分为八个风格时期&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Style Periods&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Keywords&lt;/th&gt;
&lt;th&gt;Composers&lt;/th&gt;
&lt;th&gt;Instrument&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Middle Ages&lt;/td&gt;
&lt;td&gt;476-1405&lt;/td&gt;
&lt;td&gt;Gregorian chant (plainsong); Mass&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Renaissance&lt;/td&gt;
&lt;td&gt;1475-1600&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Baroque&lt;/td&gt;
&lt;td&gt;1600-1750&lt;/td&gt;
&lt;td&gt;concerto(协奏曲);  fugue(赋格)&lt;/td&gt;
&lt;td&gt;Bach;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Classical&lt;/td&gt;
&lt;td&gt;1750-1820&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Mozart; Beethoven …&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;Style(风格)&lt;/h1&gt;
&lt;p&gt;历史学家将西方音乐史划分为八个风格时期&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Style Periods&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Keywords&lt;/th&gt;
&lt;th&gt;Composers&lt;/th&gt;
&lt;th&gt;Instrument&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Middle Ages&lt;/td&gt;
&lt;td&gt;476-1405&lt;/td&gt;
&lt;td&gt;Gregorian chant (plainsong); Mass&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Renaissance&lt;/td&gt;
&lt;td&gt;1475-1600&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Baroque&lt;/td&gt;
&lt;td&gt;1600-1750&lt;/td&gt;
&lt;td&gt;concerto(协奏曲);  fugue(赋格)&lt;/td&gt;
&lt;td&gt;Bach;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Classical&lt;/td&gt;
&lt;td&gt;1750-1820&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Mozart; Beethoven; Haydn; Schubert&lt;/td&gt;
&lt;td&gt;piano&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Romantic&lt;/td&gt;
&lt;td&gt;1820-1900&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Chopin; Mahler; Puccini&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Impressionist&lt;/td&gt;
&lt;td&gt;1880-1920&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Debussy&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Modern&lt;/td&gt;
&lt;td&gt;1900-1985&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Postmodern&lt;/td&gt;
&lt;td&gt;1945-present&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;Musician&lt;/h1&gt;
&lt;h2&gt;J. S. Bach (1685-1750)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;对位作品 The Well-Tempered clavier, 1720-1742 (《平均律钢琴曲集》)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The Art of Fugue, 1742-1750 (《赋格的艺术》)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Bach作品目录: BWV(Bach-Werke-Verzeichnis)&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;BWV 232&lt;/td&gt;
&lt;td&gt;Mass in B minor (church music in Latin)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BWV 244&lt;/td&gt;
&lt;td&gt;St Matthew Passion (马太受难曲)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;Reference&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Wright, Craig M, Listening to Music, 7th Edition, 2014, Schirmer_Cengage Learning&lt;/li&gt;
&lt;li&gt;[美] 克雷格·莱特 著, 余志刚 李秀军 译, 余志刚 统校, 聆听音乐, 第五版, 三联书店&lt;/li&gt;
&lt;li&gt;耶鲁大学公开课: 聆听音乐 https://oyc.yale.edu/music/musi-112/lecture-1 中字: https://www.bilibili.com/video/BV1sW411a7nM&lt;/li&gt;
&lt;li&gt;https://en.wikipedia.org/wiki/Bach-Werke-Verzeichnis&lt;/li&gt;
&lt;/ul&gt;</content><category term="未分类"></category><category term="[音乐]"></category></entry><entry><title>数值积分遇到的一个坑</title><link href="https://zqw.ink/2020-03-19-physics-angle_integration.html" rel="alternate"></link><published>2020-03-19T00:00:00+08:00</published><updated>2020-03-19T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2020-03-19:/2020-03-19-physics-angle_integration.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;问题积分&lt;/h1&gt;
&lt;p&gt;$$
\begin{align}
I(\Omega) =&amp;amp; \frac{1}{2\pi}\int_0^{\infty}\mathrm{d}^3\vec{q}\cdot
        \mathrm{Im} \left[\frac{1}{q^2-16q\cos\theta+2(\Omega+14)+\mathrm{i}0^+}\right]\
        =&amp;amp; \frac{1}{2\pi}\int_0^{\infty}\mathrm{d}q
                         \int_0^{\pi}\mathrm{d}\theta …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;问题积分&lt;/h1&gt;
&lt;p&gt;$$
\begin{align}
I(\Omega) =&amp;amp; \frac{1}{2\pi}\int_0^{\infty}\mathrm{d}^3\vec{q}\cdot
        \mathrm{Im} \left[\frac{1}{q^2-16q\cos\theta+2(\Omega+14)+\mathrm{i}0^+}\right]\
        =&amp;amp; \frac{1}{2\pi}\int_0^{\infty}\mathrm{d}q
                         \int_0^{\pi}\mathrm{d}\theta
                         \int_0^{2\pi}\mathrm{d}\phi \cdot
        \mathrm{Im} \left[\frac{q^2\sin\theta}
                 {q^2-16q\cos\theta+2(\Omega+14)+\mathrm{i}0^+}\right]\
    =&amp;amp;\int_0^{\infty}\mathrm{d}q\int_{-1}^1\mathrm{d}x \cdot\mathrm{Im}\left[ 
    \frac{q^2}{q^2-16qx+2(\Omega+14)+\mathrm{i}0^+}
  \right]
\end{align}
$$&lt;/p&gt;
&lt;h1&gt;全部解析地积: 先积 $x$ 再积 $q$&lt;/h1&gt;
&lt;p&gt;$$
\begin{align}
I(\Omega) =&amp;amp;\int_0^{\infty}\mathrm{d}q \cdot \frac{q}{16}\mathrm{Im}\left[
   \ln\left(q^2+16q+2(\Omega+14)+\mathrm{i}0^+\right)
  -\ln\left(q^2-16q+2(\Omega+14)+\mathrm{i}0^+\right)
    \right] \
    =&amp;amp; -\pi \theta(18-\Omega)\sqrt{2(18-\Omega)}
\end{align}
$$&lt;/p&gt;
&lt;h1&gt;全部解析地积: 先积 $q$ 对积 $x$&lt;/h1&gt;
&lt;p&gt;$$
\begin{align}
I(\Omega) =&amp;amp;-\pi\int_{-1}^1\mathrm{d}x \int_0^{\infty}\mathrm{d}q\cdot 
    q^2\frac{\delta(q-q^+)+\delta(q-q^-)}{|q^+-q^-|}\
    =&amp;amp;-\pi\left[\int_{-1}^1\mathrm{d}x \cdot\frac{\theta(-\Omega-14)q^{+2}}{|q^+-q^-|}
      +\int_\sqrt{\frac{\Omega+14}{32}}^1\mathrm{d}x\cdot 
                 \frac{\theta(\Omega+14)\theta(18-\Omega)
                \left( q^{+2}+q^{-2} \right)}{|q^+-q^-|}\right]\
    =&amp;amp; -\pi\theta(18-\Omega)\sqrt{2(18-\Omega)}
\end{align}
$$&lt;/p&gt;
&lt;h1&gt;解析积 $q$ , 数值积 $x$&lt;/h1&gt;
&lt;p&gt;$$
\begin{align}
I(\Omega) =&amp;amp;-\pi\int_{-1}^1\mathrm{d}x \int_0^{\infty}\mathrm{d}q\cdot 
    q^2\frac{\delta(q-q^+)+\delta(q-q^-)}{|q^+-q^-|}\
        =&amp;amp;\int_0^{\infty}\mathrm{d}q\int_{-1}^1\mathrm{d}x \cdot\mathrm{Im}\left&lt;a href="通否化成 q 复平面上的积分?"&gt; 
    \frac{q^2}{q^2-16qx+2(\Omega+14)+\mathrm{i}0^+}
  \right&lt;/a&gt;\
    =&amp;amp;-\pi\left[\int_{-1}^1\mathrm{d}x \cdot\frac{\theta(-\Omega-14)q^{+2}}{|q^+-q^-|}
      +\int_\sqrt{\frac{\Omega+14}{32}}^1\mathrm{d}x\cdot 
                 \frac{\theta(\Omega+14)\theta(18-\Omega)
                \left( q^{+2}+q^{-2} \right)}{|q^+-q^-|}\right]
\end{align}
$$&lt;/p&gt;
&lt;p&gt;其中
$$
\begin{align}
\Delta =&amp;amp; (16x)^2-8(\Omega+14) \
q^{\pm} =&amp;amp; \frac{16x \pm\sqrt{\Delta}}{2}
\end{align}
$$
而
$$
|q^+ - q^-| = \sqrt{\Delta}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{align}
\int_{-1}^{1}\mathrm{d}x\cdot\frac{q^{+2}}{|q^+-q^-|} 
  =&amp;amp; \frac{1}{4}\int_{-1}^{1}\mathrm{d}x\cdot\left(32x + \sqrt{\Delta}+\frac{(16x)^2}{\sqrt{\Delta}}\right) \
  =&amp;amp; \frac{1}{4}\int_{-1}^{1}\mathrm{d}x\cdot\left(32x + \sqrt{(16x)^2-8(\Omega+14)}+
         \frac{(16x)^2}{\sqrt{(16x)^2-8(\Omega+14)}}\right)
\end{align}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{align}
\int_\sqrt{\frac{\Omega+14}{32}}^1\mathrm{d}x\cdot\frac{q^{+2}+q^{-2}}{|q^+-q^-|} 
  =&amp;amp; \frac{1}{2}\int_\sqrt{\frac{\Omega+14}{32}}^1\mathrm{d}x\cdot\frac{(16x)^2+ \Delta}{\sqrt{\Delta}} \
  =&amp;amp; \frac{1}{2}\int_\sqrt{\frac{\Omega+14}{32}}^1\mathrm{d}x\cdot\left[\frac{(16x)^2}{\sqrt{\Delta}} +\sqrt{\Delta}\right] \
 =&amp;amp; \frac{1}{2}\int_\sqrt{\frac{\Omega+14}{32}}^1\mathrm{d}x\cdot\left[\frac{(16x)^2}{\sqrt{(16x)^2-8(\Omega+14)}} +\sqrt{(16x)^2-8(\Omega+14)}\right]
\end{align}
$$
上面这两个积分, 想通过数值计算. 值得注意的是, 被积函数在积分下限处发散, 但是 $\mathcal{O}\left(x^{-\frac{1}{2}}\right)$ 形式的发散, 积分结果并不发散. 比如当 $\Omega=-6$ 时
$$
\begin{align}
\int_\sqrt{\frac{\Omega+14}{32}}^1\mathrm{d}x\cdot\frac{q^{+2}+q^{-2}}{|q^+-q^-|} 
 =&amp;amp; \frac{1}{2}\int_\sqrt{\frac{\Omega+14}{32}}^1\mathrm{d}x\cdot\left[\frac{(16x)^2}{\sqrt{(16x)^2-8(\Omega+14)}} +\sqrt{(16x)^2-8(\Omega+14)}\right] \
  =&amp;amp; \frac{1}{2}\int_\frac{1}{2}^1\mathrm{d}x\cdot\left[\frac{(16x)^2}{\sqrt{(16x)^2-64}} +\sqrt{(16x)^2-64}\right]
\end{align}
$$&lt;/p&gt;
&lt;h1&gt;普遍情况&lt;/h1&gt;
&lt;p&gt;积分
$$
I(B,C,x) = \int_{0}^{\infty}\mathrm{d}q\cdot \mathrm{Im}\left[ 
        \frac{q^2f(q)}{q^2 - qBx+C+\mathrm{i}0^+}\right] 
        ,\quad \mathrm{for} \,\, x\in[-1,1],B&amp;gt;0
$$&lt;/p&gt;
&lt;p&gt;分母中关于 $q$ 的二次函数的根的判别式
$$
\begin{align}
\Delta =&amp;amp; (Bx)^2 -4C \
\Delta &amp;gt;&amp;amp; 0 \Rightarrow  C&amp;lt;\frac{(Bx)^2}{4} \
\end{align}
$$
只有 $\Delta&amp;gt;0$ 时, 积分才不为零. 此时分母中关于 $q$ 的二次函数有两个根
$$
q^{\pm} = \frac{Bx\pm\sqrt{\Delta}}{2}
$$
取虚部
$$
\begin{align}
I(B,C,x) =&amp;amp; -\pi\int_0^{\infty}\mathrm{d}q\cdot 
           q^2f(q)\frac{\delta(q-q^+)+\delta(q-q^+)}{|q^+-q^-|} \
         =&amp;amp; -\pi\int_0^{\infty}\mathrm{d}q\cdot 
           q^2f(q)\frac{\delta(q-q^+)+\delta(q-q^+)}{\sqrt{\Delta}}
\end{align}
$$&lt;/p&gt;
&lt;p&gt;对 $q$ 的积分范围是 $[0, \infty]$ , 因此 $q^{\pm}&amp;gt;0$ 时, 对应的 Dirac delta 函数才对积分有贡献.&lt;/p&gt;
&lt;p&gt;$q^+&amp;gt;0$ 的条件为&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;当 $x&amp;gt;0$ 时: $q^+&amp;gt;0$ 恒成立. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;当 $x &amp;lt; 0$ 时: 若要 $q^+ &amp;gt; 0$ , 应有 $Bx+\sqrt{\Delta}&amp;gt;0 \Rightarrow C&amp;lt;0$ .&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$q^-&amp;gt;0$ 的条件为&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当 $x &amp;lt; 0$ 时: $q ^ - &amp;lt; 0$ 恒成立, 即 $q^+ &amp;gt; 0$ 恒不成立.&lt;/li&gt;
&lt;li&gt;当 $x&amp;gt;0$ 时: 若要 $q^-&amp;gt;0$ 应有 $Bx-\sqrt{\Delta}&amp;gt;0 \Rightarrow C&amp;gt;0$ .&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所以对积分有贡献的区域如下图&lt;/p&gt;
&lt;p&gt;&lt;img alt="Integration" src="./2020-03-19-physics-Angle_Integration/Integration.png"&gt;&lt;/p&gt;
&lt;p&gt;因此, 积分化为&lt;/p&gt;
&lt;p&gt;$$
\begin{align}
I(B,C,x) =&amp;amp; -\pi\int_0^{\infty}\mathrm{d}q\cdot 
           q^2f(q)\frac{\delta(q-q^+)+\delta(q-q^+)}{\sqrt{\Delta}} \
         =&amp;amp; -\pi \left[ \theta(-C)\frac{f(q^+)q^{+2}}{\sqrt{\Delta}}
            + \theta(C)\theta\left(\frac{(Bx)^2}{4}-C\right)
              \theta\left(\sqrt{\frac{4C}{B}}-x\right)
            \frac{f(q^+)q^{+2}+f(q^-)q^{-2}}{\sqrt{\Delta}}\right]
\end{align}
$$&lt;/p&gt;
&lt;h1&gt;Supplementary&lt;/h1&gt;
&lt;h2&gt;先积 $x$ 再积 $q$ 的详细过程&lt;/h2&gt;
&lt;p&gt;$$
 \begin{align}I(\Omega) =&amp;amp;\int_0^{\infty}\mathrm{d}q \cdot \frac{q}{16}\mathrm{Im}\left[   \ln\left(q^2+16q+2(\Omega+14)+\mathrm{i}0^+\right)  -\ln\left(q^2-16q+2(\Omega+14)+\mathrm{i}0^+\right)    \right] \    =&amp;amp; -\pi \theta(18-\Omega)\sqrt{2(18-\Omega)}\end{align}
$$&lt;/p&gt;
&lt;p&gt;上式中第二个等号的计算细节.&lt;/p&gt;
&lt;p&gt;只有当第一个对数中大于零, 第二个对数中小于零时积分才不为零.&lt;/p&gt;
&lt;p&gt;二次函数根的判别式相同, 为
$$
\begin{align}
\Delta = 16^2-8(\Omega + 14)\
\Delta &amp;gt; 0 \Rightarrow \Omega &amp;lt; 18 \
\sqrt{\Delta} &amp;gt; 16 \Rightarrow \Omega &amp;lt; 14
\end{align}
$$
第一项的根为
$$
q^{\pm}= \frac{-16 \pm \sqrt{\Delta}}{2}
$$&lt;/p&gt;
&lt;p&gt;第二项的根为
$$
q^{\pm}= \frac{16 \pm \sqrt{\Delta}}{2}
$$
积分不为零的条件为
$$
\begin{align}
0&amp;lt;\frac{\sqrt{\Delta}-16}{2}&amp;lt;q&amp;lt;\frac{\sqrt{\Delta}+16}{2},\quad \mathrm{if}\quad \sqrt{\Delta}&amp;gt;14 \
0&amp;lt;\frac{16-\sqrt{\Delta}}{2}&amp;lt;q&amp;lt;\frac{16+\sqrt{\Delta}}{2},\quad \mathrm{if}\quad \sqrt{\Delta}&amp;lt;14
\end{align}
$$
所以积分结果为
$$
\begin{align}
I(\Omega) =&amp;amp; -\pi\left[ 
\theta(14-\Omega)\left.\frac{q^2}{32}\right|&lt;em q="\frac{16-\sqrt{\Delta"&gt;{q=\frac{\sqrt{\Delta}-16}{2}}^{q=\frac{\sqrt{\Delta}+16}{2}}
+\theta(\Omega-14)\theta(18-\Omega)\left.\frac{q^2}{32}\right|&lt;/em&gt;
\right]\
=&amp;amp;-\pi \theta(18-\Omega)\frac{\sqrt{\Delta}}{2} \
=&amp;amp; -\pi \theta(18-\Omega)\sqrt{2(18-\Omega)}
\end{align}
$$}}{2}}^{q =\frac{16+\sqrt{\Delta}}{2}&lt;/p&gt;
&lt;h2&gt;先积 $q$ 再积 $x$ 的详细过程&lt;/h2&gt;
&lt;p&gt;$$
\begin{align}
I(\Omega) =&amp;amp;-\pi\int_{-1}^1\mathrm{d}x \int_0^{\infty}\mathrm{d}q\cdot 
    q^2\frac{\delta(q-q^+)+\delta(q-q^-)}{|q^+-q^-|}\
        =&amp;amp;-\pi\left[\int_{-1}^1\mathrm{d}x \cdot\frac{\theta(-\Omega-14)q^{+2}}{|q^+-q^-|}
      +\int_\sqrt{\frac{\Omega+14}{32}}^1\mathrm{d}x\cdot 
                 \frac{\theta(\Omega+14)\theta(18-\Omega)
                \left( q^{+2}+q^{-2} \right)}{|q^+-q^-|}\right]\
    =&amp;amp; -\pi \left[ \theta(-\Omega-14)\left.\cdot \frac{x}{4}
         \sqrt{(16x)^2-8(\Omega+14)}\right|&lt;em x="\sqrt{\frac{\Omega+14"&gt;{x=-1}^{x=1}   \
       +\left.\theta(\Omega+14)\theta(18-\Omega)\cdot \frac{x}{2}
         \sqrt{(16x)^2-8(\Omega+14)}\right|&lt;/em&gt;
    \right]\
    =&amp;amp; -\pi \left[ \theta(-\Omega-14)\left.\cdot \frac{x}{2}
         \sqrt{(16x)^2-8(\Omega+14)}\right|}{32}}}^{x=1&lt;em x="\sqrt{\frac{\Omega+14"&gt;{x=0}^{x=1}   \
       +\left.\theta(\Omega+14)\theta(18-\Omega)\cdot \frac{x}{2}
         \sqrt{(16x)^2-8(\Omega+14)}\right|&lt;/em&gt;
    \right]\
    =&amp;amp; -\pi \left[ \theta(-\Omega-14)\left.\cdot \frac{x}{2}
         \sqrt{(16x)^2-8(\Omega+14)}\right|}{32}}}^{x=1&lt;em x="\sqrt{\frac{\Omega+14"&gt;{x=0}^{x=1}   \
       +\left.\theta(\Omega+14)\theta(18-\Omega)\cdot \frac{x}{2}
         \sqrt{(16x)^2-8(\Omega+14)}\right|&lt;/em&gt;
    \right] \
    =&amp;amp; -\pi\theta(18-\Omega)\sqrt{2(18-\Omega)}
\end{align}
$$}{32}}}^{x=1&lt;/p&gt;
&lt;h1&gt;总结&lt;/h1&gt;
&lt;p&gt;数值积分的时候, 注意某个点发散但积分不发散的情况.&lt;/p&gt;</content><category term="未分类"></category><category term="[积分"></category><category term="数值计算]"></category></entry><entry><title>常用光学知识点</title><link href="https://zqw.ink/2020-03-18-physics-opticsta.html" rel="alternate"></link><published>2020-03-18T00:00:00+08:00</published><updated>2020-03-18T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2020-03-18:/2020-03-18-physics-opticsta.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;
&lt;p&gt;批作业会用到&lt;/p&gt;
&lt;h1&gt;第二章 几何光学 (Geometrical Optics)&lt;/h1&gt;
&lt;h2&gt;几何光学精确的, 基本的规律&lt;/h2&gt;
&lt;h3&gt;反射定律与折射定律与全反射&lt;/h3&gt;
&lt;h3&gt;从波来理解几何光学: 惠 …&lt;/h3&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;
&lt;p&gt;批作业会用到&lt;/p&gt;
&lt;h1&gt;第二章 几何光学 (Geometrical Optics)&lt;/h1&gt;
&lt;h2&gt;几何光学精确的, 基本的规律&lt;/h2&gt;
&lt;h3&gt;反射定律与折射定律与全反射&lt;/h3&gt;
&lt;h3&gt;从波来理解几何光学: 惠更斯作图法&lt;/h3&gt;
&lt;h3&gt;费马原理 (Fermat’s Principle) 与物像等光程与虚光程&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Light traverses the route having the smallest optical path length&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;教材 38 页. 为了把物像之间的等光程性原理推广到虚物或虚像的情形, 需要引入 "虚光程" 的概念.&lt;/p&gt;
&lt;p&gt;光程正负号的规定: 与虚物或虚像相联系的与实际光线的延长线对应的光程称为虚光程，规定其符号取负值. (实际光线没有走到虚物或虚像的位置, 所以要减去)&lt;/p&gt;
&lt;p&gt;折射率的规定: 虚光程部分的折射率由与之对应的实际光线的折射率决定. (光按照实际光线那边的折射率才能走到虚像或虚物的位置, 所以折射率按实际光线那边算)&lt;/p&gt;
&lt;h2&gt;傍轴近似下的成像&lt;/h2&gt;
&lt;h3&gt;球面折射&lt;/h3&gt;
&lt;p&gt;可以通过折射定律或费马原理在傍轴近似下得到下式:
$$
\frac{n'}{s'} + \frac{n}{s} = \frac{n'-n}{r}
$$&lt;/p&gt;
&lt;p&gt;按入射光线从左到右, 式中符号规定如下:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;物在顶点左侧, $s&amp;gt;0$ , 实物&lt;/li&gt;
&lt;li&gt;像在顶点右侧, $s'&amp;gt;0$ , 实像&lt;/li&gt;
&lt;li&gt;球心在顶点右侧, $r&amp;gt;0$&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;球面反射&lt;/h3&gt;
&lt;p&gt;可理解为一种特殊的 "折射" , $n'=-n$ , 就可以由球面折射得到球面反射.&lt;/p&gt;
&lt;h3&gt;球面焦距&lt;/h3&gt;
&lt;p&gt;由球面折射可以得到焦距的表达式
$$
\begin{align}
s'\to&amp;amp;\infty \
s\to&amp;amp; f = n\cdot\frac{r}{n'-n}
\end{align}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{align}
s\to&amp;amp;\infty \
s'\to&amp;amp; f' = n' \cdot \frac{r}{n'-n}
\end{align}
$$&lt;/p&gt;
&lt;p&gt;那么用焦距来表达球面折射
$$
\frac{f'}{s'} + \frac{f}{s} = 1
$$
这也叫高斯物像公式.&lt;/p&gt;
&lt;h3&gt;横向放大率&lt;/h3&gt;
&lt;p&gt;根据教材图 2-9 , 对于折射, 一定有 $y'&amp;lt;0$ , 在傍轴近似下, 根据折射定律
$$
V = \frac{y'}{y} = \frac{(-i') s'}{i s} = -\frac{ns'}{n's} = -\frac{fs'}{f's}
$$&lt;/p&gt;
&lt;h2&gt;薄透镜成像&lt;/h2&gt;
&lt;p&gt;薄透镜的假设是两个球面的顶点几乎重合, 那么就可以认为 $s_1'=-s_2$ , 那么用两次球面折射公式可以得到
$$
\frac{n'}{s'} + \frac{n}{s} = \frac{n_L-n}{r_1} + \frac{n' - n_L}{r_2}
$$&lt;/p&gt;
&lt;p&gt;由上式将 $s$ 或者 $s'$ 取为 $\infty$ 可以得到焦距公式
$$
\begin{align}
s'\to&amp;amp;\infty \
s\to&amp;amp; f = \frac{n}{\frac{n_L-n}{r_1} + \frac{n' - n_L}{r_2}}
\end{align}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{align}
s\to&amp;amp;\infty \
s'\to&amp;amp; f' = \frac{n'}{\frac{n_L-n}{r_1} + \frac{n' - n_L}{r_2}}
\end{align}
$$&lt;/p&gt;
&lt;p&gt;取 $n'=n=1$ 可得磨镜者公式
$$
f = f' = \frac{1}{(n_L - 1)(\frac{1}{r_1} - \frac{1}{r_2})}
$$&lt;/p&gt;
&lt;p&gt;薄透镜的成像仍然满足高斯公式. 若透镜两边折射率相等, 那么 $f=f'$ , 便得到最常见的薄透镜成像公式
$$
\frac{1}{s'}+\frac{1}{s} = \frac{1}{f}
$$
这个公式的条件是: 傍轴, 薄透镜, 透镜两边折射率相等. 此时过光心的光线方向不变, 横向放大率也变为
$$
V = - \frac{s'}{s}
$$&lt;/p&gt;
&lt;h2&gt;理想光具组成像&lt;/h2&gt;
&lt;h3&gt;理想光具组公式&lt;/h3&gt;
&lt;p&gt;理想光具组可以用高斯公式.&lt;/p&gt;
&lt;p&gt;按入射光线从左到右. $s$ 为物到物方面的距离, 在左为正. $s'$ 为像到像方主面的距离, 在右为正. (教材57页) $f, f'$ 与 $s, s'$ 有相同的符号规则. &lt;/p&gt;
&lt;p&gt;两个光具组合在一起
$$
\begin{align}
f =&amp;amp; -\frac{f_1 f_2}{\Delta} \
f' =&amp;amp; -\frac{f_1' f_2'}{\Delta} \
X_H = &amp;amp; H_1H =  f_1 \frac{d}{\Delta}\
X_H' =&amp;amp;H_2'H =  f_2' \frac{d}{\Delta}
\end{align}
$$&lt;/p&gt;
&lt;p&gt;其中按照入射光线从左往右, $\Delta$ 是第一个光具组的像方焦点与第二个光具组的物方焦点的距离, $d$ 是对应的主面的距离.&lt;/p&gt;
&lt;h3&gt;理想光具作图&lt;/h3&gt;
&lt;p&gt;节点(冗余的条件): 角放大率为 $1$&lt;/p&gt;
&lt;h2&gt;光学仪器: 眼镜&lt;/h2&gt;
&lt;p&gt;近视镜应该让佩戴者看清无穷远的物, 也就是使无穷远处的物成像于佩戴者的远点处.&lt;/p&gt;
&lt;p&gt;远视镜应该让佩戴者看清明视距离 ( $25\mathrm{cm}$ ) 处的物, 也就是使明视距离处的物成像于佩戴者近点处.&lt;/p&gt;
&lt;p&gt;眼镜的度为
$$
P = 100\mathrm{m}/f
$$
近视眼佩戴凹透镜, 度数为负. 远视眼佩戴凸透镜, 度数为正.&lt;/p&gt;
&lt;h2&gt;几何光学总结&lt;/h2&gt;
&lt;p&gt;$$
\begin{align}
\left{\begin{array}{c}惠更斯原理\费马原理\end{array}\right}
\overset{精确}{\Rightarrow}
\left{\begin{array}{c}折射定律\反射定律\end{array}\right}
\overset{傍轴近似}{\Rightarrow}
\left{\begin{array}{c}球面折射公式\球面反射公式\end{array}\right}
\overset{薄透镜近似}{\Rightarrow}
薄透镜高斯物像公式
\end{align}
$$&lt;/p&gt;
&lt;h1&gt;第三章 干涉&lt;/h1&gt;
&lt;h2&gt;杨氏双缝&lt;/h2&gt;
&lt;p&gt;在傍轴近似下有
$$
\frac{\delta}{d} = \frac{x}{D}
$$&lt;/p&gt;
&lt;p&gt;双缝间距为 $d$ , 距离孔 $D$ 处的屏上,  $x$ 的距离对应 $\delta$ 的光程差.&lt;/p&gt;
&lt;h2&gt;等厚干涉&lt;/h2&gt;
&lt;p&gt;牛顿环, 由于半波损, 中心为暗点.&lt;/p&gt;
&lt;h2&gt;等倾干涉&lt;/h2&gt;
&lt;p&gt;上下表面反射的相同倾角的两束光在无穷远处形成干涉条纹. 无近似, $i$ 为介质内的入射反射角(教材3-35)
$$
\Delta L = 2 n h \cos i
$$&lt;/p&gt;
&lt;p&gt;F-P 干涉仪条纹的半高全宽 $\varepsilon$ 与反射率 $R$ 之间的关系
$$
\varepsilon = \frac{2(1 - R)}{\sqrt{R}}
$$&lt;/p&gt;
&lt;h1&gt;第四章 衍射&lt;/h1&gt;
&lt;h2&gt;用矢量图解法叠加振幅&lt;/h2&gt;
&lt;p&gt;教材图 4-15&lt;/p&gt;
&lt;h2&gt;菲涅耳半波带片的焦距公式&lt;/h2&gt;
&lt;p&gt;好像以前那种老式的手电筒上就是用的这种衍射的会聚透镜.
$$
f = \frac{\rho_1^2}{\lambda} = \frac{\rho_k^2}{k\lambda}
$$&lt;/p&gt;
&lt;h2&gt;夫琅禾费衍射&lt;/h2&gt;
&lt;h3&gt;单缝&lt;/h3&gt;
&lt;p&gt;$$
\frac{I}{I_0} = \left(\frac{\sin \alpha}
{\alpha}\right)^2 \quad, \mathrm{where} \quad
\alpha = \frac{a \pi}{\lambda}\sin \theta
$$&lt;/p&gt;
&lt;h3&gt;多缝&lt;/h3&gt;
&lt;p&gt;$$
\frac{I}{I_0} = \left(\frac{\sin \alpha}{\alpha}\right)^2 
\left(\frac{\sin N\beta}{\sin\beta}\right)^2
\quad, \mathrm{where} 
\quad\alpha = \frac{a \pi}{\lambda}\sin \theta,
\quad\beta = \frac{d \pi}{\lambda}\sin \theta
$$&lt;/p&gt;
&lt;p&gt;当 $\beta = k\pi$ 时, 多缝因子为 $N^2$ 为主极大. 当 $\beta = (k + m/N)\pi,m/N\notin \mathbb{Z}$ 时, 强度为零.&lt;/p&gt;
&lt;p&gt;半角宽度, 是 $k$ 级主极大到相邻暗纹的距离
$$
\begin{align}
\Delta \theta_k =&amp;amp; (\theta_k+\Delta\theta_k) - \theta_k 
    = \arcsin\left[\left( k + \frac{1}N \right) \frac{\lambda}{d}\right] 
       - \arcsin\left( \frac{k\lambda}{d}\right)
    = \frac{\lambda}{Nd\cos\theta_k} + \mathcal{O}\left( \frac{1}{N^2} \right) \
    \approx&amp;amp; \frac{\lambda}{Nd\cos\theta_k}&lt;/p&gt;
&lt;p&gt;\end{align}{}
$$&lt;/p&gt;
&lt;h3&gt;光栅&lt;/h3&gt;
&lt;p&gt;"光栅的衍射场鲜明地表现出'多光束干涉'的基本特征". 光栅性能的主要标志为色散本领和色分辨本领.&lt;/p&gt;
&lt;p&gt;角色散本领, 是两个很接近的波长产生的两个主极大分开的角度与波长差的比值, 量纲是波长的倒数
$$
\begin{align}
D_{\theta} =&amp;amp; \frac{\delta \theta}{\delta\lambda} 
           =\frac{\mathrm{d}}{\mathrm{d}\lambda}\arcsin\left( \frac{k\lambda}{d} \right) 
           =\frac{k}{d}\frac{1}{\sqrt{1-\left( \frac{k\lambda}{d} \right)^2}}
           =\frac{k}{d}\frac{1}{\sqrt{1-\sin^2 \theta}} \
           =&amp;amp; \frac{k}{d\cos\theta_k}
\end{align}
$$&lt;/p&gt;
&lt;p&gt;线色散本领
$$
D_l = fD_{\theta} = f \frac{k}{d \cos\theta_k}
$$&lt;/p&gt;
&lt;p&gt;两个很接近的波长产生的两个主极大分开的角度, 刚好等于此波长处的半角宽度时, 根据瑞利判据, 刚好可以分辨这两条谱线, 光栅的色分辨本领 $R$ 由此定义
$$
D_{\theta} = \frac{\Delta\theta}{\delta \lambda} 
    \Rightarrow R\equiv \frac{\lambda}{\delta\lambda} = Nk
$$&lt;/p&gt;
&lt;p&gt;色分辨本领, 是能够分辨的最小波长差&lt;/p&gt;
&lt;h3&gt;圆孔正入射&lt;/h3&gt;
&lt;p&gt;$$
I(\theta) = I_0 \left[\frac{2J_1(x)}{x}\right]^2\quad\, ,x=\frac{2\pi a}{\lambda} \sin \theta
$$&lt;/p&gt;
&lt;p&gt;口径的最小分辨角, 就是第一暗环角半径
$$
\delta \theta_{\mathrm{min}} \Delta\theta = 1.22 \frac{\lambda}{D}
$$&lt;/p&gt;
&lt;h1&gt;第五章 变换光学&lt;/h1&gt;
&lt;h2&gt;屏函数&lt;/h2&gt;
&lt;p&gt;衍射屏的作用可以集中地用屏函数来表征
$$
\tilde{T}(x, y) = \frac{\tilde{U}&lt;em&gt;\mathrm{out}(x, y)}     {\tilde{U}&lt;/em&gt;\mathrm{in}(x, y)}
$$
它的模叫振幅变换函数, 它的相位叫做相位变换函数.&lt;/p&gt;
&lt;h2&gt;平面波和球面波的复振幅&lt;/h2&gt;
&lt;p&gt;球面波&lt;/p&gt;
&lt;p&gt;从 $(x_0, y_0, 0)$ 发出的球面波, 在点 $(x, y, z)$ 处的复振幅为
$$
\tilde{U}(x, y ) = \frac{Ae^{\mathrm{i}\phi_0}}{r}e^{\mathrm{i}kr}
$$
其中 $r = \sqrt{(x - x_0)^2 + (y - y_0)^2 + z^2}$ . 在傍轴近似下, 可以在 $x = 0, y = 0 ,x_0 = 0, y_0 = 0$ .  做 Taylor 展开, 并且只保留到二阶项
$$
\begin{align}
r =&amp;amp; |z| + \frac{1}{2}\frac{(x-x_0)^2 + (y-y_0)^2}{|z|} 
     + \mathcal{O}\left{\left[(x-x_0)^2 + (y - y_0)^2\right]^2\right} \
  \approx&amp;amp; |z| + \frac{x_0^2 + y_0^2}{2|z|} + \frac{x^2 + y^2}{2|z|}
      - \frac{xx_0 + yy_0}{|z|}
\end{align}
$$
在复振幅中, 分母中可以直接取领头项 $r\approx |z|$ . 而在指数上, 由于 $k$ 很大, 在不满足远场近似时, 需要保留二阶项. 所以傍轴近似下, 复振幅表示为
$$
\tilde{U}(x, y ) = \frac{Ae^{\mathrm{i}\phi_0}}{|z|}e^{\mathrm{i}k\left( |z| + \frac{x_0^2 + y_0^2}{2|z|} + \frac{x^2 + y^2}{2|z|}
      - \frac{xx_0 + yy_0}{|z|} \right)}
$$
取其复共轭, 即为会聚波.&lt;/p&gt;
&lt;p&gt;平面波
$$
\tilde{U}(\vec{r}) = Ae^{\mathrm{i}\phi_0}e^{\mathrm{i}\vec{k}\cdot \vec{r}}
$$&lt;/p&gt;
&lt;h2&gt;傅里叶变换&lt;/h2&gt;
&lt;p&gt;夫琅禾费积分
$$
\begin{align}
\tilde{U}(x', y') =&amp;amp; Ae^{\mathrm{i}kz}e^{\mathrm{i}k\frac{x'^2 + y^2}{2}}
   \int\mathrm{d}x\int\mathrm{d}y \cdot \tilde{T}(x, y)
     \cdot e^{-\mathrm{i}k\frac{xx' + yy'}{z}} \
\tilde{U}(\theta_1, \theta_2) =&amp;amp; Ae^{\mathrm{i}\phi(\theta_1, \theta_2)}
   \int\mathrm{d}x\int\mathrm{d}y \cdot \tilde{T}(x, y)
     \cdot e^{-\mathrm{i}k(x\sin\theta_1 + y\sin\theta_2)} \
\end{align}
$$
都是傅里叶变换的形式. 衍射屏上的一点 $(x, y)$ 就对应一对频率. 衍射屏的大小是有限的, 所以衍射屏会过虑掉一些频率的作用.&lt;/p&gt;
&lt;h2&gt;全息照相&lt;/h2&gt;
&lt;p&gt;全息底片记录了照片的相位信息
$$
I_H(x, y) = (\tilde{U}_O + \tilde{U}_R) (\tilde{U}_O + \tilde{U}_R)^*
$$&lt;/p&gt;
&lt;p&gt;经过线性冲洗后的透过率函数为 $\tilde{T}_H$ , 用 $\tilde{U}_R'$ 照射后, 透射场为
$$
\begin{align}
\tilde{U}_T =&amp;amp; \tilde{T}_H\tilde{U}_R' = [T_O + \beta I_H(x, y)]\tilde{U}_R'\ 
  =&amp;amp;(T_0 + \beta A_O^2 + \beta A_R^2)\tilde{U}_R'
  + \beta \tilde{U}_R'\tilde{U}_R^&lt;em&gt; \tilde{U}_O 
  + \beta \tilde{U}_R'\tilde{U}_R \tilde{U}_O^&lt;/em&gt;
\end{align}
$$
三项分别对应 0, 1, -1 级&lt;/p&gt;
&lt;h1&gt;第六章 偏振&lt;/h1&gt;
&lt;h2&gt;马吕斯定律&lt;/h2&gt;
&lt;p&gt;线偏振光通过检偏器后透射光的强度随 $\theta$ 角变化的规律
$$
I_2 = I_1 \cos^2\theta
$$&lt;/p&gt;
&lt;h2&gt;布儒斯特角&lt;/h2&gt;
&lt;p&gt;使 p 分量反射率为零的入射角 $i_B$ 称为布儒斯特角. 从介质 $n_1$ 到 $n_2$ 的布儒斯特角为
$$
i_B = \arctan \frac{n_2}{n_1}
$$&lt;/p&gt;
&lt;h2&gt;菲涅耳反射折射公式&lt;/h2&gt;
&lt;p&gt;$$
\begin{align}
&amp;amp;\left{
  \begin{array}{c}
  \tilde{r}_p = \frac{\tan(i_1 - i_2)}{\tan(i_1 + i_2)} \
  \tilde{r}_s = \frac{\sin(i_2 - i_1)}{\sin(i_2 + i_1}
  \end{array}
\right. \
&amp;amp;\left{
  \begin{array}{c}
  \tilde{t}_p = \frac{2n_1\cos i_1}{n_2\cos i_1 + n_1 \cos i_2} \
  \tilde{t}_s = \frac{2n_1\cos i_1}{n_1\cos i_1 + n_2 \cos i_2}
  \end{array}
\right.
\end{align}
$$&lt;/p&gt;
&lt;h2&gt;偏振度&lt;/h2&gt;
&lt;p&gt;$$
I = \frac{I_{\mathrm{max}} - I_{\mathrm{min}}}{I_{\mathrm{max}} + I_{\mathrm{min}}}
$$&lt;/p&gt;
&lt;h2&gt;强度透射反射率&lt;/h2&gt;
&lt;p&gt;$$
R = \frac{I_1'}{I_1} = |\tilde{r}|^2
$$&lt;/p&gt;
&lt;p&gt;$$
T = \frac{I_2}{I_1} = \frac{n_2}{n_1}|\tilde{t}|^2
$$&lt;/p&gt;
&lt;h2&gt;全反射光的相移&lt;/h2&gt;
&lt;p&gt;$$
\begin{align}
\left{
\begin{array}{c}
  \delta_p = 2 \arctan \left( \frac{n_1}{n_2}
     \frac{\sqrt{\left(\frac{n_1}{n_2}\right)^2\sin^2i_1-1}}{\cos i_1}                          \right) \
\delta_s = 2 \arctan \left( \frac{n_2}{n_1}
\frac{\sqrt{\left(\frac{n_1}{n_2}\right)^2\sin^2i_1-1}}{\cos i_1}                          \right)
\end{array}
\right.
\end{align}
$$&lt;/p&gt;
&lt;h2&gt;双折射&lt;/h2&gt;
&lt;p&gt;光线垂直于主光轴传播, 可用折射定律&lt;/p&gt;
&lt;h1&gt;第七章 光与物质相互作用&lt;/h1&gt;
&lt;h2&gt;布格定律&lt;/h2&gt;
&lt;p&gt;$$
I = I_0 e^{-\alpha l}
$$&lt;/p&gt;
&lt;h2&gt;科西公式&lt;/h2&gt;
&lt;p&gt;$$
n = A + \frac{B}{\lambda^2}
$$&lt;/p&gt;
&lt;h2&gt;群速度与相速度的关系&lt;/h2&gt;
&lt;p&gt;群速度
$$
v_{\mathrm{g}} = \frac{\mathrm{d}\omega}{\mathrm{d}k}
$$&lt;/p&gt;
&lt;h1&gt;Reference&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;赵凯华, 新概念物理教程 光学 , 2004, 高等教育出版社 &lt;/li&gt;
&lt;li&gt;Eugene Hecht, Optics, Global Edition, 2017, Pearson Higher Education&lt;/li&gt;
&lt;/ul&gt;</content><category term="未分类"></category><category term="[物理"></category><category term="光学]"></category></entry><entry><title>量子光学读书会01电磁场的量子化</title><link href="https://zqw.ink/2020-03-18-physics-quantisation_of_the_electromagnetic-field.html" rel="alternate"></link><published>2020-03-18T00:00:00+08:00</published><updated>2020-03-18T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2020-03-18:/2020-03-18-physics-quantisation_of_the_electromagnetic-field.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;3.11 日 DRJ 主讲.&lt;/p&gt;
&lt;h3&gt;2.1 电磁场的量子化&lt;/h3&gt;
&lt;p&gt;选取 Coulomb gauge, 由 Maxwell equations 可以得到关于矢势 $\vec{A}$ 的波动方程
$$
\nabla^2 \vec{A}(\vec{r},t) = \frac{1}{c^2} \frac{\partial …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;3.11 日 DRJ 主讲.&lt;/p&gt;
&lt;h3&gt;2.1 电磁场的量子化&lt;/h3&gt;
&lt;p&gt;选取 Coulomb gauge, 由 Maxwell equations 可以得到关于矢势 $\vec{A}$ 的波动方程
$$
\nabla^2 \vec{A}(\vec{r},t) = \frac{1}{c^2} \frac{\partial^2 \vec{A}(\vec{r}, t)}{\partial t^2}
$$
选取基底和适当的单位, 解可以写为
$$
A(\vec{r},t) = \sum_k \sqrt{\frac{\hbar}{2\omega_k\varepsilon_0}} \left[ a_k \vec{u}_k(\vec{r}) e^{-\mathrm{i}\omega_k t} + a_k^{\dagger} \vec{u}_k^*(\vec{r}) e^{\mathrm{i}\omega_k t}\right]
$$
电磁场的经典 Hamiltonian 为
$$
H = \frac{1}{2} \int (\varepsilon_0 \vec{E}^2 + \mu_0\vec{H}^2) \,\mathrm{d}^3\vec{r}
$$
将 $\vec{A}$ 代入, 然后做对应 $a_k \to \hat{a}_k$ , 并满足 Boson 对应关系, 最后得到量子化的电磁场
$$
H = \sum_k \hbar\omega_k \left( a_k^{\dagger} a_k + \frac{1}{2} \right)
$$&lt;/p&gt;
&lt;h2&gt;2.2 Fock 表象&lt;/h2&gt;
&lt;h1&gt;参考&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;D.F. Walls, Gerard J. Milburn, Quantum Optics, Springer (2008)&lt;/li&gt;
&lt;/ul&gt;</content><category term="未分类"></category><category term="[物理"></category><category term="量子光学读书会"></category><category term="电磁场的量子化]"></category></entry><entry><title>Django 笔记：CentOS+Apache+Mariadb+mod_wsgi+Django</title><link href="https://zqw.ink/2020-02-03-physics-django.html" rel="alternate"></link><published>2020-02-03T00:00:00+08:00</published><updated>2020-02-03T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2020-02-03:/2020-02-03-physics-django.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;写在前面的声明&lt;/h1&gt;
&lt;p&gt;本人非专业人士，对于写程序只是业余爱好。以下内容仅供参考，我一个业余人士也不能保证内容的准确 …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;写在前面的声明&lt;/h1&gt;
&lt;p&gt;本人非专业人士，对于写程序只是业余爱好。以下内容仅供参考，我一个业余人士也不能保证内容的准确性，对一些命令的解释也只是为了便于记忆和理解，更加专业准确的知识还请查询如官方文档这样的资料。&lt;/p&gt;
&lt;h1&gt;引言&lt;/h1&gt;
&lt;h2&gt;思路&lt;/h2&gt;
&lt;p&gt;寒假在家，又不能出门，闲来无事，又不太想学习，就尝试了用在华为云上买的学生价服务器，在 CentOS 上用 Apache+Mariadb+Django 来搭建一个网站，目标是能够显示内容即可，而对安全性，实用性，美观性不做要求。&lt;/p&gt;
&lt;p&gt;网站内容是显示《诗经》的所有内容。数据来自于 github 上的诗词数据库 https://github.com/chinese-poetry/chinese-poetry ，在此感谢此项目中的贡献者表示感谢！&lt;/p&gt;
&lt;p&gt;大体思路是：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在服务器上开放所需要的端口，安装所需要的 Apache, Mariadb, Python3。&lt;/li&gt;
&lt;li&gt;建立一个虚拟环境，在虚拟环境中用 pip 安装 Django, pymysql, mod_wsgi。&lt;/li&gt;
&lt;li&gt;修改各种设置，使 Django 能够和 Apache, Mariadb 正常连接。&lt;/li&gt;
&lt;li&gt;写一个程序，把诗经的数据从 json 文件中复制到数据库中&lt;/li&gt;
&lt;li&gt;编写 Django 中的文件，使其从数据库中读取诗经的数据，并在网页上展示。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;写这篇笔记的目的，首先是记录过程为自己作备忘。其次，是想将一些过程的目的说出来，便于和我一样在尝试搭建的人理解为什么要这样做。&lt;/p&gt;
&lt;h2&gt;云服务器的对比&lt;/h2&gt;
&lt;p&gt;我先后买过腾讯云，阿里云，华为云提供的学生价服务器，最便宜的配置大概都在10元／月不到。真的很棒，感谢他们！&lt;/p&gt;
&lt;p&gt;这三家的配置大致差不多，不过三家中只有阿里云，在学生期间可以，不限次数不限期限地以学生价续费。其它两家都对期限以及续费的次数有所限制。目前我在腾讯云买的已经到期了，华为云上刚刚买的，阿里云上的可以一直用。&lt;/p&gt;
&lt;h1&gt;系统环境&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;操作系统：CentOS Linux release 7.7.1908 (Core)&lt;/li&gt;
&lt;li&gt;Mariadb 版本：mysql  Ver 15.1 Distrib 5.5.64-MariaDB, for Linux (x86_64) using readline 5.1&lt;/li&gt;
&lt;li&gt;Apache 版本：Apache/2.4.6 (CentOS)&lt;/li&gt;
&lt;li&gt;Python 版本：Python 3.7.3&lt;/li&gt;
&lt;li&gt;确保端口开放&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;记号说明&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;表示在本地运行的命令。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;表示在云服务器上以 root 用户运行命令。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;表示在在云服务器的虚拟环境 .sabafun 中以 root 用户运行命令。&lt;/p&gt;
&lt;h1&gt;安装 Apache, Mariadb, Python3&lt;/h1&gt;
&lt;p&gt;升级软件包，安装 apache（在 yum 库中名字叫 httpd）, mariadb, emacs(文本编辑器，个人偏好，可选)，并开启，然后设置开机自启。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;upgrade

&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;httpd&lt;span class="w"&gt; &lt;/span&gt;httpd-devel
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;start&lt;span class="w"&gt; &lt;/span&gt;httpd
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;enable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;httpd

&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;mariadb&lt;span class="w"&gt; &lt;/span&gt;mariadb-server
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;start&lt;span class="w"&gt; &lt;/span&gt;mariadb
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;enable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;mariadb

&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;emacs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;在 CentOS 上，用 yum 命令来安装，升级，删除软件。yum upgrade 升级软件包，yum install 安装某个软件。systemctl 用来对服务进行开启，关闭，重启等操作。常用的有：systemctl start 开启服务，systemctl stop 停止服务，systemctl restart 重启服务，systemctl enable 让服务开机自启。&lt;/p&gt;
&lt;p&gt;通过安装 Anaconda 来安装 Python3.7，（yum 库中是Python3.6，版本有点低，会报错）。从 Anaconda 官网下载安装包后，进入到安装包所在的目录进行安装&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;bash&lt;span class="w"&gt; &lt;/span&gt;./Anaconda3-2019.07-Linux-x86_64.sh&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;./ 表示当前路径。&lt;/p&gt;
&lt;h1&gt;安装虚拟环境 virtualenv&lt;/h1&gt;
&lt;p&gt;安装完 Anaconda 后，并没有自动将 python3.7 添加到环境变量中，因此直接把路径完整地打出来，来运行 pip&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;/root/anaconda3/bin/pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;virtualenv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;pip 是 Python 的包管理工具，安装一些 Python 包都可以用 pip install 来安装。&lt;/p&gt;
&lt;p&gt;安装 virtualenv 是为了给 Django 建立一个独立的 Python 环境，下面可以看出这样做的好处。&lt;/p&gt;
&lt;h1&gt;创建虚拟环境&lt;/h1&gt;
&lt;p&gt;安装好 virtualenv 后，进入到想要进行工作的目录，通过 virtualenv 创建一个虚拟环境，用来进行后续的活动&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;virtualenv&lt;span class="w"&gt; &lt;/span&gt;.sabafun&lt;span class="w"&gt; &lt;/span&gt;--python&lt;span class="o"&gt;=&lt;/span&gt;/root/anaconda3/bin/python3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;-- 后面的参数表示：以指定的 Python 版本创建虚拟环境，这里指定的是我们安装的 Anaconda 中的 Python 3。不加这个参数，就会以系统默认的 Python2.7。创建的虚拟环境名字叫做 .sabafun 前面的点是为了将存放虚拟环境的文件夹隐藏，也可以不加 点。&lt;/p&gt;
&lt;p&gt;进入虚拟环境，此时可以再确认一下 Python 版本&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;source&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;.sabafun/bin/activate
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;--version
Python&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.7.3
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;--version
pip&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;20&lt;/span&gt;.0.2&lt;span class="w"&gt; &lt;/span&gt;from&lt;span class="w"&gt; &lt;/span&gt;/root/sabafun/.sabafun/lib/python3.7/site-packages/pip&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.7&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;进入虚拟环境中，在命令的开头会出现 (.sabafun) ，表示在虚拟环境中。可以看出，在虚拟环境中直接运行 Python 就是我们创建虚拟环境时指定的 Python 版本。这样就和系统的环境隔离来，以避免一些冲突，因为如果将系统的 Python 绑定到 Python3.7 会导致系统中一些依赖 Python2 的程序无法正常运行。&lt;/p&gt;
&lt;p&gt;source 命令是让某些文件中的设置立即生效，这里是使虚拟环境中的设置生效。source 还用于当我们修改配置文件中的环境变量后，source 一下配置文件，就可以使配置马上生效，而不需要重启设备。&lt;/p&gt;
&lt;p&gt;要停止使用虚拟环境,可执行命令 deactivate &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;deactivate&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;执行后，前面的 (.sabafun) 就消失了，表示退出了虚拟环境。如果想要删除虚拟环境，直接将保存虚拟环境的文件夹删除就行。&lt;/p&gt;
&lt;h1&gt;安装 Django，创建项目&lt;/h1&gt;
&lt;p&gt;在虚拟环境中，用 pip 安装 Django，然后新建一个项目，名字叫作 sabafun&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;django
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;django-admin&lt;span class="w"&gt; &lt;/span&gt;startproject&lt;span class="w"&gt; &lt;/span&gt;sabafun&lt;span class="w"&gt; &lt;/span&gt;.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;注意不要漏掉最后的点'.'。这个命令末尾的句点让新项目使用合适的目录结构。如果漏了，就把这个项目的文件夹删除，再重新创建一次。&lt;/p&gt;
&lt;h1&gt;启动用于开发的 web 服务器&lt;/h1&gt;
&lt;p&gt;在启动 web 服务器测试之前，需要做一些准备工作。&lt;/p&gt;
&lt;p&gt;首先，将服务器的 IP 加到项目的设置文件 sabafun/settings.py 中，即将 ALLOWED_HOSTS 项修改为&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;ALLOWED_HOSTS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="err"&gt;‘&lt;/span&gt;&lt;span class="n"&gt;服务器IP地址&lt;/span&gt;&lt;span class="err"&gt;’&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;然后启动 Django 自带的用于测试的 web 服务器&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;runserver&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.0.0.0:8000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;对项目的一些操作都保存在 mange.py 文件中。出现关于数据库的提示可以忽略。Django 默认用 SQLite 作数据库。而我们不用它，而是用 Mariadb。&lt;/p&gt;
&lt;p&gt;此时从本地访问 http://你的服务器IP:8000 ，出现如下小火箭界面，表示成功&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-20200204125926942" src="./2020-02-03-physics-Django/image-20200204125926942.png"&gt;&lt;/p&gt;
&lt;p&gt;如果无法访问，可以查看一下服务器的 8000 端口是否开放。一般都可以从云服务器的管理页面中找到安全组设置。&lt;/p&gt;
&lt;h1&gt;Django 的大致工作流程&lt;/h1&gt;
&lt;p&gt;比较业余的理解，Django 是一个用 Python 写网站的框架。我们可以用 Python 语言写一些函数来实现想要的功能。web 服务器，如 Apache，负责将我们设计好的功能提供给浏览器。而 mod_wsgi 负责将我们用 Python 写的功能翻译给 Apache。网站的数据，如我们用于展示的《诗经》就存储在 Mariadb 数据库中。&lt;/p&gt;
&lt;p&gt;所以我们通过网址访问网站，Apache 接收到我们的请求，wsgi 将请求翻译给 Django，Django 从数据库中读取到数据，然后再通过 wsgi 这位翻译发送给 Apache，Apache 将数据发送给我们的浏览器，我们就看到了我们想要的东西。&lt;/p&gt;
&lt;h1&gt;通过 mod_wsgi 连接 Apache&lt;/h1&gt;
&lt;p&gt;我们上面看到的小火箭的页面，所用的 web 服务器不是 Apache ，而是 Django 自带的用于开发测试的 web 服务器，真正运行网站时，就要连接像 Apache, Nginx 这样的 web服务器。&lt;/p&gt;
&lt;p&gt;下面就设置一下，让 Apache 作为 web 服务器。&lt;/p&gt;
&lt;p&gt;首先安装负责 Apache 和 Python3 之间进行通信的 mod_wsgi 模块&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;mod_wsgi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;wsgi 是 Web Server Gateway Interface 的缩写。参考 Django 的官方文档 https://docs.djangoproject.com/zh-hans/3.0/howto/deployment/wsgi/modwsgi/ 和 https://modwsgi.readthedocs.io/en/develop/ 进行设置。&lt;/p&gt;
&lt;p&gt;安装好 mod_wsgi 后，查看 wsgi 和 Apache 的接头暗号&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;mod_wsgi-express&lt;span class="w"&gt; &lt;/span&gt;module-config
LoadModule&lt;span class="w"&gt; &lt;/span&gt;wsgi_module&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/sabafun/.sabafun/lib/python3.7/site-packages/mod_wsgi/server/mod_wsgi-py37.cpython-37m-x86_64-linux-gnu.so&amp;quot;&lt;/span&gt;
WSGIPythonHome&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/sabafun/.sabafun&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;第一行是告诉 Apache 在哪里能够找到 wsgi 。第二行是告诉 Apache ，Django 所使用的 Python在哪里。&lt;/p&gt;
&lt;p&gt;然后将接头暗号写入 Apache 的配置文件 /etc/httpd/conf/httpd.conf ，在其末尾添加以下内容&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;#　加载模块&lt;/span&gt;
&lt;span class="n"&gt;LoadModule&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;wsgi_module&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/sabafun/.sabafun/lib/python3.7/site-packages/mod_wsgi/server/mod_wsgi-py37.cpython-37m-x86_64-linux-gnu.so&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;WSGIScriptAlias&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;wsgi&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;span class="n"&gt;WSGIPythonHome&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;
&lt;span class="n"&gt;WSGIPythonPath&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;

&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;Directory&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Files&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;wsgi&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="k"&gt;Require&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;all&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;granted&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;Files&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="k"&gt;Directory&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;WSGIPythonPath 是告诉 Apache 项目所在的地方。WSGIScriptAlias 是说 wsgi.py 文件在哪。wsgi.py 文件 Django 已经写好了，我们不用动，里面包含了 Apache 如何与 Django 交流的方法 。&lt;/p&gt;
&lt;p&gt;同样是 Apache 的配置文件 /etc/httpd/conf/httpd.conf ，修改 ServerName 项为&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;ServerName&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;你的服务器IP&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;修改项目的权限，以便 Apache 有权限读取我们创建的项目&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;755&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;/root/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;chmod 是 change mode单词前缀的组合，用来修改文件的权限。755 是用八进制表示的权限，7 就是最高权限，三个数字分别表示文件所有者，用户组以及其它用户的权限，具体参考 https://zh.wikipedia.org/wiki/Chmod 。&lt;/p&gt;
&lt;p&gt;然后重启 Apache 服务&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;restart&lt;span class="w"&gt; &lt;/span&gt;httpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;直接访问 IP ，出现了小火箭，这时的小火箭是通过 Apache 给我们的，说明 Django 能够和 Apache 交流了。&lt;/p&gt;
&lt;h1&gt;设置 Mariadb 数据库&lt;/h1&gt;
&lt;p&gt;首先初始化数据库&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;mysql_secure_installation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;它会让我们设置数据库的 root 用户密码等。&lt;/p&gt;
&lt;p&gt;用 root 用户登陆数据库&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# mysql -u root -p&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;参数 -u 表示 user，后面跟用户名，参数 -p 表示 password。&lt;/p&gt;
&lt;p&gt;登陆数据库后，为 Django 创建一个用户，然后再为我们的项目创建一个数据库，并设置权限&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;user&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;django&lt;/span&gt;&lt;span class="nv"&gt;@localhost&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;identified&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;by&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;密码&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;database&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;character&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;utf8mb4&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;collateutf8mb4_unicode_ci&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;grant&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;all&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;on&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;django&lt;/span&gt;&lt;span class="nv"&gt;@localhost&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;exit&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;django@localhost 是说用户名是 django，localhost 表示是本地用户。sabafun 是数据库的名字。character 之后的内容是设置编码。一定注意设置编码！要不然可能没法导入中文！注意不要漏掉每条命令后的分号。命令不区分大小写。&lt;/p&gt;
&lt;p&gt;grant 是设置数据库的权限。all 表示权限的种类是所有权限， sabafun.&lt;em&gt; 表示要设置权限的数据库是 sabafun，&lt;/em&gt; 表示这个数据库中所有的表，to 后面是将权限所赋予的用户。&lt;/p&gt;
&lt;p&gt;创建一个数据库就好像创建一个 Excel 文件，一个数据库中有好多表，不同的表就像 Excel 文件中的 sheet1, sheet2...，而每一个表中有好多行和列存储具体的数据。只不过数据库中的数据可能关系要复杂一些。&lt;/p&gt;
&lt;p&gt;创建用户后，可以查看已有的数据库，来确认刚刚创建的数据库确实已经存在&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;[&lt;span class="ss"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;none&lt;/span&gt;&lt;span class="ss"&gt;)&lt;/span&gt;]&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;show&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;databases&lt;/span&gt;&lt;span class="c1"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;当然也可以不创建新用户，而是让 Django 直接用 root 用户。创建新用户是出于便于管理和考虑安全性。&lt;/p&gt;
&lt;h1&gt;连接 Mariadb&lt;/h1&gt;
&lt;p&gt;首先安装 pymysql&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;pymysql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;它使 Python3 能够读取 Mariadb 中的数据。&lt;/p&gt;
&lt;p&gt;修改项目中关于数据库的设置。参考 https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-DATABASES 。&lt;/p&gt;
&lt;p&gt;修改文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt; &lt;/span&gt;__init__.py&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;这个文件中的设置对整个项目都有效。修改为&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pymysql&lt;/span&gt;
&lt;span class="n"&gt;pymysql&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;final&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pymysql&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;install_as_MySQLdb&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;它的意思是导入 pymysql 模块。第二行是为了解决一个 bug , 是个坑不加的话就会提示数据库的版本过低。第三行如字面意思。&lt;/p&gt;
&lt;p&gt;然后修改设置文件 sabafun/settings.py 中的 DATABASES 项：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;DATABASES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;ENGINE&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;django.db.backends.mysql&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;NAME&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;sabafun&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;USER&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;django&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;PASSWORD&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;密码&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;HOST&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;PORT&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;3306&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;CHARSET&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;COLLATION&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;  &lt;span class="s1"&gt;&amp;#39;utf8_general_ci&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;里面都如字面意思，告诉 Django 怎么访问数据库。让它用 django 用户名访问我们创建好的 sabafun 数据库。&lt;/p&gt;
&lt;h1&gt;创建超级用户&lt;/h1&gt;
&lt;p&gt;接下来为项目创建一个超级用户，它能够方便地查看和修改项目的一些信息。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;createsuperuser
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;然后迁移数据库，将我们创建和超级用户的相关信息存入我们之前设置好的数据库&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;makemigrations
No&lt;span class="w"&gt; &lt;/span&gt;changes&lt;span class="w"&gt; &lt;/span&gt;detected
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;migrate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;如果出现一串 'OK' ，没有报错，则连接 Mariadb 数据库成功！&lt;/p&gt;
&lt;p&gt;之后启动 Django 用于开发测试的 web 服务器&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;runserver&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.0.0.0:8000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;之所以不用 Apache，是因为 Django 用于开发的服务器在需要的情况下会对每一次的访问请求重新载入一遍 Python 代码。而用 Apache 的话，每次修改都要重启 Apache 服务。Django 的文档中说&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;会自动重新加载的服务器 &lt;a href="https://docs.djangoproject.com/zh-hans/3.0/ref/django-admin/#django-admin-runserver"&gt;&lt;code&gt;runserver&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;用于开发的服务器在需要的情况下会对每一次的访问请求重新载入一遍 Python 代码。所以你不需要为了让修改的代码生效而频繁的重新启动服务器。然而，一些动作，比如添加新文件，将不会触发自动重新加载，这时你得自己手动重启服务器。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;创建 poetry 应用&lt;/h1&gt;
&lt;p&gt;Django项目由一系列应用程序组成，它们协同工作，让项目成为一个整体。我们创建一个 poetry 应用，来实现网站展示一些古诗词的功能&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;startapp&lt;span class="w"&gt; &lt;/span&gt;poetry
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;创建应用后，在项目文件夹中会出现相应的文件夹。&lt;/p&gt;
&lt;h1&gt;创建 poetry/urls.py　文件&lt;/h1&gt;
&lt;p&gt;这个文件用来说明 poetry 应用对应的网址是什么样的&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.urls&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;.&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;views&lt;/span&gt;

&lt;span class="n"&gt;urlpatterns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;views&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;poetry&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;poetry&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;修改 sabafun/urls.py 文件&lt;/h1&gt;
&lt;p&gt;这个文件是整个项目的网址管理&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="nd"&gt;@cloud&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;emacs&lt;/span&gt; &lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt; 

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.contrib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;admin&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.urls&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;include&lt;/span&gt;

&lt;span class="n"&gt;urlpatterns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;poetry/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;include&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;poetry.urls&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;admin/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;admin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;创建 Shijing Models&lt;/h1&gt;
&lt;p&gt;修改文件 poetry/models.py &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.db&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;

&lt;span class="c1"&gt;# Create your models here.                                                    &lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Shijing&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;诗经&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;fixed_id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IntegerField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CharField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;chapter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CharField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;section&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CharField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TextField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;8000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__str__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;返回模型的字符串表示&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;这个 Shijing 类就对应于数据库中的一个表，一个实例就对应于表中的一条记录，也就是一行。fixed_id, title, chapter... 这些对应于一条记录包含的属性。&lt;/p&gt;
&lt;h1&gt;注册 poetry 应用&lt;/h1&gt;
&lt;p&gt;修改 sabafun/settings.py 文件，告诉 Django ，我们创建了一个新的应用&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;INSTALLED_APPS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.admin&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.auth&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.contenttypes&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.sessions&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.messages&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.staticfiles&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;

    &lt;span class="c1"&gt;# My apps                                                             &lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;poetry&amp;#39;&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;迁移数据库&lt;/h1&gt;
&lt;p&gt;修改 poetry/admin.py ，将创建的 Shijing 添加到管理页面中&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.contrib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;admin&lt;/span&gt;

&lt;span class="c1"&gt;# Register your models here.                                                  &lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;.models&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Shijing&lt;/span&gt;

&lt;span class="n"&gt;admin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Shijing&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;然后迁移数据库&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;makemigrations
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;migrate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;这时，Django 就在数据库中为 Shijing 类中创建了一个表，但是还没有任何记录，是一个空表。&lt;/p&gt;
&lt;p&gt;启动 Django 用于开发测试的 web 服务器&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;runserver&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.0.0.0:8000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;在本地通过浏览器访问 IP::8000/admin/ 就会看到 Shijing&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-20200204153009618" src="./2020-02-03-physics-Django/image-20200204153009618.png"&gt;&lt;/p&gt;
&lt;h1&gt;迁入 json 数据&lt;/h1&gt;
&lt;p&gt;然后将 github 上的诗词数据库 https://github.com/chinese-poetry/chinese-poetry 中的 shijing.json 传到服务器上，并在同一目录下编写文件 json_to_database.py&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="nd"&gt;@cloud&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;emacs&lt;/span&gt; &lt;span class="n"&gt;json_to_database&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;

&lt;span class="c1"&gt;# -*- coding: &amp;lt;encoding name&amp;gt; -*-                                             &lt;/span&gt;
&lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;将 json 转换到数据库&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="c1"&gt;# https://shockerli.net/post/python3-pymysql/                                 &lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pymysql&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getcwd&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

&lt;span class="c1"&gt;# 连接数据库。假设数据库中已经建好了名为 poetry 的空数据库。                  &lt;/span&gt;
&lt;span class="n"&gt;poetry&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pymysql&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;host&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3306&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;django&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;*********&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sabafun&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;charset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;cursor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;poetry&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;




&lt;span class="c1"&gt;# 转存《诗经》。                                                              &lt;/span&gt;
&lt;span class="c1"&gt;# 读取 shijing.json 到变量 shijing 中。                                       &lt;/span&gt;
&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;./shijing.json&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;UTF-8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;shijing&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# 查看 shijing.json 中有哪些 key                                              &lt;/span&gt;
&lt;span class="c1"&gt;# for k in shijing[0].keys():                                                 &lt;/span&gt;
&lt;span class="c1"&gt;#     print(k)    &lt;/span&gt;
&lt;span class="c1"&gt;# 为 shijing 创建一个表。                                                     &lt;/span&gt;
&lt;span class="c1"&gt;# cursor.execute(&amp;#39;&amp;#39;&amp;#39;                                                          &lt;/span&gt;
&lt;span class="c1"&gt;#                create table shijing(id int not null auto_increment,         &lt;/span&gt;
&lt;span class="c1"&gt;#                                     title varchar(32) not null,             &lt;/span&gt;
&lt;span class="c1"&gt;#                                     chapter varchar(32) not null,           &lt;/span&gt;
&lt;span class="c1"&gt;#                                     section varchar(32) not null,           &lt;/span&gt;
&lt;span class="c1"&gt;#                                     content varchar(8000) not null,         &lt;/span&gt;
&lt;span class="c1"&gt;#                                     primary key (id)                        &lt;/span&gt;
&lt;span class="c1"&gt;#                                    )                                        &lt;/span&gt;
&lt;span class="c1"&gt;#                &amp;#39;&amp;#39;&amp;#39;)                                                         &lt;/span&gt;


&lt;span class="c1"&gt;# 将数组写入数据库。                                                          &lt;/span&gt;
&lt;span class="n"&gt;shijing_sql&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;insert into poetry_shijing (title, chapter, section, content,&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="s1"&gt; fixed_id)&amp;#39;&lt;/span&gt;
               &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;values (&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;, &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;, &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;, &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;, &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;shijing_values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;shijing&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;  &lt;span class="c1"&gt;# 将字典转换为数组      &lt;/span&gt;
&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;shijing_values&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;                              &lt;span class="c1"&gt;#                       &lt;/span&gt;
    &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;                            &lt;span class="c1"&gt;# 将数组转换为字符串    &lt;/span&gt;
    &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;                                            &lt;span class="c1"&gt;# 添加 fixed_id 字段    &lt;/span&gt;
    &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;executemany&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;shijing_sql&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;shijing_values&lt;/span&gt;&lt;span class="p"&gt;[:])&lt;/span&gt;  &lt;span class="c1"&gt;# 写入数据库              &lt;/span&gt;
&lt;span class="n"&gt;poetry&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;commit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;                                      &lt;span class="c1"&gt;# 提交更改               &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;然后运行它&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;json_to_database.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;就把 305 首诗经导入到数据库中了！&lt;/p&gt;
&lt;p&gt;进入管理界面，看到 305 个导入的数据&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-20200204165427906" src="./2020-02-03-physics-Django/image-20200204165427906.png"&gt;&lt;/p&gt;
&lt;p&gt;成功！&lt;/p&gt;
&lt;h1&gt;修改 poetry/views.py 文件&lt;/h1&gt;
&lt;p&gt;至此为止，我们只能够在管理页面中看到诗经，下面让它在网页上显示。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.shortcuts&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;render&lt;/span&gt;

&lt;span class="c1"&gt;# Create your views here.                                                     &lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.http&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;HttpResponse&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;.models&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Shijing&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;poetry&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;context&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;shijing_list&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Shijing&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="p"&gt;()}&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;render&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;poetry/poetry.html&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;poetry 函数将一个字典 context 传递给渲染函数 render()&lt;/p&gt;
&lt;h1&gt;编写网页模板&lt;/h1&gt;
&lt;p&gt;新建一个用于存放 html 模板的地方&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="w"&gt; &lt;/span&gt;sabafun&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# cd poetry/&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="w"&gt; &lt;/span&gt;poetry&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# mkdir templates&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="w"&gt; &lt;/span&gt;poetry&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# cd templates/&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="w"&gt; &lt;/span&gt;templates&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# mkdir poetry&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="w"&gt; &lt;/span&gt;templates&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# ls&lt;/span&gt;
poetry
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;编写模板文件 poetry/templates/poetry/poetry.html&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                        
{% for item in shijing_list %}                                                
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;center&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                      
第{{ item.fixed_id }}篇：                                                     
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                          
  {{ item.chapter }}·{{ item.section }}·{{ item.title }}                      
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                         
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;{{ item.content }}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                   
{% endfor %}                                                                  
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;center&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                     
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                       
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;shijing_list 就是通过 render() 函数传递过来的字典的键。重启 httpd 从本地访问 IP/poetry，就看到如下界面了！&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-20200204210647475" src="./2020-02-03-physics-Django/image-20200204210647475.png"&gt;&lt;/p&gt;
&lt;h1&gt;后续操作&lt;/h1&gt;
&lt;p&gt;Apache 配置&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;#&lt;span class="w"&gt; &lt;/span&gt;连接&lt;span class="w"&gt; &lt;/span&gt;Django&lt;span class="w"&gt;                                                                 &lt;/span&gt;
LoadModule&lt;span class="w"&gt; &lt;/span&gt;wsgi_module&lt;span class="w"&gt; &lt;/span&gt;&amp;quot;/root/sabafun/.sabafun/lib/python3.7/site-packages/mo\
d_wsgi/server/mod_wsgi-py37.cpython-37m-x86_64-linux-gnu.so&amp;quot;

WSGIScriptAlias&lt;span class="w"&gt; &lt;/span&gt;/&lt;span class="w"&gt; &lt;/span&gt;/root/sabafun/sabafun/wsgi.py
WSGIPythonHome&lt;span class="w"&gt; &lt;/span&gt;/root/sabafun/.sabafun
WSGIPythonPath&lt;span class="w"&gt; &lt;/span&gt;/root/sabafun

&lt;span class="nt"&gt;&amp;lt;Directory&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;/root/sabafun/sabafun&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;Files&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;wsgi.py&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
Require&lt;span class="w"&gt; &lt;/span&gt;all&lt;span class="w"&gt; &lt;/span&gt;granted
&lt;span class="nt"&gt;&amp;lt;/Files&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;


#&lt;span class="w"&gt; &lt;/span&gt;文件服务,&lt;span class="w"&gt; &lt;/span&gt;如果不配置,&lt;span class="w"&gt; &lt;/span&gt;当关闭&lt;span class="w"&gt; &lt;/span&gt;Debug&lt;span class="w"&gt; &lt;/span&gt;时,&lt;span class="w"&gt; &lt;/span&gt;会无法访问静态文件.&lt;span class="w"&gt; &lt;/span&gt;具体方法参考&lt;span class="w"&gt; &lt;/span&gt;Django&lt;span class="w"&gt; &lt;/span&gt;官方文档中的说明
#Alias&lt;span class="w"&gt; &lt;/span&gt;/robots.txt&lt;span class="w"&gt; &lt;/span&gt;/path/to/mysite.com/static/robots.txt&lt;span class="w"&gt;                      &lt;/span&gt;
#Alias&lt;span class="w"&gt; &lt;/span&gt;/favicon.ico&lt;span class="w"&gt; &lt;/span&gt;/path/to/mysite.com/static/favicon.ico&lt;span class="w"&gt;                    &lt;/span&gt;

#Alias&lt;span class="w"&gt; &lt;/span&gt;/media/&lt;span class="w"&gt; &lt;/span&gt;/path/to/mysite.com/media/&lt;span class="w"&gt;                                     &lt;/span&gt;

Alias&lt;span class="w"&gt; &lt;/span&gt;/static&lt;span class="w"&gt; &lt;/span&gt;/root/sabafun/static_cdn/
#Alias&lt;span class="w"&gt; &lt;/span&gt;/static/&lt;span class="w"&gt; &lt;/span&gt;/path/to/mysite.com/static/&lt;span class="w"&gt;                                   &lt;/span&gt;

&lt;span class="nt"&gt;&amp;lt;Directory&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;/root/sabafun/static_cdn&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
Require&lt;span class="w"&gt; &lt;/span&gt;all&lt;span class="w"&gt; &lt;/span&gt;granted
&lt;span class="nt"&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;

#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;Directory&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;/path/to/mysite.com/media&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt;                                       &lt;/span&gt;
#&lt;span class="w"&gt; &lt;/span&gt;Require&lt;span class="w"&gt; &lt;/span&gt;all&lt;span class="w"&gt; &lt;/span&gt;granted&lt;span class="w"&gt;                                                         &lt;/span&gt;
#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;&lt;span class="w"&gt;                                                                &lt;/span&gt;

#&lt;span class="w"&gt; &lt;/span&gt;WSGIScriptAlias&lt;span class="w"&gt; &lt;/span&gt;/&lt;span class="w"&gt; &lt;/span&gt;/path/to/mysite.com/mysite/wsgi.py&lt;span class="w"&gt;                        &lt;/span&gt;

#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;Directory&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;/path/to/mysite.com/mysite&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt;                                      &lt;/span&gt;
#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;Files&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;wsgi.py&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt;                                                             &lt;/span&gt;
#&lt;span class="w"&gt; &lt;/span&gt;Require&lt;span class="w"&gt; &lt;/span&gt;all&lt;span class="w"&gt; &lt;/span&gt;granted&lt;span class="w"&gt;                                                         &lt;/span&gt;
#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/Files&amp;gt;&lt;/span&gt;&lt;span class="w"&gt;                                                                    &lt;/span&gt;
#&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;&lt;span class="w"&gt;                                                                &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;settings.py 中关于静态文件的配置&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gh"&gt;#&lt;/span&gt; Static files (CSS, JavaScript, Images)                                      
&lt;span class="gh"&gt;#&lt;/span&gt; https://docs.djangoproject.com/en/3.0/howto/static-files/                   

&lt;span class="gh"&gt;#&lt;/span&gt; 会在每个 app_name/static/app_name 及总的 mysite/static 下找静态文件
STATIC_URL = &amp;#39;/static/&amp;#39;

&lt;span class="gh"&gt;#&lt;/span&gt; collectstatic 时存放静态文件的地方, 这个路径提供给 Apache
STATIC_ROOT = os.path.join(BASE_DIR, &amp;#39;static_cdn&amp;#39;)

&lt;span class="gh"&gt;#&lt;/span&gt; 总的 mysite/static 下找静态文件
STATICFILES_DIRS = [
    os.path.join(BASE_DIR, &amp;#39;static&amp;#39;)
]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;具体操作过程（仅供参考）&lt;/h1&gt;
&lt;h2&gt;配置 ssh 登陆&lt;/h2&gt;
&lt;p&gt;在本地连接云端&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;root@h.saba.fun
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;输入密码，确认云端可以登录。&lt;/p&gt;
&lt;p&gt;为了不用每次连接都输入密码，以后采用密钥的方式登录。进入云端的 .ssh 目录，进行查看&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;.ssh/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;进入 .ssh 目录后，确认目录下的文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;ls
authorized_keys
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;
/root/.ssh
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;logout&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;将本地的公钥传到云端&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;scp&lt;span class="w"&gt; &lt;/span&gt;~/.ssh/xps13.pub&lt;span class="w"&gt; &lt;/span&gt;root@h.saba.fun:/root/.ssh
xps13.pub&lt;span class="w"&gt;                                   &lt;/span&gt;&lt;span class="m"&gt;100&lt;/span&gt;%&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="m"&gt;744&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="m"&gt;6&lt;/span&gt;.8KB/s&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="m"&gt;00&lt;/span&gt;:00&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;再回到云端&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;root@h.saba.fun
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;加入公钥&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;.ssh/xps13.pub&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;.ssh/authorized_keys&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;此时从本地登陆云端就不需要输入密码了。&lt;/p&gt;
&lt;h2&gt;配置环境&lt;/h2&gt;
&lt;p&gt;在云端进行升级&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;upgrade
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;查看 Python 版本&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;--version
Python&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;.7.5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;是 Python2 。Django 需要 Python3 因此安装 &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;python3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;安装后查看确认&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt;  &lt;/span&gt;python3&lt;span class="w"&gt; &lt;/span&gt;--version
Python&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.6.8
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip3&lt;span class="w"&gt; &lt;/span&gt;--version
pip&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;9&lt;/span&gt;.0.3&lt;span class="w"&gt; &lt;/span&gt;from&lt;span class="w"&gt; &lt;/span&gt;/usr/lib/python3.6/site-packages&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.6&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;安装 Apache&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;httpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;运行 &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;start&lt;span class="w"&gt; &lt;/span&gt;httpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;从本机登录 IP 会看到测试界面&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-20200204114524492" src="./2020-02-03-physics-Django/image-20200204114524492.png"&gt;&lt;/p&gt;
&lt;p&gt;让 Apache 开机自动运行&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;enable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;httpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;安装 Mariadb&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;mariadb
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;mariadb-server
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;配置并测试 Django&lt;/h2&gt;
&lt;p&gt;新建一个存放项目的文件夹并进入&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;mkdir&lt;span class="w"&gt; &lt;/span&gt;saba
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;saba
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;用 Pip3 安装虚拟环境&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip3&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;virtualenv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;创建虚拟环境&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;virtualenv&lt;span class="w"&gt; &lt;/span&gt;.sabaenv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;激活虚拟环境&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;source&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;.sabaenv/bin/activate
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;成功后在终端的前面会出现&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;此时环境中就是 Python3 了&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;--version
pip&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;20&lt;/span&gt;.0.2&lt;span class="w"&gt; &lt;/span&gt;from&lt;span class="w"&gt; &lt;/span&gt;/root/saba/.sabaenv/lib/python3.6/site-packages/pip&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.6&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;--version&lt;span class="w"&gt; &lt;/span&gt;
Python&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.6.8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;安装 Django&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;django
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;创建项目&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;django-admin&lt;span class="w"&gt; &lt;/span&gt;startproject&lt;span class="w"&gt; &lt;/span&gt;sabafun
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;查看确认&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;(.sabaenv)# ls -alh
total 16K
drwxr-xr-x  4 root root 4.0K Feb  4 11:59 .
dr-xr-x---. 7 root root 4.0K Feb  4 11:47 ..
drwxr-xr-x  5 root root 4.0K Feb  4 11:52 .sabaenv
drwxr-xr-x  3 root root 4.0K Feb  4 11:59 sabafun
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sabafun/
&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;ls
manage.py&lt;span class="w"&gt;  &lt;/span&gt;sabafun
&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;ls&lt;span class="w"&gt; &lt;/span&gt;sabafun/
asgi.py&lt;span class="w"&gt;  &lt;/span&gt;__init__.py&lt;span class="w"&gt;  &lt;/span&gt;settings.py&lt;span class="w"&gt;  &lt;/span&gt;urls.py&lt;span class="w"&gt;  &lt;/span&gt;wsgi.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;runserver&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.0.0.0:8000
Watching&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;file&lt;span class="w"&gt; &lt;/span&gt;changes&lt;span class="w"&gt; &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;StatReloader
Exception&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;thread&lt;span class="w"&gt; &lt;/span&gt;django-main-thread:
Traceback&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;most&lt;span class="w"&gt; &lt;/span&gt;recent&lt;span class="w"&gt; &lt;/span&gt;call&lt;span class="w"&gt; &lt;/span&gt;last&lt;span class="o"&gt;)&lt;/span&gt;:
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/usr/lib64/python3.6/threading.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;916&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;_bootstrap_inner
&lt;span class="w"&gt;    &lt;/span&gt;self.run&lt;span class="o"&gt;()&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/usr/lib64/python3.6/threading.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;864&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;run
&lt;span class="w"&gt;    &lt;/span&gt;self._target&lt;span class="o"&gt;(&lt;/span&gt;*self._args,&lt;span class="w"&gt; &lt;/span&gt;**self._kwargs&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/utils/autoreload.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;53&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;wrapper
&lt;span class="w"&gt;    &lt;/span&gt;fn&lt;span class="o"&gt;(&lt;/span&gt;*args,&lt;span class="w"&gt; &lt;/span&gt;**kwargs&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/core/management/commands/runserver.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;109&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;inner_run
&lt;span class="w"&gt;    &lt;/span&gt;autoreload.raise_last_exception&lt;span class="o"&gt;()&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/utils/autoreload.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;76&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;raise_last_exception
&lt;span class="w"&gt;    &lt;/span&gt;raise&lt;span class="w"&gt; &lt;/span&gt;_exception&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/core/management/__init__.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;357&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;execute
&lt;span class="w"&gt;    &lt;/span&gt;autoreload.check_errors&lt;span class="o"&gt;(&lt;/span&gt;django.setup&lt;span class="o"&gt;)()&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/utils/autoreload.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;53&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;wrapper
&lt;span class="w"&gt;    &lt;/span&gt;fn&lt;span class="o"&gt;(&lt;/span&gt;*args,&lt;span class="w"&gt; &lt;/span&gt;**kwargs&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/__init__.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;24&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;setup
&lt;span class="w"&gt;    &lt;/span&gt;apps.populate&lt;span class="o"&gt;(&lt;/span&gt;settings.INSTALLED_APPS&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/apps/registry.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;114&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;populate
&lt;span class="w"&gt;    &lt;/span&gt;app_config.import_models&lt;span class="o"&gt;()&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/apps/config.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;211&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;import_models
&lt;span class="w"&gt;    &lt;/span&gt;self.models_module&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;import_module&lt;span class="o"&gt;(&lt;/span&gt;models_module_name&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib64/python3.6/importlib/__init__.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;126&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;import_module
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;_bootstrap._gcd_import&lt;span class="o"&gt;(&lt;/span&gt;name&lt;span class="o"&gt;[&lt;/span&gt;level:&lt;span class="o"&gt;]&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;package,&lt;span class="w"&gt; &lt;/span&gt;level&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;frozen importlib._bootstrap&amp;gt;&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;994&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;_gcd_import
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;frozen importlib._bootstrap&amp;gt;&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;971&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;_find_and_load
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;frozen importlib._bootstrap&amp;gt;&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;955&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;_find_and_load_unlocked
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;frozen importlib._bootstrap&amp;gt;&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;665&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;_load_unlocked
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;frozen importlib._bootstrap_external&amp;gt;&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;678&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;exec_module
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;frozen importlib._bootstrap&amp;gt;&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;219&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;_call_with_frames_removed
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/contrib/auth/models.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;module&amp;gt;
&lt;span class="w"&gt;    &lt;/span&gt;from&lt;span class="w"&gt; &lt;/span&gt;django.contrib.auth.base_user&lt;span class="w"&gt; &lt;/span&gt;import&lt;span class="w"&gt; &lt;/span&gt;AbstractBaseUser,&lt;span class="w"&gt; &lt;/span&gt;BaseUserManager
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/contrib/auth/base_user.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;47&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;module&amp;gt;
&lt;span class="w"&gt;    &lt;/span&gt;class&lt;span class="w"&gt; &lt;/span&gt;AbstractBaseUser&lt;span class="o"&gt;(&lt;/span&gt;models.Model&lt;span class="o"&gt;)&lt;/span&gt;:
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/db/models/base.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;121&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;__new__
&lt;span class="w"&gt;    &lt;/span&gt;new_class.add_to_class&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;_meta&amp;#39;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;Options&lt;span class="o"&gt;(&lt;/span&gt;meta,&lt;span class="w"&gt; &lt;/span&gt;app_label&lt;span class="o"&gt;))&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/db/models/base.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;325&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;add_to_class
&lt;span class="w"&gt;    &lt;/span&gt;value.contribute_to_class&lt;span class="o"&gt;(&lt;/span&gt;cls,&lt;span class="w"&gt; &lt;/span&gt;name&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/db/models/options.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;208&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;contribute_to_class
&lt;span class="w"&gt;    &lt;/span&gt;self.db_table&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;truncate_name&lt;span class="o"&gt;(&lt;/span&gt;self.db_table,&lt;span class="w"&gt; &lt;/span&gt;connection.ops.max_name_length&lt;span class="o"&gt;())&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/db/__init__.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;28&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;__getattr__
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;getattr&lt;span class="o"&gt;(&lt;/span&gt;connections&lt;span class="o"&gt;[&lt;/span&gt;DEFAULT_DB_ALIAS&lt;span class="o"&gt;]&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;item&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/db/utils.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;207&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;__getitem__
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nv"&gt;backend&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;load_backend&lt;span class="o"&gt;(&lt;/span&gt;db&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ENGINE&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;])&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/db/utils.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;111&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;load_backend
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;import_module&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;%s.base&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;backend_name&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib64/python3.6/importlib/__init__.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;126&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;import_module
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;_bootstrap._gcd_import&lt;span class="o"&gt;(&lt;/span&gt;name&lt;span class="o"&gt;[&lt;/span&gt;level:&lt;span class="o"&gt;]&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;package,&lt;span class="w"&gt; &lt;/span&gt;level&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/db/backends/sqlite3/base.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;68&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;module&amp;gt;
&lt;span class="w"&gt;    &lt;/span&gt;check_sqlite_version&lt;span class="o"&gt;()&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;File&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/saba/.sabaenv/lib/python3.6/site-packages/django/db/backends/sqlite3/base.py&amp;quot;&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;65&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;check_sqlite_version
&lt;span class="w"&gt;    &lt;/span&gt;raise&lt;span class="w"&gt; &lt;/span&gt;ImproperlyConfigured&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;SQLite 3.8.3 or later is required (found %s).&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;%&lt;span class="w"&gt; &lt;/span&gt;Database.sqlite_version&lt;span class="o"&gt;)&lt;/span&gt;
django.core.exceptions.ImproperlyConfigured:&lt;span class="w"&gt; &lt;/span&gt;SQLite&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.8.3&lt;span class="w"&gt; &lt;/span&gt;or&lt;span class="w"&gt; &lt;/span&gt;later&lt;span class="w"&gt; &lt;/span&gt;is&lt;span class="w"&gt; &lt;/span&gt;required&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;found&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.7.17&lt;span class="o"&gt;)&lt;/span&gt;.
&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@ecs-sn3-medium-2-linux-20200114152809&lt;span class="w"&gt; &lt;/span&gt;sabafun&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# pip install SQLite&lt;/span&gt;
ERROR:&lt;span class="w"&gt; &lt;/span&gt;Could&lt;span class="w"&gt; &lt;/span&gt;not&lt;span class="w"&gt; &lt;/span&gt;find&lt;span class="w"&gt; &lt;/span&gt;a&lt;span class="w"&gt; &lt;/span&gt;version&lt;span class="w"&gt; &lt;/span&gt;that&lt;span class="w"&gt; &lt;/span&gt;satisfies&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;requirement&lt;span class="w"&gt; &lt;/span&gt;SQLite&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;from&lt;span class="w"&gt; &lt;/span&gt;versions:&lt;span class="w"&gt; &lt;/span&gt;none&lt;span class="o"&gt;)&lt;/span&gt;
ERROR:&lt;span class="w"&gt; &lt;/span&gt;No&lt;span class="w"&gt; &lt;/span&gt;matching&lt;span class="w"&gt; &lt;/span&gt;distribution&lt;span class="w"&gt; &lt;/span&gt;found&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;SQLite
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;db-sqlite3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;还是不行。重新安装 Python 吧。&lt;/p&gt;
&lt;p&gt;安装 Anaconda 。它的 Python 版本比较新&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabaenv&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;deactivate
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;bash&lt;span class="w"&gt; &lt;/span&gt;./Anaconda3-2019.07-Linux-x86_64.sh&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;/root/anaconda3/bin/python3&lt;span class="w"&gt; &lt;/span&gt;--version
Python&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.7.3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;重新来&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;rm&lt;span class="w"&gt; &lt;/span&gt;-rf&lt;span class="w"&gt; &lt;/span&gt;saba/
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;mkdir&lt;span class="w"&gt; &lt;/span&gt;sabafun
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sabafun
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;virtualenv&lt;span class="w"&gt; &lt;/span&gt;.sabafun&lt;span class="w"&gt; &lt;/span&gt;--python&lt;span class="o"&gt;=&lt;/span&gt;/root/anaconda3/bin/python3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;进入虚拟环境&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;source&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;.sabafun/bin/activate
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;--version
Python&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.7.3
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;--version
pip&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;20&lt;/span&gt;.0.2&lt;span class="w"&gt; &lt;/span&gt;from&lt;span class="w"&gt; &lt;/span&gt;/root/sabafun/.sabafun/lib/python3.7/site-packages/pip&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.7&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;这时的版本应该没问题了。&lt;/p&gt;
&lt;p&gt;接下来再把之前的工作重复一遍&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;django
Collecting&lt;span class="w"&gt; &lt;/span&gt;django
&lt;span class="w"&gt;  &lt;/span&gt;Using&lt;span class="w"&gt; &lt;/span&gt;cached&lt;span class="w"&gt; &lt;/span&gt;Django-3.0.3-py3-none-any.whl&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;7&lt;/span&gt;.5&lt;span class="w"&gt; &lt;/span&gt;MB&lt;span class="o"&gt;)&lt;/span&gt;
Collecting&lt;span class="w"&gt; &lt;/span&gt;asgiref~&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.2
&lt;span class="w"&gt;  &lt;/span&gt;Using&lt;span class="w"&gt; &lt;/span&gt;cached&lt;span class="w"&gt; &lt;/span&gt;asgiref-3.2.3-py2.py3-none-any.whl&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;18&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;kB&lt;span class="o"&gt;)&lt;/span&gt;
Collecting&lt;span class="w"&gt; &lt;/span&gt;pytz
&lt;span class="w"&gt;  &lt;/span&gt;Using&lt;span class="w"&gt; &lt;/span&gt;cached&lt;span class="w"&gt; &lt;/span&gt;pytz-2019.3-py2.py3-none-any.whl&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;509&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;kB&lt;span class="o"&gt;)&lt;/span&gt;
Collecting&lt;span class="w"&gt; &lt;/span&gt;sqlparse&amp;gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.2.2
&lt;span class="w"&gt;  &lt;/span&gt;Using&lt;span class="w"&gt; &lt;/span&gt;cached&lt;span class="w"&gt; &lt;/span&gt;sqlparse-0.3.0-py2.py3-none-any.whl&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;39&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;kB&lt;span class="o"&gt;)&lt;/span&gt;
Installing&lt;span class="w"&gt; &lt;/span&gt;collected&lt;span class="w"&gt; &lt;/span&gt;packages:&lt;span class="w"&gt; &lt;/span&gt;asgiref,&lt;span class="w"&gt; &lt;/span&gt;pytz,&lt;span class="w"&gt; &lt;/span&gt;sqlparse,&lt;span class="w"&gt; &lt;/span&gt;django
Successfully&lt;span class="w"&gt; &lt;/span&gt;installed&lt;span class="w"&gt; &lt;/span&gt;asgiref-3.2.3&lt;span class="w"&gt; &lt;/span&gt;django-3.0.3&lt;span class="w"&gt; &lt;/span&gt;pytz-2019.3&lt;span class="w"&gt; &lt;/span&gt;sqlparse-0.3.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;一定记得加末尾的点&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;django-admin&lt;span class="w"&gt; &lt;/span&gt;startproject&lt;span class="w"&gt; &lt;/span&gt;sabafun&lt;span class="w"&gt; &lt;/span&gt;.
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;runserver&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.0.0.0:8000
Watching&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;file&lt;span class="w"&gt; &lt;/span&gt;changes&lt;span class="w"&gt; &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;StatReloader
Performing&lt;span class="w"&gt; &lt;/span&gt;system&lt;span class="w"&gt; &lt;/span&gt;checks...

System&lt;span class="w"&gt; &lt;/span&gt;check&lt;span class="w"&gt; &lt;/span&gt;identified&lt;span class="w"&gt; &lt;/span&gt;no&lt;span class="w"&gt; &lt;/span&gt;issues&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;silenced&lt;span class="o"&gt;)&lt;/span&gt;.

You&lt;span class="w"&gt; &lt;/span&gt;have&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;17&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;unapplied&lt;span class="w"&gt; &lt;/span&gt;migration&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;.&lt;span class="w"&gt; &lt;/span&gt;Your&lt;span class="w"&gt; &lt;/span&gt;project&lt;span class="w"&gt; &lt;/span&gt;may&lt;span class="w"&gt; &lt;/span&gt;not&lt;span class="w"&gt; &lt;/span&gt;work&lt;span class="w"&gt; &lt;/span&gt;properly&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;until&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;you&lt;span class="w"&gt; &lt;/span&gt;apply&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;migrations&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;app&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;admin,&lt;span class="w"&gt; &lt;/span&gt;auth,&lt;span class="w"&gt; &lt;/span&gt;contenttypes,&lt;span class="w"&gt; &lt;/span&gt;sessions.
Run&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;python manage.py migrate&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;to&lt;span class="w"&gt; &lt;/span&gt;apply&lt;span class="w"&gt; &lt;/span&gt;them.

February&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;04&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2020&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;04&lt;/span&gt;:50:05
Django&lt;span class="w"&gt; &lt;/span&gt;version&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.0.3,&lt;span class="w"&gt; &lt;/span&gt;using&lt;span class="w"&gt; &lt;/span&gt;settings&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sabafun.settings&amp;#39;&lt;/span&gt;
Starting&lt;span class="w"&gt; &lt;/span&gt;development&lt;span class="w"&gt; &lt;/span&gt;server&lt;span class="w"&gt; &lt;/span&gt;at&lt;span class="w"&gt; &lt;/span&gt;http://0.0.0.0:8000/
Quit&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;server&lt;span class="w"&gt; &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;CONTROL-C.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;一次试运行不成功提示&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;You may need to add &amp;#39;***.***.***.***&amp;#39; to ALLOWED_HOSTS.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;安装我 熟悉的 emacs 编辑器&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;yum&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;emacs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;将服务器的 IP 加到设置中&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;emacs&lt;span class="w"&gt; &lt;/span&gt;sabafun/settings.py&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;将  IP 加入&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;ALLOWED_HOSTS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="err"&gt;‘&lt;/span&gt;&lt;span class="n"&gt;你的IP&lt;/span&gt;&lt;span class="err"&gt;’&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;保存，退出。再运行（无视数据库提示，因为不用这个）&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;runserver&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.0.0.0:8000
Watching&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;file&lt;span class="w"&gt; &lt;/span&gt;changes&lt;span class="w"&gt; &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;StatReloader
Performing&lt;span class="w"&gt; &lt;/span&gt;system&lt;span class="w"&gt; &lt;/span&gt;checks...

System&lt;span class="w"&gt; &lt;/span&gt;check&lt;span class="w"&gt; &lt;/span&gt;identified&lt;span class="w"&gt; &lt;/span&gt;no&lt;span class="w"&gt; &lt;/span&gt;issues&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;silenced&lt;span class="o"&gt;)&lt;/span&gt;.

You&lt;span class="w"&gt; &lt;/span&gt;have&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;17&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;unapplied&lt;span class="w"&gt; &lt;/span&gt;migration&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;.&lt;span class="w"&gt; &lt;/span&gt;Your&lt;span class="w"&gt; &lt;/span&gt;project&lt;span class="w"&gt; &lt;/span&gt;may&lt;span class="w"&gt; &lt;/span&gt;not&lt;span class="w"&gt; &lt;/span&gt;work&lt;span class="w"&gt; &lt;/span&gt;properly&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;until&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;you&lt;span class="w"&gt; &lt;/span&gt;apply&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;migrations&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;app&lt;span class="o"&gt;(&lt;/span&gt;s&lt;span class="o"&gt;)&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;admin,&lt;span class="w"&gt; &lt;/span&gt;auth,&lt;span class="w"&gt; &lt;/span&gt;contenttypes,&lt;span class="w"&gt; &lt;/span&gt;sessions.
Run&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;python manage.py migrate&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;to&lt;span class="w"&gt; &lt;/span&gt;apply&lt;span class="w"&gt; &lt;/span&gt;them.

February&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;04&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2020&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;04&lt;/span&gt;:57:45
Django&lt;span class="w"&gt; &lt;/span&gt;version&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.0.3,&lt;span class="w"&gt; &lt;/span&gt;using&lt;span class="w"&gt; &lt;/span&gt;settings&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sabafun.settings&amp;#39;&lt;/span&gt;
Starting&lt;span class="w"&gt; &lt;/span&gt;development&lt;span class="w"&gt; &lt;/span&gt;server&lt;span class="w"&gt; &lt;/span&gt;at&lt;span class="w"&gt; &lt;/span&gt;http://0.0.0.0:8000/
Quit&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;server&lt;span class="w"&gt; &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;CONTROL-C.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;此时从本地访问 8000 端口，终于出现了小火箭界面&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-20200204125926942" src="./2020-02-03-physics-Django/image-20200204125926942.png"&gt;&lt;/p&gt;
&lt;p&gt;参考官方文档连接 Apache https://docs.djangoproject.com/zh-hans/3.0/howto/deployment/wsgi/modwsgi/&lt;/p&gt;
&lt;h2&gt;连接 mod_wsgi&lt;/h2&gt;
&lt;p&gt;首先安装 mod_wsgi&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;mod_wsgi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;参考官方文档连接 Apache https://docs.djangoproject.com/zh-hans/3.0/howto/deployment/wsgi/modwsgi/&lt;/p&gt;
&lt;p&gt;根据　https://modwsgi.readthedocs.io/en/develop/　的提示，查看所需要的路径&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;mod_wsgi-express&lt;span class="w"&gt; &lt;/span&gt;module-config
LoadModule&lt;span class="w"&gt; &lt;/span&gt;wsgi_module&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/sabafun/.sabafun/lib/python3.7/site-packages/mod_wsgi/server/mod_wsgi-py37.cpython-37m-x86_64-linux-gnu.so&amp;quot;&lt;/span&gt;
WSGIPythonHome&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/sabafun/.sabafun&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;ls
asgi.py&lt;span class="w"&gt;      &lt;/span&gt;__pycache__&lt;span class="w"&gt;  &lt;/span&gt;settings.py~&lt;span class="w"&gt;  &lt;/span&gt;wsgi.py
__init__.py&lt;span class="w"&gt;  &lt;/span&gt;settings.py&lt;span class="w"&gt;  &lt;/span&gt;urls.py
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;
/root/sabafun/sabafun
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;emacs&lt;span class="w"&gt; &lt;/span&gt;/etc/httpd/conf/httpd.conf&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;添加&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;#　加载模块&lt;/span&gt;
&lt;span class="n"&gt;LoadModule&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;wsgi_module&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/root/sabafun/.sabafun/lib/python3.7/site-packages/mod_wsgi/server/mod_wsgi-py37.cpython-37m-x86_64-linux-gnu.so&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;WSGIScriptAlias&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;wsgi&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;span class="n"&gt;WSGIPythonHome&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;
&lt;span class="n"&gt;WSGIPythonPath&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;

&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;Directory&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Files&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;wsgi&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="k"&gt;Require&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;all&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;granted&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;Files&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="k"&gt;Directory&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;restart&lt;span class="w"&gt; &lt;/span&gt;httpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;重启后访问服务器 IP 没有反应。因此去查看 Apache 的 error log&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;emacs&lt;span class="w"&gt; &lt;/span&gt;/etc/httpd/logs/error_log&lt;span class="w"&gt; &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;AH00558&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;httpd&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Could&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;not&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;reliably&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;determine&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;server&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;s fully qualified domain name, using 127.0.0.1. Set the &amp;#39;&lt;/span&gt;&lt;span class="n"&gt;ServerName&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; directive globally to suppress t&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;
&lt;span class="s1"&gt;his message&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;ServerName&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;121.36.10.39&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;还是不行，再次查看 error log&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;Current&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;thread&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x00007fca65324880&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;most&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;recent&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;call&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;first&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Tue&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Feb&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;04&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;31&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;57.815061&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2020&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="n"&gt;wsgi&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;warn&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="n"&gt;pid&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;5238&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;Permission&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;denied&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mod_wsgi&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;5238&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Unable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;stat&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Python&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ho&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;
&lt;span class="n"&gt;me&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Python&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;interpreter&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;may&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;not&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;be&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;able&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;be&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;initialized&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;correctly&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Verify&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;supplied&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;path&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;and&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;acces&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;
&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;permissions&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;whole&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;of&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;path&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;Fatal&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Python&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;error&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;initfsencoding&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;unable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;load&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;file&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;system&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;codec&lt;/span&gt;
&lt;span class="n"&gt;ModuleNotFoundError&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;No&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;module&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;named&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;encodings&amp;#39;&lt;/span&gt;

&lt;span class="k"&gt;Current&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;thread&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mh"&gt;0x00007fca65324880&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;most&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;recent&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;call&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;first&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;说是不能访问环境。但是环境的路径没有错，可能是权限问题。经过几次尝试并参考　http://www.jeepxie.net/article/565984.html　后&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;755&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;/root/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;再重启 httpd 。直接访问 IP ，出现了小火箭。&lt;/p&gt;
&lt;h2&gt;配置 Mariadb&lt;/h2&gt;
&lt;p&gt;启动服务（之前忘记安装 mariadb-server，就找不到服务）&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;systemctl&lt;span class="w"&gt; &lt;/span&gt;start&lt;span class="w"&gt; &lt;/span&gt;mariadb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;初始化&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;mysql_secure_installation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;登陆&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# mysql -u root -p&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;user&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;django&lt;/span&gt;&lt;span class="nv"&gt;@localhost&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;identified&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;by&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;*********&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="n"&gt;一定注意设置编码！要不然没法导入中文&lt;/span&gt;
&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;create&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;database&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;character&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;utf8mb4&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;collate&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;utf8mb4_unicode_ci&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;Query&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;OK&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;row&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;affected&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.00&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sec&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;grant&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;all&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;on&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;to&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;django&lt;/span&gt;&lt;span class="nv"&gt;@localhost&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;Query&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;OK&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;rows&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;affected&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.00&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sec&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;flush&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;privileges&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;Query&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;OK&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;rows&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;affected&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.00&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sec&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt;　&lt;/span&gt;&lt;span class="k"&gt;exit&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;用新用户登陆&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="nv"&gt;@cloud&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="n"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mysql&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;django&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;


&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;use&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;Database&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;changed&lt;/span&gt;

&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;show&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;tables&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;Empty&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.00&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sec&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;exit&lt;/span&gt;

&lt;span class="n"&gt;Bye&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;连接　mariadb&lt;/h2&gt;
&lt;p&gt;修改项目中的　settings.py 中关于数据库的设置 https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-DATABASES&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;MariaDB&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="err"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;show&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;variables&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;like&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;port&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="o"&gt;+---------------+-------+&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Variable_name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;Value&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;+---------------+-------+&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;port&lt;/span&gt;&lt;span class="w"&gt;          &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3306&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;+---------------+-------+&lt;/span&gt;
&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;row&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.00&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sec&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;pymysql
Collecting&lt;span class="w"&gt; &lt;/span&gt;pymysql
&lt;span class="w"&gt;  &lt;/span&gt;Downloading&lt;span class="w"&gt; &lt;/span&gt;PyMySQL-0.9.3-py2.py3-none-any.whl&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;47&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;kB&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;████████████████████████████████&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;47&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;kB&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;13&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;kB/s&lt;span class="w"&gt; &lt;/span&gt;
Installing&lt;span class="w"&gt; &lt;/span&gt;collected&lt;span class="w"&gt; &lt;/span&gt;packages:&lt;span class="w"&gt; &lt;/span&gt;pymysql
Successfully&lt;span class="w"&gt; &lt;/span&gt;installed&lt;span class="w"&gt; &lt;/span&gt;pymysql-0.9.3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;__init&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py__&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pymysql&lt;/span&gt;
&lt;span class="n"&gt;pymysql&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;final&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pymysql&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;install_as_MySQLdb&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;DATABASES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;ENGINE&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;django.db.backends.mysql&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;NAME&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;sabafun&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;USER&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;django&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;PASSWORD&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;*********&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;HOST&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;PORT&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;3306&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;CHARSET&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;COLLATION&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;  &lt;span class="s1"&gt;&amp;#39;utf8_general_ci&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;测试一下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;makemigrations
No&lt;span class="w"&gt; &lt;/span&gt;changes&lt;span class="w"&gt; &lt;/span&gt;detected
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;migrate
System&lt;span class="w"&gt; &lt;/span&gt;check&lt;span class="w"&gt; &lt;/span&gt;identified&lt;span class="w"&gt; &lt;/span&gt;some&lt;span class="w"&gt; &lt;/span&gt;issues:

WARNINGS:
?:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;mysql.W002&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;MySQL&lt;span class="w"&gt; &lt;/span&gt;Strict&lt;span class="w"&gt; &lt;/span&gt;Mode&lt;span class="w"&gt; &lt;/span&gt;is&lt;span class="w"&gt; &lt;/span&gt;not&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;database&lt;span class="w"&gt; &lt;/span&gt;connection&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;default&amp;#39;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;HINT:&lt;span class="w"&gt; &lt;/span&gt;MySQL&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;s&lt;span class="w"&gt; &lt;/span&gt;Strict&lt;span class="w"&gt; &lt;/span&gt;Mode&lt;span class="w"&gt; &lt;/span&gt;fixes&lt;span class="w"&gt; &lt;/span&gt;many&lt;span class="w"&gt; &lt;/span&gt;data&lt;span class="w"&gt; &lt;/span&gt;integrity&lt;span class="w"&gt; &lt;/span&gt;problems&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;MySQL,&lt;span class="w"&gt; &lt;/span&gt;such&lt;span class="w"&gt; &lt;/span&gt;as&lt;span class="w"&gt; &lt;/span&gt;data&lt;span class="w"&gt; &lt;/span&gt;truncation&lt;span class="w"&gt; &lt;/span&gt;upon&lt;span class="w"&gt; &lt;/span&gt;insertion,&lt;span class="w"&gt; &lt;/span&gt;by&lt;span class="w"&gt; &lt;/span&gt;escalating&lt;span class="w"&gt; &lt;/span&gt;warnings&lt;span class="w"&gt; &lt;/span&gt;into&lt;span class="w"&gt; &lt;/span&gt;errors.&lt;span class="w"&gt; &lt;/span&gt;It&lt;span class="w"&gt; &lt;/span&gt;is&lt;span class="w"&gt; &lt;/span&gt;strongly&lt;span class="w"&gt; &lt;/span&gt;recommended&lt;span class="w"&gt; &lt;/span&gt;you&lt;span class="w"&gt; &lt;/span&gt;activate&lt;span class="w"&gt; &lt;/span&gt;it.&lt;span class="w"&gt; &lt;/span&gt;See:&lt;span class="w"&gt; &lt;/span&gt;https://docs.djangoproject.com/en/3.0/ref/databases/#mysql-sql-mode
Operations&lt;span class="w"&gt; &lt;/span&gt;to&lt;span class="w"&gt; &lt;/span&gt;perform:
&lt;span class="w"&gt;  &lt;/span&gt;Apply&lt;span class="w"&gt; &lt;/span&gt;all&lt;span class="w"&gt; &lt;/span&gt;migrations:&lt;span class="w"&gt; &lt;/span&gt;admin,&lt;span class="w"&gt; &lt;/span&gt;auth,&lt;span class="w"&gt; &lt;/span&gt;contenttypes,&lt;span class="w"&gt; &lt;/span&gt;sessions
Running&lt;span class="w"&gt; &lt;/span&gt;migrations:
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;contenttypes.0001_initial...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;auth.0001_initial...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;admin.0001_initial...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;admin.0002_logentry_remove_auto_add...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;admin.0003_logentry_add_action_flag_choices...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;contenttypes.0002_remove_content_type_name...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;auth.0002_alter_permission_name_max_length...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;auth.0003_alter_user_email_max_length...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;auth.0004_alter_user_username_opts...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;auth.0005_alter_user_last_login_null...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;auth.0006_require_contenttypes_0002...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;auth.0007_alter_validators_add_error_messages...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;auth.0008_alter_user_username_max_length...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;auth.0009_alter_user_last_name_max_length...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;auth.0010_alter_group_name_max_length...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;auth.0011_update_proxy_permissions...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;sessions.0001_initial...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;没有报错，连接成功！&lt;/p&gt;
&lt;h2&gt;开始写 Django 页面&lt;/h2&gt;
&lt;p&gt;创建管理页面&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;createsuperuser
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;时候要重启　httpd　才能进入　IP/admin　。而且好像有些问题。因此，在编写项目的过程中用　django　自带的开发服务器，它有一些好处，比如官方文档中说的　&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;会自动重新加载的服务器 &lt;a href="https://docs.djangoproject.com/zh-hans/3.0/ref/django-admin/#django-admin-runserver"&gt;&lt;code&gt;runserver&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;用于开发的服务器在需要的情况下会对每一次的访问请求重新载入一遍 Python 代码。所以你不需要为了让修改的代码生效而频繁的重新启动服务器。然而，一些动作，比如添加新文件，将不会触发自动重新加载，这时你得自己手动重启服务器。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;新开一个终端，进入虚拟环境，打开　django　开发服务器&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$&lt;span class="w"&gt; &lt;/span&gt;ssh&lt;span class="w"&gt; &lt;/span&gt;root@h.saba.fun
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;/root/sabafun/
&lt;span class="o"&gt;[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;source&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;.sabafun/bin/activate
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;runserver&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;.0.0.0:8000
Watching&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;file&lt;span class="w"&gt; &lt;/span&gt;changes&lt;span class="w"&gt; &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;StatReloader
Performing&lt;span class="w"&gt; &lt;/span&gt;system&lt;span class="w"&gt; &lt;/span&gt;checks...

System&lt;span class="w"&gt; &lt;/span&gt;check&lt;span class="w"&gt; &lt;/span&gt;identified&lt;span class="w"&gt; &lt;/span&gt;no&lt;span class="w"&gt; &lt;/span&gt;issues&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;silenced&lt;span class="o"&gt;)&lt;/span&gt;.
February&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;04&lt;/span&gt;,&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2020&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;06&lt;/span&gt;:53:48
Django&lt;span class="w"&gt; &lt;/span&gt;version&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.0.3,&lt;span class="w"&gt; &lt;/span&gt;using&lt;span class="w"&gt; &lt;/span&gt;settings&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sabafun.settings&amp;#39;&lt;/span&gt;
Starting&lt;span class="w"&gt; &lt;/span&gt;development&lt;span class="w"&gt; &lt;/span&gt;server&lt;span class="w"&gt; &lt;/span&gt;at&lt;span class="w"&gt; &lt;/span&gt;http://0.0.0.0:8000/
Quit&lt;span class="w"&gt; &lt;/span&gt;the&lt;span class="w"&gt; &lt;/span&gt;server&lt;span class="w"&gt; &lt;/span&gt;with&lt;span class="w"&gt; &lt;/span&gt;CONTROL-C.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;创建 poetry 应用&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;startapp&lt;span class="w"&gt; &lt;/span&gt;poetry
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="nd"&gt;@cloud&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;emacs&lt;/span&gt; &lt;span class="n"&gt;poetry&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;views&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt; 


&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.shortcuts&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;render&lt;/span&gt;

&lt;span class="c1"&gt;# Create your views here.                                                     &lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.http&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;HttpResponse&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;poetry&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;HttpResponse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello, poetry!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="nd"&gt;@cloud&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;emacs&lt;/span&gt; &lt;span class="n"&gt;poetry&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.urls&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;.&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;views&lt;/span&gt;

&lt;span class="n"&gt;urlpatterns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;views&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;poetry&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;poetry&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="nd"&gt;@cloud&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;emacs&lt;/span&gt; &lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt; 

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.contrib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;admin&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.urls&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;include&lt;/span&gt;

&lt;span class="n"&gt;urlpatterns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;poetry/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;include&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;poetry.urls&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
    &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;admin/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;admin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;查看　IP:8000/poetry/&lt;/p&gt;
&lt;p&gt;出现　Hello, poetry!&lt;/p&gt;
&lt;p&gt;成功！&lt;/p&gt;
&lt;h2&gt;创建 Shijing Models&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="nd"&gt;@cloud&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;emacs&lt;/span&gt; &lt;span class="n"&gt;poetry&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt; 


&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.db&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;

&lt;span class="c1"&gt;# Create your models here.                                                    &lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Shijing&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;诗经&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;fixed_id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IntegerField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CharField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;chapter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CharField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;section&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CharField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;TextField&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_length&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;8000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__str__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;返回模型的字符串表示&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;添加　poetry　应用&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="nd"&gt;@cloud&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;emacs&lt;/span&gt; &lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;settings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;


&lt;span class="n"&gt;INSTALLED_APPS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.admin&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.auth&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.contenttypes&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.sessions&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.messages&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;django.contrib.staticfiles&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;

    &lt;span class="c1"&gt;# My apps                                                             &lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;poetry&amp;#39;&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;迁移&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;makemigrations
Migrations&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;poetry&amp;#39;&lt;/span&gt;:
&lt;span class="w"&gt;  &lt;/span&gt;poetry/migrations/0001_initial.py
&lt;span class="w"&gt;    &lt;/span&gt;-&lt;span class="w"&gt; &lt;/span&gt;Create&lt;span class="w"&gt; &lt;/span&gt;model&lt;span class="w"&gt; &lt;/span&gt;Shijing
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;manage.py&lt;span class="w"&gt; &lt;/span&gt;migrate
System&lt;span class="w"&gt; &lt;/span&gt;check&lt;span class="w"&gt; &lt;/span&gt;identified&lt;span class="w"&gt; &lt;/span&gt;some&lt;span class="w"&gt; &lt;/span&gt;issues:

WARNINGS:
?:&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;mysql.W002&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;MySQL&lt;span class="w"&gt; &lt;/span&gt;Strict&lt;span class="w"&gt; &lt;/span&gt;Mode&lt;span class="w"&gt; &lt;/span&gt;is&lt;span class="w"&gt; &lt;/span&gt;not&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;database&lt;span class="w"&gt; &lt;/span&gt;connection&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;default&amp;#39;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;HINT:&lt;span class="w"&gt; &lt;/span&gt;MySQL&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;s&lt;span class="w"&gt; &lt;/span&gt;Strict&lt;span class="w"&gt; &lt;/span&gt;Mode&lt;span class="w"&gt; &lt;/span&gt;fixes&lt;span class="w"&gt; &lt;/span&gt;many&lt;span class="w"&gt; &lt;/span&gt;data&lt;span class="w"&gt; &lt;/span&gt;integrity&lt;span class="w"&gt; &lt;/span&gt;problems&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;MySQL,&lt;span class="w"&gt; &lt;/span&gt;such&lt;span class="w"&gt; &lt;/span&gt;as&lt;span class="w"&gt; &lt;/span&gt;data&lt;span class="w"&gt; &lt;/span&gt;truncation&lt;span class="w"&gt; &lt;/span&gt;upon&lt;span class="w"&gt; &lt;/span&gt;insertion,&lt;span class="w"&gt; &lt;/span&gt;by&lt;span class="w"&gt; &lt;/span&gt;escalating&lt;span class="w"&gt; &lt;/span&gt;warnings&lt;span class="w"&gt; &lt;/span&gt;into&lt;span class="w"&gt; &lt;/span&gt;errors.&lt;span class="w"&gt; &lt;/span&gt;It&lt;span class="w"&gt; &lt;/span&gt;is&lt;span class="w"&gt; &lt;/span&gt;strongly&lt;span class="w"&gt; &lt;/span&gt;recommended&lt;span class="w"&gt; &lt;/span&gt;you&lt;span class="w"&gt; &lt;/span&gt;activate&lt;span class="w"&gt; &lt;/span&gt;it.&lt;span class="w"&gt; &lt;/span&gt;See:&lt;span class="w"&gt; &lt;/span&gt;https://docs.djangoproject.com/en/3.0/ref/databases/#mysql-sql-mode
Operations&lt;span class="w"&gt; &lt;/span&gt;to&lt;span class="w"&gt; &lt;/span&gt;perform:
&lt;span class="w"&gt;  &lt;/span&gt;Apply&lt;span class="w"&gt; &lt;/span&gt;all&lt;span class="w"&gt; &lt;/span&gt;migrations:&lt;span class="w"&gt; &lt;/span&gt;admin,&lt;span class="w"&gt; &lt;/span&gt;auth,&lt;span class="w"&gt; &lt;/span&gt;contenttypes,&lt;span class="w"&gt; &lt;/span&gt;poetry,&lt;span class="w"&gt; &lt;/span&gt;sessions
Running&lt;span class="w"&gt; &lt;/span&gt;migrations:
&lt;span class="w"&gt;  &lt;/span&gt;Applying&lt;span class="w"&gt; &lt;/span&gt;poetry.0001_initial...&lt;span class="w"&gt; &lt;/span&gt;OK
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="nd"&gt;@cloud&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;emacs&lt;/span&gt; &lt;span class="n"&gt;poetry&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;admin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt; 


&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.contrib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;admin&lt;/span&gt;

&lt;span class="c1"&gt;# Register your models here.                                                  &lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;.models&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Shijing&lt;/span&gt;

&lt;span class="n"&gt;admin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Shijing&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;这时 IP::8000/admin/　就会看到 Shijing&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-20200204153009618" src="./2020-02-03-physics-Django/image-20200204153009618.png"&gt;&lt;/p&gt;
&lt;h2&gt;迁入 json 数据&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;删除表中所有条目&lt;/span&gt;
&lt;span class="k"&gt;truncate&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;table&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;poetry_shijing&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;传入 shijing.json 并编写文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="nd"&gt;@cloud&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;emacs&lt;/span&gt; &lt;span class="n"&gt;json_to_database&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;

&lt;span class="c1"&gt;# -*- coding: &amp;lt;encoding name&amp;gt; -*-                                             &lt;/span&gt;
&lt;span class="sd"&gt;&amp;#39;&amp;#39;&amp;#39;将 json 转换到数据库&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class="c1"&gt;# https://shockerli.net/post/python3-pymysql/                                 &lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pymysql&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getcwd&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

&lt;span class="c1"&gt;# 连接数据库。假设数据库中已经建好了名为 poetry 的空数据库。                  &lt;/span&gt;
&lt;span class="n"&gt;poetry&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pymysql&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;host&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3306&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;django&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;*********&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sabafun&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;charset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;cursor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;poetry&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;




&lt;span class="c1"&gt;# 转存《诗经》。                                                              &lt;/span&gt;
&lt;span class="c1"&gt;# 读取 shijing.json 到变量 shijing 中。                                       &lt;/span&gt;
&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;./shijing.json&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;UTF-8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;shijing&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# 查看 shijing.json 中有哪些 key                                              &lt;/span&gt;
&lt;span class="c1"&gt;# for k in shijing[0].keys():                                                 &lt;/span&gt;
&lt;span class="c1"&gt;#     print(k)    &lt;/span&gt;
&lt;span class="c1"&gt;# 为 shijing 创建一个表。                                                     &lt;/span&gt;
&lt;span class="c1"&gt;# cursor.execute(&amp;#39;&amp;#39;&amp;#39;                                                          &lt;/span&gt;
&lt;span class="c1"&gt;#                create table shijing(id int not null auto_increment,         &lt;/span&gt;
&lt;span class="c1"&gt;#                                     title varchar(32) not null,             &lt;/span&gt;
&lt;span class="c1"&gt;#                                     chapter varchar(32) not null,           &lt;/span&gt;
&lt;span class="c1"&gt;#                                     section varchar(32) not null,           &lt;/span&gt;
&lt;span class="c1"&gt;#                                     content varchar(8000) not null,         &lt;/span&gt;
&lt;span class="c1"&gt;#                                     primary key (id)                        &lt;/span&gt;
&lt;span class="c1"&gt;#                                    )                                        &lt;/span&gt;
&lt;span class="c1"&gt;#                &amp;#39;&amp;#39;&amp;#39;)                                                         &lt;/span&gt;


&lt;span class="c1"&gt;# 将数组写入数据库。                                                          &lt;/span&gt;
&lt;span class="n"&gt;shijing_sql&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;insert into poetry_shijing (title, chapter, section, content,&lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="s1"&gt; fixed_id)&amp;#39;&lt;/span&gt;
               &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;values (&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;, &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;, &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;, &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;, &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;shijing_values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;shijing&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;  &lt;span class="c1"&gt;# 将字典转换为数组      &lt;/span&gt;
&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;shijing_values&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;                              &lt;span class="c1"&gt;#                       &lt;/span&gt;
    &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;                            &lt;span class="c1"&gt;# 将数组转换为字符串    &lt;/span&gt;
    &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;                                            &lt;span class="c1"&gt;# 添加 fixed_id 字段    &lt;/span&gt;
    &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;cursor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;executemany&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;shijing_sql&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;shijing_values&lt;/span&gt;&lt;span class="p"&gt;[:])&lt;/span&gt;  &lt;span class="c1"&gt;# 写入数据库              &lt;/span&gt;
&lt;span class="n"&gt;poetry&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;commit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;                                      &lt;span class="c1"&gt;# 提交更改               &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;然后运行导入&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="o"&gt;]&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;json_to_database.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;进入管理界面，看到 305 个导入的数据&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-20200204165427906" src="./2020-02-03-physics-Django/image-20200204165427906.png"&gt;&lt;/p&gt;
&lt;p&gt;成功！&lt;/p&gt;
&lt;h2&gt;编写网页，来显示&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="w"&gt; &lt;/span&gt;sabafun&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# cd poetry/&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="w"&gt; &lt;/span&gt;poetry&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# mkdir templates&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="w"&gt; &lt;/span&gt;poetry&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# cd templates/&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="w"&gt; &lt;/span&gt;templates&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# mkdir poetry&lt;/span&gt;
&lt;span class="o"&gt;(&lt;/span&gt;.sabafun&lt;span class="o"&gt;)[&lt;/span&gt;root@cloud&lt;span class="w"&gt; &lt;/span&gt;templates&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# ls&lt;/span&gt;
poetry
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;(.sabafun)[root@cloud sabafun]# emacs poetry/templates/poetry/poetry.html



&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                        
{% for item in shijing_list %}                                                


&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;center&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                      
第{{ item.fixed_id }}篇：                                                     
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                          
  {{ item.chapter }}·{{ item.section }}·{{ item.title }}                      
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                         
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;{{ item.content }}&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                   
{% endfor %}                                                                  
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;center&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                     
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;                                                                       
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="nd"&gt;@cloud&lt;/span&gt; &lt;span class="n"&gt;sabafun&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# emacs poetry/views.py&lt;/span&gt;


&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.shortcuts&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;render&lt;/span&gt;

&lt;span class="c1"&gt;# Create your views here.                                                     &lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;django.http&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;HttpResponse&lt;/span&gt;

&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;.models&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Shijing&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;poetry&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;context&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;shijing_list&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Shijing&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;objects&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="p"&gt;()}&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;render&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;poetry/poetry.html&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;重启 httpd 从本地访问 IP/poetry，就看到界面了&lt;/p&gt;
&lt;p&gt;&lt;img alt="image-20200204210647475" src="./2020-02-03-physics-Django/image-20200204210647475.png"&gt;&lt;/p&gt;
&lt;h1&gt;参考资料&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Eric Matthes 著，袁国忠 译, Python 编程从入门到实践，中国工信出版集团，2016，人民邮电出版社&lt;/li&gt;
&lt;li&gt;https://docs.djangoproject.com/zh-hans/3.0/intro/tutorial01/&lt;/li&gt;
&lt;li&gt;www.google.com&lt;/li&gt;
&lt;/ol&gt;</content><category term="未分类"></category><category term="[Django"></category><category term="Mariadb"></category><category term="Python"></category><category term="mod_wsgi"></category><category term="Apache]"></category></entry><entry><title>こんにちわ</title><link href="https://zqw.ink/2019-09-22-thinking-jp.html" rel="alternate"></link><published>2019-09-22T00:00:00+08:00</published><updated>2019-09-22T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2019-09-22:/2019-09-22-thinking-jp.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;五十音図（ごじゅうおんず）&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;th style="text-align: center;"&gt;あ段&lt;/th&gt;
&lt;th style="text-align: center;"&gt;い段&lt;/th&gt;
&lt;th style="text-align: center;"&gt;う段&lt;/th&gt;
&lt;th style="text-align: center;"&gt;え段&lt;/th&gt;
&lt;th style="text-align: center;"&gt;お段&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;あ行&lt;/td&gt;
&lt;td style="text-align: center;"&gt;あ　ア&lt;br /&gt;a&lt;/td&gt;
&lt;td style="text-align: center;"&gt;い　イ&lt;br /&gt;i&lt;/td&gt;
&lt;td style="text-align: center;"&gt;う　ウ&lt;br /&gt;u&lt;/td&gt;
&lt;td style="text-align: center;"&gt;え　エ&lt;br /&gt;e&lt;/td&gt;
&lt;td style="text-align: center;"&gt;お　オ&lt;br /&gt;o&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;か行&lt;br /&gt;k&lt;/td&gt;
&lt;td style="text-align: center;"&gt;か　カ&lt;br /&gt;ka&lt;/td&gt;
&lt;td style="text-align: center;"&gt;き　キ&lt;br /&gt;ki&lt;/td&gt;
&lt;td style="text-align: center;"&gt;く　ク&lt;br /&gt;ku …&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h1&gt;五十音図（ごじゅうおんず）&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;th style="text-align: center;"&gt;あ段&lt;/th&gt;
&lt;th style="text-align: center;"&gt;い段&lt;/th&gt;
&lt;th style="text-align: center;"&gt;う段&lt;/th&gt;
&lt;th style="text-align: center;"&gt;え段&lt;/th&gt;
&lt;th style="text-align: center;"&gt;お段&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;あ行&lt;/td&gt;
&lt;td style="text-align: center;"&gt;あ　ア&lt;br /&gt;a&lt;/td&gt;
&lt;td style="text-align: center;"&gt;い　イ&lt;br /&gt;i&lt;/td&gt;
&lt;td style="text-align: center;"&gt;う　ウ&lt;br /&gt;u&lt;/td&gt;
&lt;td style="text-align: center;"&gt;え　エ&lt;br /&gt;e&lt;/td&gt;
&lt;td style="text-align: center;"&gt;お　オ&lt;br /&gt;o&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;か行&lt;br /&gt;k&lt;/td&gt;
&lt;td style="text-align: center;"&gt;か　カ&lt;br /&gt;ka&lt;/td&gt;
&lt;td style="text-align: center;"&gt;き　キ&lt;br /&gt;ki&lt;/td&gt;
&lt;td style="text-align: center;"&gt;く　ク&lt;br /&gt;ku&lt;/td&gt;
&lt;td style="text-align: center;"&gt;け　ケ&lt;br /&gt;ke&lt;/td&gt;
&lt;td style="text-align: center;"&gt;こ　コ&lt;br /&gt;ko&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;さ行&lt;br /&gt;s&lt;/td&gt;
&lt;td style="text-align: center;"&gt;さ　サ&lt;br /&gt;sa&lt;/td&gt;
&lt;td style="text-align: center;"&gt;し　シ&lt;br /&gt;shi&lt;/td&gt;
&lt;td style="text-align: center;"&gt;す　ス&lt;br /&gt;su&lt;/td&gt;
&lt;td style="text-align: center;"&gt;せ　セ&lt;br /&gt;se&lt;/td&gt;
&lt;td style="text-align: center;"&gt;そ　ソ&lt;br /&gt;so&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;た行&lt;br /&gt;t&lt;/td&gt;
&lt;td style="text-align: center;"&gt;た　タ&lt;br /&gt;ta&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ち　チ&lt;br /&gt;chi&lt;/td&gt;
&lt;td style="text-align: center;"&gt;つ　ツ&lt;br /&gt;tsu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;て　テ&lt;br /&gt;te&lt;/td&gt;
&lt;td style="text-align: center;"&gt;と　ト&lt;br /&gt;to&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;な行&lt;br /&gt;n&lt;/td&gt;
&lt;td style="text-align: center;"&gt;な　ナ&lt;br /&gt;na&lt;/td&gt;
&lt;td style="text-align: center;"&gt;に　ニ&lt;br /&gt;ni&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぬ　ヌ&lt;br /&gt;nu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ね　ネ&lt;br /&gt;ne&lt;/td&gt;
&lt;td style="text-align: center;"&gt;の　ノ&lt;br /&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;は行&lt;br /&gt;h&lt;/td&gt;
&lt;td style="text-align: center;"&gt;は　ハ&lt;br /&gt;ha&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ひ　ヒ&lt;br /&gt;hi&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ふ　フ&lt;br /&gt;fu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;へ　ヘ&lt;br /&gt;he&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ほ　ホ&lt;br /&gt;ho&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;ま行&lt;br /&gt;m&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ま　マ&lt;br /&gt;ma&lt;/td&gt;
&lt;td style="text-align: center;"&gt;み　ミ&lt;br /&gt;mi&lt;/td&gt;
&lt;td style="text-align: center;"&gt;む　ム&lt;br /&gt;mu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;め　メ&lt;br /&gt;me&lt;/td&gt;
&lt;td style="text-align: center;"&gt;も　モ&lt;br /&gt;mo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;や行&lt;br /&gt;y&lt;/td&gt;
&lt;td style="text-align: center;"&gt;や　ヤ&lt;br /&gt;ya&lt;/td&gt;
&lt;td style="text-align: center;"&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ゆ　ユ&lt;br /&gt;yu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;よ　ヨ&lt;br /&gt;yo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;ら行&lt;br /&gt;r&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ら　ラ&lt;br /&gt;ra&lt;/td&gt;
&lt;td style="text-align: center;"&gt;り　リ&lt;br /&gt;ri&lt;/td&gt;
&lt;td style="text-align: center;"&gt;る　ル&lt;br /&gt;ru&lt;/td&gt;
&lt;td style="text-align: center;"&gt;れ　レ&lt;br /&gt;re&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ろ　ロ&lt;br /&gt;ro&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;わ行&lt;br /&gt;w&lt;/td&gt;
&lt;td style="text-align: center;"&gt;わ　ワ&lt;br /&gt;wa&lt;/td&gt;
&lt;td style="text-align: center;"&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;を　ヲ&lt;br /&gt;o&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ん　ン&lt;br /&gt;n&lt;/td&gt;
&lt;td style="text-align: center;"&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;&lt;/td&gt;
&lt;td style="text-align: center;"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;濁音（だくおん）　半濁音（はんだくおん）&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;が行&lt;br /&gt;g&lt;/td&gt;
&lt;td style="text-align: center;"&gt;が　ガ&lt;br /&gt;ga&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぎ　ギ&lt;br /&gt;gi&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぐ　グ&lt;br /&gt;gu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;げ　ゲ&lt;br /&gt;ge&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ご　ゴ&lt;br /&gt;go&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;ざ行&lt;br /&gt;z&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ざ　ザ&lt;br /&gt;za&lt;/td&gt;
&lt;td style="text-align: center;"&gt;じ　ジ&lt;br /&gt;ji&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ず ズ&lt;br /&gt;zu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぜ　ゼ&lt;br /&gt;ze&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぞ　ゾ&lt;br /&gt;zo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;だ行&lt;br /&gt;d&lt;/td&gt;
&lt;td style="text-align: center;"&gt;だ　ダ&lt;br /&gt;da&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぢ　ぢ&lt;br /&gt;ji&lt;/td&gt;
&lt;td style="text-align: center;"&gt;づ　ヅ&lt;br /&gt;zu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;で　デ&lt;br /&gt;de&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ど　ド&lt;br /&gt;do&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;ば行&lt;br /&gt;b&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ば　バ&lt;br /&gt;ba&lt;/td&gt;
&lt;td style="text-align: center;"&gt;び　ビ&lt;br /&gt;bi&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぶ　ブ&lt;br /&gt;bu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;べ　ベ&lt;br /&gt;be&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぼ　ボ&lt;br /&gt;bo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;ぱ行&lt;br /&gt;p&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぱ　パ&lt;br /&gt;pa&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぴ　ピ&lt;br /&gt;pi&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぷ　プ&lt;br /&gt;pu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぺ　ペ&lt;br /&gt;pe&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぽ　ポ&lt;br /&gt;po&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;拗音（ようおん）&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;きゃ　キャ&lt;br /&gt;kya&lt;/td&gt;
&lt;td style="text-align: center;"&gt;きゅ　キュ&lt;br /&gt;kyu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;きょ　キョ&lt;br /&gt;kyo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;しゃ　シャ&lt;br /&gt;sha&lt;/td&gt;
&lt;td style="text-align: center;"&gt;しゅ　シュ&lt;br /&gt;shu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;しょ　ショ&lt;br /&gt;sho&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;ちゃ　チャ&lt;br /&gt;cha&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ちゅ　チュ&lt;br /&gt;chu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ちょ　チョ&lt;br /&gt;cho&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;にゃ　ニャ&lt;br /&gt;nya&lt;/td&gt;
&lt;td style="text-align: center;"&gt;にゅ　ニュ&lt;br /&gt;nyu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;にょ　ニョ&lt;br /&gt;nyo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;ひゃ　ヒャ&lt;br /&gt;hya&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ひゅ　ヒュ&lt;br /&gt;hyu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ひょ　ヒョ&lt;br /&gt;hyo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;みゃ　ミャ&lt;br /&gt;mya&lt;/td&gt;
&lt;td style="text-align: center;"&gt;みゅ　ミュ&lt;br /&gt;myu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;みょ　ミョ&lt;br /&gt;myo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;りゃ　リャ&lt;br /&gt;rya&lt;/td&gt;
&lt;td style="text-align: center;"&gt;りゅ　リュ&lt;br /&gt;ryu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;りょ　リョ&lt;br /&gt;ryo&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;th style="text-align: center;"&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;ぎゃ　ギャ&lt;br /&gt;gya&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぎゅ　ギュ&lt;br /&gt;gyu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぎょ　ギョ&lt;br /&gt;gyo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;じゃ　ジャ&lt;br /&gt;ja&lt;/td&gt;
&lt;td style="text-align: center;"&gt;じゅ　ジュ&lt;br /&gt;ju&lt;/td&gt;
&lt;td style="text-align: center;"&gt;じょ　ジョ&lt;br /&gt;jo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;びゃ　ビャ&lt;br /&gt;bya&lt;/td&gt;
&lt;td style="text-align: center;"&gt;びゅ　ビュ&lt;br /&gt;byu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;びょ　ビョ&lt;br /&gt;byo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: center;"&gt;ぴゃ　ピャ&lt;br /&gt;pya&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぴゅ　ピュ&lt;br /&gt;pyu&lt;/td&gt;
&lt;td style="text-align: center;"&gt;ぴょ　ピョ&lt;br /&gt;pyo&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;言葉（ことば）&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;日本語&lt;/td&gt;
&lt;td&gt;にほんご&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;nihonngo&lt;/td&gt;
&lt;td&gt;日语&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;こんにちわ&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;你好&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;五十音図&lt;/td&gt;
&lt;td&gt;ごじゅうおんず&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;gojuuonzu&lt;/td&gt;
&lt;td&gt;五十音图&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;段&lt;/td&gt;
&lt;td&gt;だん&lt;/td&gt;
&lt;td&gt;１&lt;/td&gt;
&lt;td&gt;dann&lt;/td&gt;
&lt;td&gt;段&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;行&lt;/td&gt;
&lt;td&gt;ぎょう&lt;/td&gt;
&lt;td&gt;１&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;濁音&lt;/td&gt;
&lt;td&gt;だくおん&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;dakuon&lt;/td&gt;
&lt;td&gt;浊音&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;半濁音&lt;/td&gt;
&lt;td&gt;はんだくおん&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;半浊音&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;拗音&lt;/td&gt;
&lt;td&gt;ようおん&lt;/td&gt;
&lt;td&gt;１&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;拗音&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;言葉&lt;/td&gt;
&lt;td&gt;ことば&lt;/td&gt;
&lt;td&gt;３&lt;/td&gt;
&lt;td&gt;kotoba&lt;/td&gt;
&lt;td&gt;单词&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content><category term="未分类"></category><category term="[日本語"></category><category term="五十音図]"></category></entry><entry><title>被风吹过的夏天</title><link href="https://zqw.ink/2019-09-14-blog-summer.html" rel="alternate"></link><published>2019-09-14T00:00:00+08:00</published><updated>2019-09-14T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2019-09-14:/2019-09-14-blog-summer.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;夏天&lt;/li&gt;
&lt;li&gt;病房&lt;/li&gt;
&lt;li&gt;文学青年&lt;/li&gt;
&lt;li&gt;故事&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;病房在十二楼。透过大大的窗户向南望去，是绿色的植被和远处朦胧的山岭。&lt;/p&gt;
&lt;p&gt;所有人都在午休。微风 …&lt;/p&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;夏天&lt;/li&gt;
&lt;li&gt;病房&lt;/li&gt;
&lt;li&gt;文学青年&lt;/li&gt;
&lt;li&gt;故事&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;病房在十二楼。透过大大的窗户向南望去，是绿色的植被和远处朦胧的山岭。&lt;/p&gt;
&lt;p&gt;所有人都在午休。微风轻拂淡蓝色的，波浪形状的窗帘，就像夏天被风吹过。&lt;/p&gt;
&lt;p&gt;老旧的病房里，空调不太好用，而且时不时地喷出水滴。确实有些热，好多人都自己带来了电风扇。这是一间大病房，有八位病人呢！说是病人也不太恰当，因为这是一家以骨科而在当地闻名的医院，所以大部分病人并没有什么病，都是意外中受的类似骨折的硬伤。称为伤都或许更为恰当。&lt;/p&gt;
&lt;p&gt;大部分伤者，以及伤者的家属都在等待出院的日子。也有伤者没有在等出院的日子。&lt;/p&gt;
&lt;p&gt;这个人是靠窗的四床。中年男人，身材魁梧，他是在矿上的意外伤害，腿部受伤，走路要依靠双拐。在医院里会有工厂的一些误工费类似的钱，所以那个床位一直给他留着，他每年都会来这里待一段时间。话多能扯，这里的护士医生他都熟！&lt;/p&gt;
&lt;p&gt;说到矿上的意外伤害，就要说一下这家医院的来历。它本来就是为这里的煤矿专门服务的，就连名字里也是以煤矿的名字命名的。煤矿经常会发生事故，伤筋动骨的事情是家常便饭，以致于要专门开一家医院。那么，这家医院以骨科闻名于本地也就不足为奇。&lt;/p&gt;
&lt;p&gt;煤矿曾经是这里的经济支柱，这里的一切都以煤矿为中心。矿业小学，矿业医院，矿业社区……&lt;/p&gt;
&lt;p&gt;现在矿被挖完了，即使没有挖完，这样污染城市面貌的产业也要被停了。相关的产业依然存在，只是服务对象不再是单一的煤矿员工和家属，名字也依然带有矿业的字样。&lt;/p&gt;
&lt;p&gt;这位身材魁梧的中年男人将自己的身体献给了煤矿，余生只靠这点赔偿为生，老婆没什么文化，再怎么挣也挣不了几个钱。以前煤矿的员工，伤残如此的不在少数。这样危险的职业，在以前也是受众人羡慕的。因为比起在家种地，收入要好太多。生命的完整性，在摆脱务农，提高收入面前便没有那么重要了。&lt;/p&gt;
&lt;p&gt;床位号是这样分布的，病房的一侧，从背面的门口到南面的大窗户，分别是一床，二床，三床，四床。病房的另一侧，从大窗户再数到门口，五床，六床，七床，八床。一床、八床靠门，四床、五床靠窗。&lt;/p&gt;
&lt;p&gt;二床是一位年轻的爸爸，身材偏瘦，个头中等，当地人，交通事故伤，不知是脚踝受伤，还是膝盖受伤。一根铁棍从膝盖中穿过，铁棍两端栓着绳子，用一个重物坠在床头上。儿子上初一，正好放暑假，白天就拿着作业来陪爸爸。妈妈日夜盯在这里 。儿子很乘，初中一年级，爸爸妈妈的知识水平已经没法辅导他的学习了。他就只能一个人在那里完成数学老师布置的预习作业，不会就瞎编一个答案。夫妻两个看起来感情不错。爸爸有时会发脾气，妈妈也会顶几句，一会儿就好了。妈妈和儿子都在数着，爸爸还有几天出院。&lt;/p&gt;
&lt;p&gt;靠窗的五床之前是一个老头，腰间盘突出太严重了，来这里做了手术，一动不能动，各种亲戚一个接一个的来看望他。&lt;/p&gt;
&lt;p&gt;他走了后，所有的人都在夜里听见了撕心裂肺的哭声。第二天早上，那个在夜里撕心裂肺地哭的被安排在了五床。是一个五六岁的小男孩。听说是一家人吃完晚饭，这孩子不知怎么调皮，腿给弄骨折了。大老远的送到这家医院。这孩子怕，说什么也不愿意手术，昨天半夜里在那大哭。最终还是做了手术。早上送到病房就老实多了。年轻的父母又去买了好多玩具来哄他。&lt;/p&gt;
&lt;p&gt;三床也是个五六岁的小孩，是个小姑娘，胖乎乎的。腿给摔断了。怎么回事呢？她妈妈说，那天她去楼下取快递，就让女儿自己在家里。天气又热，刚下完雨，窗户开着通风呢。她妈取完快递刚要回家就听见有人告诉她，“你女儿掉下来了”。她妈当时腿就软得走不动路了。原来那个小姑娘顺着沙发爬上了窗台，从三楼掉下来了。还好下面是刚下过雨的草地，还好小姑娘不是头着地。&lt;/p&gt;
&lt;p&gt;小姑娘刚做完手术，也是哭。要吃！可是刚做完手术不让吃饭。大人都和她开玩笑，都这么胖了还吃。她还不乐意，不让别人说她胖！她妈说，别看小姑娘这么胖，可是从来不吃肉，也不吃甜的东西。好像是有一种不太严重的病。别人都感叹她捡了一条命，大难不死，必有后福！&lt;/p&gt;
&lt;p&gt;靠门的八床是一对五十岁左右的夫妻。男的住院，女的陪护。两人都信基督教。晚上没事的时候，他两就给别人讲他们教的事情。有些耿直的人还会反驳几句，他们两会认真地再次反驳。他们两人很和善，经常帮助别人。&lt;/p&gt;
&lt;p&gt;晚上晚饭过后，护士打完针，一屋的人就闲聊起来，你这是怎么伤的，他家是哪儿的，我儿子在某某学院上大学，那个病房有个人疯了，那个病房有个人跳楼了……&lt;/p&gt;
&lt;p&gt;有时候有好笑的话，大家都会笑。聊完天有些人就睡了。也有伤得重的人为今后的日子发愁，难以入睡。&lt;/p&gt;
&lt;p&gt;大大的病房，年代久远的空调喷着水滴。窗户大开着，个人的小风扇也开着。走廊里偶尔传来摄人心魄的哭声。&lt;/p&gt;
&lt;p&gt;夏季的微风轻拂淡蓝色的，波浪形状的窗帘，就像林俊杰的歌里唱的，被风吹过的夏天。&lt;/p&gt;</content><category term="未分类"></category></entry><entry><title>故事分类序言</title><link href="https://zqw.ink/2019-09-14-story-intro.html" rel="alternate"></link><published>2019-09-14T00:00:00+08:00</published><updated>2019-09-14T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2019-09-14:/2019-09-14-story-intro.html</id><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;经历和听说一些事情。&lt;/p&gt;
&lt;p&gt;被人加工，便成了故事。&lt;/p&gt;
&lt;p&gt;有真有假，亦虚亦实。&lt;/p&gt;</content><category term="未分类"></category><category term="序言"></category></entry><entry><title>小胖子打印员</title><link href="https://zqw.ink/2019-09-14-story-printingboy.html" rel="alternate"></link><published>2019-09-14T00:00:00+08:00</published><updated>2019-09-14T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2019-09-14:/2019-09-14-story-printingboy.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;小胖子&lt;/li&gt;
&lt;li&gt;打印员&lt;/li&gt;
&lt;li&gt;电脑&lt;/li&gt;
&lt;li&gt;故事&lt;/li&gt;
&lt;li&gt;文学青年&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;办个事情还真是麻烦！还得跑出去找打印店。&lt;/p&gt;
&lt;p&gt;行人稀疏，崭新的大马路，路面很干净。街边也 …&lt;/p&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;小胖子&lt;/li&gt;
&lt;li&gt;打印员&lt;/li&gt;
&lt;li&gt;电脑&lt;/li&gt;
&lt;li&gt;故事&lt;/li&gt;
&lt;li&gt;文学青年&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;办个事情还真是麻烦！还得跑出去找打印店。&lt;/p&gt;
&lt;p&gt;行人稀疏，崭新的大马路，路面很干净。街边也大多是树，要么就是小区围墙。&lt;/p&gt;
&lt;p&gt;风景倒是不错，打印店却是不好找。&lt;/p&gt;
&lt;p&gt;终于在路边发现了一家。是在小区围墙的外面，比马路矮不少。&lt;/p&gt;
&lt;p&gt;骑着车转了下去，沿着石子铺的小路到了门口停下车。进屋。&lt;/p&gt;
&lt;p&gt;小屋里竟然只有一个小胖子。看样子也就上初中。这地方一般没什么人来打印。电脑看起来像是十年前的了吧！系统还是 Windows xp！&lt;/p&gt;
&lt;p&gt;进去的时候，小胖子打印员正在玩一个上古版本的单机CS。刚一张口说“你好！”，小胖子立马从游戏里切了出来，面朝向这边。他那个样子，有点像《飞屋环游记》里的男主。&lt;/p&gt;
&lt;p&gt;“请问这里能打印吗？”&lt;/p&gt;
&lt;p&gt;“是打印，还是复印？”&lt;/p&gt;
&lt;p&gt;“打印。”&lt;/p&gt;
&lt;p&gt;“是有照片……还是word……”&lt;/p&gt;
&lt;p&gt;“有文件，在U盘里了。”&lt;/p&gt;
&lt;p&gt;“是有文件对吧？”&lt;/p&gt;
&lt;p&gt;“嗯，对对。”&lt;/p&gt;
&lt;p&gt;“那可以。多少？”&lt;/p&gt;
&lt;p&gt;“就两张。”&lt;/p&gt;
&lt;p&gt;递给打印员U盘。打印员接过去插到他刚才用来打单机CS的老电脑上，电脑是那种方形的屏幕。&lt;/p&gt;
&lt;p&gt;屏幕上弹出××毒霸的提示：正在读取U盘&lt;/p&gt;
&lt;p&gt;“正在读取U盘”持续了大概十几秒。&lt;/p&gt;
&lt;p&gt;“U盘里边的东西很多吗？”&lt;/p&gt;
&lt;p&gt;“呃，不是很多吧！”那是个16G的U盘，里刻的Windows 10的系统。&lt;/p&gt;
&lt;p&gt;又过了十几秒。&lt;/p&gt;
&lt;p&gt;“电脑有点卡了，得清理内存了”。打印员面朝着屏幕，像是自言自语，又像是在解释这样慢的原因。显得很专业的样子。其实一点都不专业啦，本来就是电脑过于老旧，再怎么清理也没有用了……何况清理内存这一说法挺外行的。&lt;/p&gt;
&lt;p&gt;看得出场面有些尴尬。他的样子又很可爱。&lt;/p&gt;
&lt;p&gt;“能发到QQ上打印吗？”&lt;/p&gt;
&lt;p&gt;“可以，可以。有微信吗？”&lt;/p&gt;
&lt;p&gt;“有，我扫你吧！”&lt;/p&gt;
&lt;p&gt;加上了他的微信，名字叫做“好名字”，头像是个类似愤怒的小鸟类似的卡通头像。除此之外，什么也没有了。微信号也是一串默认的字母和数字。&lt;/p&gt;
&lt;p&gt;“这样没问题吧？”发给他文件后，他打开文件问。&lt;/p&gt;
&lt;p&gt;“没问题，印两张。”&lt;/p&gt;
&lt;p&gt;“好的。”&lt;/p&gt;
&lt;p&gt;咔嚓咔嚓，文件就印出来了。&lt;/p&gt;
&lt;p&gt;“多少钱？”&lt;/p&gt;
&lt;p&gt;“两块。”&lt;/p&gt;
&lt;p&gt;“微信扫给你。”&lt;/p&gt;
&lt;p&gt;“好的。”&lt;/p&gt;
&lt;p&gt;付完钱之后，接过文件。&lt;/p&gt;
&lt;p&gt;“慢走。”&lt;/p&gt;
&lt;p&gt;边走边看出了门。&lt;/p&gt;
&lt;p&gt;办个事情还真是麻烦！还要签字呢！机智地回到打印店。&lt;/p&gt;
&lt;p&gt;“这儿有没有笔，这个还得签个字。”&lt;/p&gt;
&lt;p&gt;“噢，有，有。”&lt;/p&gt;
&lt;p&gt;打印员递来一根那种特别常见的一元一支的签字笔。&lt;/p&gt;
&lt;p&gt;签完字还给他。&lt;/p&gt;
&lt;p&gt;“谢谢！”&lt;/p&gt;
&lt;p&gt;“不客气！慢走。”&lt;/p&gt;
&lt;p&gt;还真是有礼貌，像个大人一样。&lt;/p&gt;
&lt;p&gt;这回没问题了，骑边慢悠悠地回办事的地方。&lt;/p&gt;
&lt;p&gt;忽然意识到中午要下班了，大老远地跑去打印，花了不少时间。加快行车速度！&lt;/p&gt;
&lt;p&gt;还好那里还有人在办，他们就没下班。&lt;/p&gt;
&lt;p&gt;办完事情，回家吃午饭饭。&lt;/p&gt;
&lt;p&gt;小胖子打印员还真是可爱，平时可能贪玩，也没其它的电脑吧，就用那老旧的电脑，折腾各种东西，装各种软件，打印员自己也认为比较懂电脑了吧。可以实在是老旧，只能用同样老旧版本的单机CS与之匹配，才能勉强玩一下。&lt;/p&gt;
&lt;p&gt;爸妈让他看店。可这种地方的打印店实在没有什么人，就玩起了CS。来了这么个打印的客人，他就成了店里的主人，大人模样的对话，大人模样的客气，大人模样的吐槽电脑卡。&lt;/p&gt;
&lt;p&gt;可他还是一名初中生，再怎么大人模样也不失失天真可爱！&lt;/p&gt;</content><category term="未分类"></category></entry><entry><title>对易与反对易公式(update 09/July/2020)</title><link href="https://zqw.ink/2018-09-26-physics-dui-yi-yu-fan-dui-yi-gong-shi.html" rel="alternate"></link><published>2018-09-26T00:00:00+08:00</published><updated>2018-09-26T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2018-09-26:/2018-09-26-physics-dui-yi-yu-fan-dui-yi-gong-shi.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;在运动方程中, 经常要计算各种产生湮灭算符之间的对易关系. 而对于 Fermion 来说, 它满足的是反对易关系, 因此在最后一步中 …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;在运动方程中, 经常要计算各种产生湮灭算符之间的对易关系. 而对于 Fermion 来说, 它满足的是反对易关系, 因此在最后一步中, 需要用下述关系, 写成反对易子的形式
$$
\begin{split}
[AB, C] =&amp;amp; A{B, C} - {A,C}B\
[A,BC] =&amp;amp;{A, B} C -B{A,C} 
\end{split}
$$&lt;/p&gt;
&lt;h1&gt;Boson&lt;/h1&gt;
&lt;p&gt;Boson 满足对易关系
$$
[a_k, a^{\dagger}&lt;em kk_="kk'"&gt;{k'}] = \delta&lt;/em&gt;
$$&lt;/p&gt;
&lt;p&gt;$$
\sum_{k'}[a^{\dagger}&lt;em k3&gt;{k3}a&lt;/em&gt;},a^{\dagger&lt;em k_3="k'3"&gt;{k'2}a&lt;/em&gt;] 
    = -a^{\dagger}&lt;em k3&gt;{k2}a&lt;/em&gt;
$$&lt;/p&gt;
&lt;p&gt;$$
\sum_{k'}[a^{\dagger}&lt;em k3&gt;{k3}a&lt;/em&gt;},a^{\dagger&lt;em k_2="k'2"&gt;{k'3}a&lt;/em&gt;] 
    =  a^{\dagger}&lt;em k2&gt;{k3}a&lt;/em&gt;
$$&lt;/p&gt;
&lt;h1&gt;Fermion&lt;/h1&gt;
&lt;p&gt;Fermion 满足反对易关系
$$
{a_k, a^{\dagger}&lt;em kk_="kk'"&gt;{k'}} = \delta&lt;/em&gt;
$$&lt;/p&gt;
&lt;p&gt;$$
\sum_{k'}[a^{\dagger}&lt;em k3&gt;{k3}a&lt;/em&gt;},a^{\dagger&lt;em k_3="k'3"&gt;{k'2}a&lt;/em&gt;] 
    = -a^{\dagger}&lt;em k3&gt;{k2}a&lt;/em&gt;
$$&lt;/p&gt;
&lt;p&gt;$$
\sum_{k'}[a^{\dagger}&lt;em k3&gt;{k3}a&lt;/em&gt;},a^{\dagger&lt;em k_2="k'2"&gt;{k'3}a&lt;/em&gt;] 
    =  a^{\dagger}&lt;em k2&gt;{k3}a&lt;/em&gt;
$$&lt;/p&gt;</content><category term="未分类"></category><category term="[物理"></category><category term="量子力学"></category><category term="对易"></category><category term="反对易]"></category></entry><entry><title>球坐标系速度和加速度的推导</title><link href="https://zqw.ink/2018-09-25-physics-qiu-zuo-biao-xi-su-du-he-jia-su-du-de-tui-dao.html" rel="alternate"></link><published>2018-09-25T00:00:00+08:00</published><updated>2018-09-25T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2018-09-25:/2018-09-25-physics-qiu-zuo-biao-xi-su-du-he-jia-su-du-de-tui-dao.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h2&gt;做法之一&lt;/h2&gt;
&lt;p&gt;球坐标基矢按直角坐标展开：
$$
\begin{cases}
\hat{r} &amp;amp;= \sin\theta\cos\varphi \hat{x} +\sin\theta\sin\varphi \hat{y} +\cos\theta \hat{z}\\
\hat{\theta} &amp;amp;= \cos\theta\cos\varphi \hat{x} +\cos\theta\sin\varphi \hat{y …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h2&gt;做法之一&lt;/h2&gt;
&lt;p&gt;球坐标基矢按直角坐标展开：
$$
\begin{cases}
\hat{r} &amp;amp;= \sin\theta\cos\varphi \hat{x} +\sin\theta\sin\varphi \hat{y} +\cos\theta \hat{z}\\
\hat{\theta} &amp;amp;= \cos\theta\cos\varphi \hat{x} +\cos\theta\sin\varphi \hat{y} -\sin\theta \hat{z}\\
\hat{\varphi} &amp;amp;= -\sin\varphi \hat{x} +\cos \varphi \hat{y}
\end{cases}
$$
球坐标系的基矢不像直角坐标的基矢一样是固定的，而是随坐标的改变而改变：
$$
\begin{cases}
\hat{r} &amp;amp;= \hat{r}(\theta,\varphi) \\
\hat{\theta} &amp;amp;=  \hat{r}(\theta,\varphi) \\
\hat{\varphi} &amp;amp;=  \hat{r}(\varphi)
\end{cases}
$$
所球坐标系中的坐标的表达式为：
$$
\vec{r} = r \hat{r}
$$
速度的表达式为：
$$
\dot{\vec{r}} = \dot{r}\hat{r} + r \dot{\hat{r}}
$$
而：
$$
\begin{split}
\dot{\hat{r}} =&amp;amp; \dot{\theta}(\cos\theta\cos\varphi \hat{x} +\cos\theta\sin\varphi \hat{y} -\sin\theta \hat{z}) \\
&amp;amp;+\dot{\varphi}(-\sin\theta\sin\varphi \hat{x} +\sin\theta\cos \varphi \hat{y}) \\
=&amp;amp; \dot{\theta}\hat{\theta} + \dot{\varphi}\sin\theta \hat{\varphi}
\end{split}
$$
所以：
$$
\dot{\vec{r}} = \dot{r}\hat{r} + r \dot{\hat{r}} =  \dot{r}\hat{r} +r\dot{\theta}\hat{\theta} + r\dot{\varphi}\sin\theta \hat{\varphi}
$$
加速度的表达式为：
$$
\ddot{\vec{r}} = \ddot{r}\hat{r}+\dot{r}\dot{\hat{r}}+\dot{r}\dot{\hat{r}}+ r \ddot{\hat{r}} =  \ddot{r}\hat{r}+2\dot{r}\dot{\hat{r}}++ r \ddot{\hat{r}}
$$
而：
$$
\ddot{\hat{r}} = \ddot{\theta}\hat{\theta}+\dot{\theta}\dot{\hat{\theta}} + \ddot{\varphi}\sin\theta\hat{\varphi} +\dot{\theta}\dot{\varphi}\cos\theta\hat{\varphi} + \dot{\varphi}\sin\theta \dot{\hat{\varphi}}
$$
其中 $\dot{\hat{\theta}}$ 和 $\dot{\hat{\varphi}}$ 为：
$$
\begin{split}
\dot{\hat{\theta}} =&amp;amp; \dot{\theta}(-\sin\theta\cos\varphi \hat{x} -\sin\theta\sin\varphi \hat{y} -\cos\theta \hat{z}) \\
&amp;amp;+\dot{\varphi}(-\cos\theta\sin\varphi \hat{x} +\cos\theta\cos \varphi \hat{y}) \\
=&amp;amp; -\dot{\theta}\hat{r} + \dot{\varphi}\cos\theta\hat{\varphi}
\end{split}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{split}
\dot{\hat{\varphi}} =&amp;amp;\dot{\varphi}(-\cos\varphi \hat{x}-\sin\varphi\hat{y}) = \dot\varphi (-\sin\theta\hat{r}-\cos\theta\hat{\theta})
\end{split}
$$&lt;/p&gt;
&lt;p&gt;则：
$$
\begin{split}
\ddot{\hat{r}} =&amp;amp; -\dot{\theta}^2\hat{r}+\dot{\theta}\dot{\varphi}\cos\theta\hat{\varphi}+ \ddot{\theta}\hat{\theta}+ \ddot{\varphi}\sin\theta\hat{\varphi} +\dot{\theta}\dot{\varphi}\cos\theta\hat{\varphi} -\dot{\varphi}^2\sin^2\theta\hat{r}-\dot{\varphi}^2\sin\theta\cos\theta\hat{\theta} \\
=&amp;amp; (-\dot{\theta}^2-\dot{\varphi}^2\sin^2\theta)\hat{r} +(\ddot{\theta}-\dot{\varphi}^2\sin\theta\cos\theta)\hat\theta +(2\dot{\theta}\dot{\varphi}\cos\theta+\ddot{\varphi}\sin\theta)\hat{\varphi}
\end{split}
$$
最终得加速度的表达式为：
$$
\begin{split}
\ddot{\vec{r}} = &amp;amp; \ddot{r}\hat{r}+2\dot{r}\dot{\theta}\hat{\theta}+2\dot{r}\dot{\varphi}\sin\theta\hat{\varphi}+ r \ddot{\hat{r}}  \\
=&amp;amp;(\ddot{r}-r\dot{\theta}^2-r\dot{\varphi}^2\sin^2\theta)\hat{r} \\
&amp;amp;+(2\dot{r}\dot{\theta}+r\ddot{\theta}-r\dot{\varphi}^2\sin\theta\cos\theta)\hat{\theta} \\
&amp;amp;+(2\dot{r}\dot{\varphi}\sin\theta+2r\dot{\theta}\dot{\varphi}\cos\theta+r\ddot{\varphi}\sin\theta)\hat{\varphi}
\end{split}
$$&lt;/p&gt;
&lt;h2&gt;做法之二&lt;/h2&gt;
&lt;p&gt;坐标基矢之间的变换：
$$
\left(\begin{matrix}
\hat{e}&lt;em _theta="\theta"&gt;r\
\hat{e}&lt;/em&gt;\
\hat{e}&lt;em _theta="\theta"&gt;{\phi}\
\end{matrix}\right) 
=
\left(\begin{matrix}
\sin\theta\cos\phi  &amp;amp;\sin\theta\sin\phi &amp;amp;\cos\theta \
\cos\theta\cos\phi      &amp;amp;\cos\theta\sin\phi     &amp;amp;-\sin\theta \
-\sin\phi           &amp;amp;\cos\phi       &amp;amp; 0
\end{matrix}\right) 
\left(\begin{matrix}
\hat{e}_x\
\hat{e}_y\
\hat{e}_z\
\end{matrix}\right)
$$
坐标基矢之间的逆变换：
$$
\left(\begin{matrix}
\hat{e}_x\
\hat{e}_y\
\hat{e}_z\
\end{matrix}\right)
=
\left(\begin{matrix}
\sin\theta\cos\phi  &amp;amp;\cos\theta\cos\phi &amp;amp;-\sin\phi \
\sin\theta\sin\phi      &amp;amp;\cos\theta\sin\phi     &amp;amp;\cos\phi \
\cos\theta          &amp;amp;-\sin\theta        &amp;amp; 0
\end{matrix}\right) 
\left(\begin{matrix}
\hat{e}_r\
\hat{e}&lt;/em&gt;\
\hat{e}&lt;em _theta="\theta"&gt;{\phi}\
\end{matrix}\right)
$$
坐标之间的变换：
$$
\begin{cases}
r = \sqrt{x^2+y^2+z^2}\
\theta = \arccos\frac{z}{ \sqrt{x^2+y^2+z^2}} \
\phi = \arctan\frac{y}{x}
\end{cases}
$$
坐标之间的逆变换：
$$
\begin{cases}
x &amp;amp;= r\sin\theta\cos\phi \
y &amp;amp;=r\sin\theta\sin\phi\
z &amp;amp;= r\cos\theta
\end{cases}
$$
质点位置的表达式：
$$
\vec{r} = x \hat{e}_x +y\hat{e}_y + z\hat{e}_z
$$
将坐标的变换和基矢的变换代入可得：
$$
\vec{r} = r \hat{e}_r
$$
速度的表达式为：
$$
\vec{v} = \dot{x} \hat{e}_x +  \dot{y} \hat{e}_y + \dot{z} \hat{e}_z
$$
其中
$$
\begin{cases}
\dot{x} &amp;amp;= \dot{r}\sin\theta\cos\phi +r\dot{\theta}\cos\theta\cos\phi-r\dot{\phi}\sin\theta\sin\phi \
\dot{y} &amp;amp;=\dot{r}\sin\theta\sin\phi+r\dot{\theta}\cos\theta\sin\phi+r\dot{\phi}\sin\theta\cos\phi \
\dot{z} &amp;amp;= \dot{r}\cos\theta-r\dot{\theta}\sin\theta
\end{cases}
$$
代入变换关系可得：
$$
\vec{v} = \dot{r}\hat{e}_r + r\dot{\theta}\hat{e}&lt;/em&gt;} + r\dot{\phi}\sin\theta \hat{e&lt;em r&gt;{\phi}
$$
加速度表达式为： 
$$
\vec{a} =  \ddot{x} \hat{e}_x +  \ddot{y} \hat{e}_y + \ddot{z} \hat{e}_z
$$
代入变换关系可得
$$
\vec{a}=(\ddot{r}-r\dot{\theta}^2-r\dot{\phi}^2\sin^2\theta)\hat{e}&lt;/em&gt; \\
+(2\dot{r}\dot{\theta}+r\ddot{\theta}-r\dot{\phi}^2\sin\theta\cos\theta)\hat{e}&lt;em _varphi="\varphi"&gt;{\theta} \\
+(2\dot{r}\dot{\phi}\sin\theta+2r\dot{\theta}\dot{\phi}\cos\theta+r\ddot{\phi}\sin\theta)\hat{e}&lt;/em&gt;
$$&lt;/p&gt;</content><category term="未分类"></category><category term="[数学"></category><category term="物理"></category><category term="理论力学"></category><category term="球坐标]"></category></entry><entry><title>库仑势的Fourier transform(update 16/Nov/2020)</title><link href="https://zqw.ink/2018-09-24-physics-ku-lun-shi-de-fourier-transform.html" rel="alternate"></link><published>2018-09-24T00:00:00+08:00</published><updated>2018-09-24T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2018-09-24:/2018-09-24-physics-ku-lun-shi-de-fourier-transform.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h2&gt;问题&lt;/h2&gt;
&lt;p&gt;三维库仑势的形式为：
$$
V(\vec{r}) = \frac{1}{r}
$$
按动量Fourier展开：
$$
V(\vec{r}) = \frac{1}{(2\pi)^3} \int_{-\infty}^{+\infty} \mathrm{d}^3\vec{k} \cdot V(\vec{k})\cdot e^{i\vec{k}\cdot\vec{r}}
$$
求 …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h2&gt;问题&lt;/h2&gt;
&lt;p&gt;三维库仑势的形式为：
$$
V(\vec{r}) = \frac{1}{r}
$$
按动量Fourier展开：
$$
V(\vec{r}) = \frac{1}{(2\pi)^3} \int_{-\infty}^{+\infty} \mathrm{d}^3\vec{k} \cdot V(\vec{k})\cdot e^{i\vec{k}\cdot\vec{r}}
$$
求 $V(\vec{k})$ 。&lt;/p&gt;
&lt;h2&gt;求解&lt;/h2&gt;
&lt;p&gt;$$
V{(\vec{k})} = \int_{-\infty}^{+\infty} \mathrm{d}^3\vec{r}\cdot V(\vec{r})\cdot e^{-i\vec{k}\cdot \vec{r}} = \int_0^{2\pi}\mathrm{d}\varphi \int_0^{+\infty}\mathrm{d}r\int_0^{\pi}\mathrm{d}\theta\cdot \frac{1}{r}e^{-ikr\cos\theta}r^2\sin\theta \\
=2\pi\int_0^{+\infty}\mathrm{d}r\int_0^{\pi}\mathrm{d}\theta\cdot e^{-ikr\cos\theta}r\sin\theta  = -2\pi\int_0^{+\infty}\mathrm{d}r\int_1^{-1}\mathrm{d}\cos\theta\cdot e^{-ikr\cos\theta}r \\
=-2\pi\int_0^{+\infty}\mathrm{d}r\cdot \left[e^{-ikr\cos\theta}r\frac{1}{-ikr}\right]_{\cos\theta = 1}^{\cos\theta =-1} = 2\pi\int_0^{+\infty}\mathrm{d}r\cdot \left[(e^{ikr}-e^{-ikr})\frac{1}{ik}\right] \\
=\frac{2\pi}{ik}\left[\frac{e^{ikr}}{ik}-\frac{e^{-ikr}}{-ik}\right] _0^{+\infty}
$$&lt;/p&gt;
&lt;p&gt;但 $e^{-ikr}$ 与 $e^{-ikr}$ 在 $+\infty$ 处发散。&lt;/p&gt;
&lt;h2&gt;使其收敛&lt;/h2&gt;
&lt;p&gt;为了解决发散问题，可在一开始令
$$
V(\vec{r}) = \frac{1}{r} = \lim_{\mu\rightarrow 0} \frac{e^{-\mu r}}{r}
$$
所以
$$
V{(\vec{k})}  = \lim_{\mu\rightarrow 0} 2\pi\int_0^{+\infty}\mathrm{d}r\cdot \left[(e^{(ik-\mu)r}-e^{(-ik-\mu)r})\frac{1}{ik}\right] \\
= \lim_{\mu\rightarrow 0}\frac{2\pi}{ik}\left[\frac{e^{(ik-\mu)r}}{ik-\mu r}-\frac{e^{(-ik-\mu)r}}{-ik-\mu r}\right] _0^{+\infty} \\
$$&lt;/p&gt;
&lt;p&gt;$$
= \lim_{\mu\rightarrow 0}\frac{2\pi}{ik}\left[\frac{-1}{ik-\mu }-\frac{-1}{-ik-\mu }\right] \\
=\lim_{\mu\rightarrow 0}\frac{2\pi}{ik}\frac{2ik}{k^2 + \mu ^2} =\lim_{\mu\rightarrow 0}\frac{4\pi}{k^2 + \mu ^2} \\
=\frac{4\pi}{k^2}
$$&lt;/p&gt;
&lt;h3&gt;注&lt;/h3&gt;
&lt;p&gt;函数满足一致收敛，积分与极限才可交换顺序。&lt;/p&gt;
&lt;h2&gt;类似的变换&lt;/h2&gt;
&lt;p&gt;用同样的方法, 可以得到
$$
\lim_{\eta \to 0^+}\int \mathrm{d}^3\vec{r} . e^{\mathrm{i}\vec{k}\cdot\vec{r}} r e^{-r\eta}
 = \frac{8 \pi}{k^4}
$$
$$
\lim_{\eta \to 0^+}\int \mathrm{d}^3\vec{r} . e^{\mathrm{i}\vec{k}\cdot\vec{r}} e^{-r\eta}
 = 0
$$&lt;/p&gt;
&lt;p&gt;用 Mathematica 可以验证.&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;关于使其收敛的说明, 分别从物理的角度, 数学的角度阐述这样做的合理性和必要性: https://physics.stackexchange.com/questions/7462/fourier-transform-of-the-coulomb-potential&lt;/li&gt;
&lt;/ul&gt;</content><category term="未分类"></category><category term="[数学"></category><category term="物理"></category><category term="库仑势"></category><category term="Fourier]"></category></entry><entry><title>Lagrange乘子法求带有约束的极植</title><link href="https://zqw.ink/2018-09-22-physics-lagrangecheng-zi-fa-qiu-dai-you-yue-shu-de-ji-zhi.html" rel="alternate"></link><published>2018-09-22T00:00:00+08:00</published><updated>2018-09-22T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2018-09-22:/2018-09-22-physics-lagrangecheng-zi-fa-qiu-dai-you-yue-shu-de-ji-zhi.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h2&gt;问题&lt;/h2&gt;
&lt;p&gt;圆柱体积恒定，求表面积最大值。&lt;/p&gt;
&lt;p&gt;也就是说，在 $V = \pi r^2h$ 的约束下，求函数 $A = 2\pi r^2 + 2\pi rh$ 的最小值。&lt;/p&gt;
&lt;h2&gt;求解&lt;/h2&gt;
&lt;p&gt;约束 $V = \pi r …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h2&gt;问题&lt;/h2&gt;
&lt;p&gt;圆柱体积恒定，求表面积最大值。&lt;/p&gt;
&lt;p&gt;也就是说，在 $V = \pi r^2h$ 的约束下，求函数 $A = 2\pi r^2 + 2\pi rh$ 的最小值。&lt;/p&gt;
&lt;h2&gt;求解&lt;/h2&gt;
&lt;p&gt;约束 $V = \pi r^2h$ 在变量 $r-h$ 构成的直角坐标下，是一条线。&lt;/p&gt;
&lt;p&gt;所求的量  $A = 2\pi r^2 + 2\pi rh$ 在$r-h$ 构成的平面内，当 $A$ 取不同的值时，对应不同的线，所以它就对应一簇线，每一条线上的所有的点都对应 $A$ 取相同的值。&lt;/p&gt;
&lt;p&gt;线 $V = \pi r^2h$ 与很多条 $A = 2\pi r^2 + 2\pi rh$ 相交&lt;/p&gt;
&lt;p&gt;要做的就是在 $V = \pi r^2h$ 这条线上找一个点，这个点是和某一条 $A = 2\pi r^2 + 2\pi rh$ 的交点，而且再也找不到另一个点与另一条更大的  $A = 2\pi r^2 + 2\pi rh$ 相交。&lt;/p&gt;
&lt;p&gt;所以这时两条线应该相切，也就是它们的垂线是平行的，也就是
$$
\frac{\partial}{\partial r}（2\pi r^2 +2\pi r h） =\lambda \frac{\partial}{\partial r}（ \pi r^2h）
$$&lt;/p&gt;
&lt;p&gt;$$
\frac{\partial}{\partial h}（2\pi r^2 +2\pi r h） =\lambda \frac{\partial}{\partial h}（ \pi r^2h）
$$&lt;/p&gt;
&lt;p&gt;可得
$$
\lambda = 2r 
$$&lt;/p&gt;
&lt;p&gt;$$
h =2r
$$&lt;/p&gt;
&lt;h1&gt;一般形式&lt;/h1&gt;
&lt;p&gt;求二维函数 $f(x,y)=0$ 在约束 $g(x,y)=0$ 下的极值. 那么, $f(x,y)$ 的等高线与约束相切的点就是极值. 如图&lt;/p&gt;
&lt;p&gt;&lt;img alt="fig" src="./2018-09-22-physics-Lagrange乘子法求带有约束的极植/fig.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="./2018-09-22-physics-Lagrange乘子法求带有约束的极植/fig.py"&gt;picture code&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;高维可以做类似的推广.&lt;/p&gt;
&lt;h2&gt;后续补充&lt;/h2&gt;
&lt;p&gt;画图&lt;/p&gt;
&lt;p&gt;例题&lt;/p&gt;
&lt;p&gt;一般形式&lt;/p&gt;</content><category term="未分类"></category><category term="[数学"></category><category term="极值]"></category></entry><entry><title>Goldstein的理论力学书</title><link href="https://zqw.ink/2018-09-21-thinking-goldsteinde-li-lun-li-xue-shu.html" rel="alternate"></link><published>2018-09-21T00:00:00+08:00</published><updated>2018-09-21T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2018-09-21:/2018-09-21-thinking-goldsteinde-li-lun-li-xue-shu.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;Gloldstein生于1922年，在28岁的时候写了Classical Mechanics。在58岁的时候出了第二版。在70岁的时候出了第三版，这时曾经在1953年和1960年用他的书学理论力学的两个学生参与了第三版的编写。在他82岁时去逝。他去逝的同年，大陆影印了他的书出版。又时隔16年，在今年的8月份这本书第六次重印，到了我的手里。&lt;/p&gt;
&lt;p&gt;一生 …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;p&gt;Gloldstein生于1922年，在28岁的时候写了Classical Mechanics。在58岁的时候出了第二版。在70岁的时候出了第三版，这时曾经在1953年和1960年用他的书学理论力学的两个学生参与了第三版的编写。在他82岁时去逝。他去逝的同年，大陆影印了他的书出版。又时隔16年，在今年的8月份这本书第六次重印，到了我的手里。&lt;/p&gt;
&lt;p&gt;一生都在完善这本书！&lt;/p&gt;</content><category term="未分类"></category><category term="[物理"></category><category term="理论力学"></category><category term="人物]"></category></entry><entry><title>线性响应理论笔记</title><link href="https://zqw.ink/2018-09-20-physics-xian-xing-xiang-ying-li-lun-bi-ji.html" rel="alternate"></link><published>2018-09-20T00:00:00+08:00</published><updated>2018-09-20T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2018-09-20:/2018-09-20-physics-xian-xing-xiang-ying-li-lun-bi-ji.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h2&gt;问题&lt;/h2&gt;
&lt;p&gt;已知 $H=H_0 +V_t$，其中 $V_t = \hat{B} F_t$ ，为一外场 $F_t$ 对原有系统造成的微扰，$\hat{B}$ 是系统中与外场  $F_t$ 相耦合的力学量。求某力学量 …&lt;/p&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h2&gt;问题&lt;/h2&gt;
&lt;p&gt;已知 $H=H_0 +V_t$，其中 $V_t = \hat{B} F_t$ ，为一外场 $F_t$ 对原有系统造成的微扰，$\hat{B}$ 是系统中与外场  $F_t$ 相耦合的力学量。求某力学量 $\hat{A}$ 在 $t$ 时刻系综平均值 $\langle A \rangle_t$ 与 $0$ 时刻的系综平均值 $\langle A \rangle_0$ 系综平均值 $\langle A \rangle_t -\langle A \rangle_0 $ 差的近似结果。&lt;/p&gt;
&lt;p&gt;现取一特例，假设外场 $F_t$ 就是磁场 $\vec{B_t}$ ，那么系统中与外场 $\vec{B_t}$ 相耦合的力学量就是系统的总磁矩 $\vec{m}$ ，总磁矩 $\vec{m}$ 对应的微观量是系统中单个电子的自旋 $\vec{S_i}$ ，下标 $i$ 代表第 $i$ 个电子。其关系为：
$$
\vec{m} = \sum_i \vec{m_i} = \frac{g_J \mu_B}{\hbar} \sum_i \vec{S_i}
$$
假设测量量为磁化强度 $\vec{M} = \vec{m}/V$&lt;/p&gt;
&lt;p&gt;所以对应关系为：
$$
\hat{B} \longleftrightarrow \vec{m}
$$&lt;/p&gt;
&lt;p&gt;$$
F_t \longleftrightarrow \vec{B}
$$&lt;/p&gt;
&lt;p&gt;$$
\hat{A} \longleftrightarrow \vec{M}
$$&lt;/p&gt;
&lt;h2&gt;初步路线&lt;/h2&gt;
&lt;p&gt;写出详细表达式进行具体计算：
$$
\langle \vec{M} \rangle_t -\langle\vec{ M} \rangle_0  = \mathrm{Tr} [(\rho_t - \rho_0)\hat{M}] = \frac{1}{V}\cdot \frac{g_J \mu_B}{\hbar}\sum_i \mathrm{Tr} [(\rho_t - \rho_0)\vec{S_i}]
$$
接下来求 $\rho_t - \rho_0$ 。&lt;/p&gt;
&lt;h3&gt;求 $t$ 时刻密度矩阵的近似值&lt;/h3&gt;
&lt;p&gt;Dirac表象中密度矩阵的运动方程：
$$
\dot{\rho_t^D} = \frac{1}{i\hbar} [V_t^D, \rho_t^D]
$$
假设初值条件为：
$$
\lim_{t\rightarrow -\infty}\rho_t^D(t) =\lim_{t\rightarrow -\infty}\rho_t = \rho_0 = \frac{e^{-\beta H_0}}{\mathrm{Tr}(e^{-\beta H_0})}
$$
Dirac表象选取 $t_0=0$ 为时间基点，也就是 $U(t,t_0)=e^{\frac{1}{i\hbar}(t-t_0)H_0}=e^{\frac{1}{i\hbar}H_0 t} = U(t)$&lt;/p&gt;
&lt;p&gt;所以 $t$ 时刻密度矩阵可迭代求解：
$$
\rho_t^D = \rho_0 +\frac{1}{i\hbar} \int_{-\infty}^t \mathrm{d}t' [V_{t'}^D, \rho_{t'}^D] =\rho_0 +\frac{1}{i\hbar} \int_{-\infty}^t \mathrm{d}t' [V_{t'}^D, \rho_0] +\cdots
$$
做近似，只取线性项得： 
$$
\rho_t^D \approx \rho_0 +\frac{1}{i\hbar} \int_{-\infty}^t \mathrm{d}t' [V_{t'}^D, \rho_0]
$$
换到薛定谔表象：
$$
\rho_t \approx \rho_0 +\frac{1}{i\hbar} \int_{-\infty}^t \mathrm{d}t'  U(t)[V_{t'}^D, \rho_0]U^{\dagger}(t)
$$&lt;/p&gt;
&lt;h2&gt;求解结果&lt;/h2&gt;
&lt;p&gt;将 $t$ 时刻密度矩阵的近似结果 
$$
\rho_t - \rho_0 \approx \frac{1}{i\hbar} \int_{-\infty}^t \mathrm{d}t'  U(t)[V_{t'}^D, \rho_0]U^{\dagger}(t)
$$
代入到详细表达式进行具体计算：
$$
\mathrm{Tr} [(\rho_t - \rho_0)\vec{S_i}] =   \frac{1}{i\hbar} \int_{-\infty}^t \mathrm{d}t'  \mathrm{Tr}  \left( U(t)[V_{t'}^D, \rho_0]U^{\dagger}(t) \vec{S_i}\right)
$$
而
$$
V_{t'} = -\vec{m}\cdot \vec{B_{t'}} = -\sum_{\alpha = x,y,z} m^{\alpha} B_{t'}^{\alpha} = -\sum_{\alpha = x,y,z} \sum_i \frac{g_J\mu_B}{\hbar} S_i^{\alpha} B_{t'}^{\alpha}
$$
所以
$$
\mathrm{Tr}  \left( U(t)[V_{t'}^D, \rho_0]U^{\dagger}(t) \vec{S_i}\right) =  \mathrm{Tr}  \left( [V_{t'}^D, \rho_0] \vec{S_i}(t)\right) = -\sum_{\alpha = x,y,z} \sum_i \frac{g_J\mu_B}{\hbar} \mathrm{Tr}\left( [S_i^{\alpha}(t'),\rho_0] \vec{S_i}(t) \right)B_{t'}^{\alpha}
$$
而
$$
\mathrm{Tr}\left( [S_i^{\alpha}(t'),\rho_0] \vec{S_i}(t) \right) = \mathrm{Tr}\left( \rho_0 [\vec{S_i}(t),S_i^{\alpha}(t')] \right) = \langle  [\vec{S_i}(t),S_i^{\alpha}(t')]\rangle_0
$$
所以
$$
\mathrm{Tr} [(\rho_t - \rho_0)\vec{S_i}] =   -\sum_{\alpha = x,y,z} \sum_i \frac{g_J\mu_B}{\hbar}  \frac{1}{i\hbar} \int_{-\infty}^t \mathrm{d}t' B_{t'}^{\alpha} \langle  [\vec{S_i}(t),S_i^{\alpha}(t')]\rangle_0
$$&lt;/p&gt;
&lt;p&gt;$$
\langle M \rangle_t -\langle M \rangle_0  = \mathrm{Tr} [(\rho_t - \rho_0)\hat{M}] = -\frac{1}{V}\cdot \frac{g_J \mu_B}{\hbar}\sum_{\alpha = x,y,z} \sum_i \frac{g_J\mu_B}{\hbar} \sum_i  \frac{1}{i\hbar} \int_{-\infty}^t \mathrm{d}t'  B_{t'}^{\alpha}\langle  [\vec{S_i}(t),S_i^{\alpha}(t')]\rangle_0
$$&lt;/p&gt;
&lt;h2&gt;注&lt;/h2&gt;
&lt;p&gt;Wolfgang Nolting, Fundamentals of Many-body Physics, 3.1节笔记&lt;/p&gt;
&lt;h4&gt;易混淆的量&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;magnetetic susceptibility 磁化率： $\chi$&lt;/li&gt;
&lt;li&gt;magnetic moment 总磁矩：$\vec{m}$ &lt;/li&gt;
&lt;li&gt;magnetisation 磁化强度：$\vec{M}$ &lt;/li&gt;
&lt;/ul&gt;</content><category term="未分类"></category><category term="[物理"></category><category term="线性响应理论]"></category></entry><entry><title>待解决问题</title><link href="https://zqw.ink/2018-09-18-physics-dai-jie-jue-wen-ti.html" rel="alternate"></link><published>2018-09-18T00:00:00+08:00</published><updated>2018-09-18T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2018-09-18:/2018-09-18-physics-dai-jie-jue-wen-ti.html</id><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h3&gt;jacobi行列式系数&lt;/h3&gt;
&lt;p&gt;&lt;img alt="1537277263813" src="/images/1537277263813.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="1537277344566" src="/images/1537277344566.png"&gt;&lt;/p&gt;
&lt;p&gt;坐标变换中出现的系数(the art of mean field theory). 以及多体书117页(3.60)的导出.&lt;/p&gt;</content><category term="未分类"></category></entry><entry><title>Emacs使用笔记</title><link href="https://zqw.ink/2018-09-07-coding-emacs_note.html" rel="alternate"></link><published>2018-09-07T00:00:00+08:00</published><updated>2018-09-07T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2018-09-07:/2018-09-07-coding-emacs_note.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h3&gt;修改配色&lt;/h3&gt;
&lt;p&gt;打开Emacs的配置文件。配置文件在~/.emacs。增加：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(set-background-color "black") ;; 使用黑色背景
(set-foreground-color "white") ;; 使用白色前景
(set-face-foreground 'region "green")  ;; 区域前景颜色设为绿色
(set-face-background 'region "blue") ;; 区域背 …&lt;/p&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h3&gt;修改配色&lt;/h3&gt;
&lt;p&gt;打开Emacs的配置文件。配置文件在~/.emacs。增加：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(set-background-color "black") ;; 使用黑色背景
(set-foreground-color "white") ;; 使用白色前景
(set-face-foreground 'region "green")  ;; 区域前景颜色设为绿色
(set-face-background 'region "blue") ;; 区域背景色设为蓝色&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;尽管可以重启Emacs使配置生效，但更快捷的方式是在打开~/.emacs的时候执行命令M-x eval-buffer，就可以使配置文件立即生效。&lt;/p&gt;
&lt;h3&gt;快捷键&lt;/h3&gt;
&lt;p&gt;中文帮助：&lt;code&gt;C-h t&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;撤消：&lt;code&gt;C-x u&lt;/code&gt; &lt;code&gt;C-/&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;启动自动折行模式：&lt;code&gt;M-x auto-fill-mode &amp;lt;Return&amp;gt;&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;相关命令搜索（Command Apropos）：&lt;code&gt;C-h a&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;Emacs 使用手册（manual）：&lt;code&gt;C-h r&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;自动补全：&lt;code&gt;M-/&lt;/code&gt;     &lt;/p&gt;
&lt;p&gt;在另一个窗口打开缓冲：&lt;code&gt;C-x 4 b&lt;/code&gt;     &lt;/p&gt;
&lt;p&gt;复制：&lt;code&gt;M-w&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;把当前进程放到后台（之后可用''fg''命令回到前台）： &lt;code&gt;Ctrl Z&lt;/code&gt;   &lt;/p&gt;
&lt;p&gt;清屏：&lt;code&gt;ctrl L&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;打开&lt;/h3&gt;
&lt;p&gt;终端模式：&lt;code&gt;emacs -nw&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;配置备份&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;;;用xetex编译,以支持中文&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;setq-default&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;TeX-engine&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;xetex&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;;;默认输出pdf&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;setq-default&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;TeX-PDF-mode&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;;;ELPA (Emacs Lisp Package Archive)扩展插件管理,用命令`package-list-packages`调用.&lt;/span&gt;
&lt;span class="c1"&gt;;;主题网站https://emacsthemes.com/ &lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;package&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-to-list&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;package-archives&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;
&lt;span class="w"&gt;             &lt;/span&gt;&lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;melpa&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://melpa.org/packages/&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;package-initialize&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;;;加载主题&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;load-theme&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;light-blue&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;;;auctex插件&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;load&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;auctex.el&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;nil&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;load&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;preview-latex.el&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;nil&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;TeX-auto-save&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;TeX-parse-self&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;setq-default&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;TeX-master&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;;;在 LaTeX mode 中，默认开启 PDF mode，即默认使用 xelatex 直接生成 pdf 文 件，而不用每次用 &amp;#39;C-c C-t C-p&amp;#39; 进行切换。设置 &amp;#39;Tex-show-compilation&amp;#39; 为 t，在另一个窗口显示编译信息，对于错误的排除很方便。另外，编译时默认直接 保存文件，绑定补全符号到 TAB 键。&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-hook&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;LaTeX-mode-hook&lt;/span&gt;
&lt;span class="w"&gt;          &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;TeX-auto-untabify&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="c1"&gt;; remove all tabs before saving&lt;/span&gt;
&lt;span class="w"&gt;                  &lt;/span&gt;&lt;span class="nv"&gt;TeX-engine&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;xetex&lt;/span&gt;&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="c1"&gt;; use xelatex default&lt;/span&gt;
&lt;span class="w"&gt;                  &lt;/span&gt;&lt;span class="nv"&gt;TeX-show-compilation&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;; display compilation windows&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;TeX-global-PDF-mode&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;       &lt;/span&gt;&lt;span class="c1"&gt;; PDF mode enable, not plain&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;TeX-save-query&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;imenu-add-menubar-index&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;define-key&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;LaTeX-mode-map&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;kbd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;TAB&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;TeX-complete-symbol&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;


&lt;span class="c1"&gt;;;自动换行，数学公式，reftex，显示号&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;mapc&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-hook&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;LaTeX-mode-hook&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;auto-fill-mode&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;LaTeX-math-mode&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;turn-on-reftex&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;linum-mode&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;custom-set-variables&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;;; custom-set-variables was added by Custom.&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;;; If you edit it by hand, you could mess it up, so be careful.&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;;; Your init file should contain only one such instance.&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;;; If there is more than one, they won&amp;#39;t work right.&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;package-selected-packages&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;quote&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;pyim&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;nord-theme&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;custom-set-faces&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;;; custom-set-faces was added by Custom.&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;;; If you edit it by hand, you could mess it up, so be careful.&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;;; Your init file should contain only one such instance.&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;;; If there is more than one, they won&amp;#39;t work right.&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;elpy-use-ipython&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;; python-mode&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;py-install-directory&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;~/.emacs.d/python-mode-6.0.11&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-to-list&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;load-path&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;py-install-directory&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;python-mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;; use IPython&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;setq-default&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;py-shell-name&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;ipython&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;setq-default&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;py-which-bufname&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;IPython&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;; use the wx backend, for both mayavi and matplotlib&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;py-python-command-args&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;--gui=wx&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;--pylab=wx&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;-colors&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Linux&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;py-force-py-shell-name-p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;; switch to the interpreter after executing code&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;py-shell-switch-buffers-on-execute-p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;py-switch-buffers-on-execute-p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;; don&amp;#39;t split windows&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;py-split-windows-on-execute-p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;; try to automagically figure out indentation&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;py-smart-indentation&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="no"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;TeX-view-program-list&lt;/span&gt;
&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;SumatraPDF&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;SumatraPDF.exe %o&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Gsview&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;gsview32.exe %o&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Okular&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;okular --unique %o&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Evince&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;evince %o&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Firefox&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;firefox %o&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;eq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;system-type&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;gnu/linux&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-hook&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;LaTeX-mode-hook&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="w"&gt;              &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;setq&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;TeX-view-program-selection&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;output-pdf&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Okular&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;                                                 &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;output-dvi&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Okular&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)))))))&lt;/span&gt;


&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;add-to-list&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;load-path&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/home/dx/Downloads/neotree&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;neotree&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;global-set-key&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;[f8]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;neotree-toggle&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;require&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;#39;sr-speedbar&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="未分类"></category><category term="[Emacs"></category><category term="快捷键]"></category></entry><entry><title>Typora使用笔记</title><link href="https://zqw.ink/2018-09-07-coding-typora_note.html" rel="alternate"></link><published>2018-09-07T00:00:00+08:00</published><updated>2018-09-07T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2018-09-07:/2018-09-07-coding-typora_note.html</id><summary type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h2&gt;标题&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;“#” 一级标题&lt;/li&gt;
&lt;li&gt;“##” 二级标题&lt;/li&gt;
&lt;li&gt;以此类推直至“######” 表示六级标题&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;列表&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;无序号列表：“- ”列表内容。注意"- "后有空格&lt;/li&gt;
&lt;li&gt;有序号列表：“1. ”列表内容&lt;/li&gt;
&lt;li&gt;任 …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;!-- toc --&gt;

&lt;!-- more --&gt;

&lt;h2&gt;标题&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;“#” 一级标题&lt;/li&gt;
&lt;li&gt;“##” 二级标题&lt;/li&gt;
&lt;li&gt;以此类推直至“######” 表示六级标题&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;列表&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;无序号列表：“- ”列表内容。注意"- "后有空格&lt;/li&gt;
&lt;li&gt;有序号列表：“1. ”列表内容&lt;/li&gt;
&lt;li&gt;任务列表：“- [ ]”列表内容&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;居中&lt;/h2&gt;
&lt;p&gt;"\&amp;lt;center&amp;gt;"跟居中的内容&lt;/p&gt;
&lt;h2&gt;引用与代码&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;引用文字：“&amp;gt; ”引用内容&lt;/li&gt;
&lt;li&gt;引用网址："\&amp;lt;"网址"&amp;gt;"&lt;/li&gt;
&lt;li&gt;单行代码："`"代码内容"`"&lt;/li&gt;
&lt;li&gt;多行代码："```"代码内容"```"&lt;/li&gt;
&lt;li&gt;注释：“[^注释内容]”&lt;/li&gt;
&lt;li&gt;&lt;a href="./2018-09-07-coding-emacs_note.md"&gt;引用博客&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;字体设置&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;斜体："*"斜体内容"*"&lt;/li&gt;
&lt;li&gt;加粗："**"加粗内容"**"&lt;/li&gt;
&lt;li&gt;下划线："\&amp;lt;u&amp;gt;"下划线内容“\&amp;lt;/u&amp;gt;”&lt;/li&gt;
&lt;li&gt;删除线："\~\~"删除内容"\~\~"&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;分割线&lt;/h2&gt;
&lt;p&gt;"---"&lt;/p&gt;
&lt;h2&gt;转义&lt;/h2&gt;
&lt;p&gt;\ 转义符号&lt;/p&gt;
&lt;h2&gt;插入&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;图片：直接拖入&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;表格：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;|表   |格 |&lt;/p&gt;
&lt;p&gt;|内   |容 |&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;行内公式："\$"公式内容"\$"&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;单独成行的公式："\$\$"公式内容"\$\$"&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;表情：":"表情内容":"。表情内容见附录&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;目录："[toc]"&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;附录：表情列表&lt;/h2&gt;
&lt;h3&gt;Symbols&lt;/h3&gt;
&lt;p&gt;2️⃣ 3️⃣ 4️⃣ 5️⃣ 6️⃣ 7️⃣ 8️⃣ 9️⃣ 🔟 🔢 0️⃣ #️⃣ 🔣 ◀️ ⬇️ ▶️ ⬅️ 🔠 🔡 🔤 ↙️ ↘️ ➡️ ⬆️ ↖️ ↗️ ⏬ ⏫ 🔽 ⤵️ ⤴️ ↩️ ↪️ ↔️ ↕️ 🔼 🔃 🔄 ⏪ ⏩ ℹ️ 🆗 🔀 🔁 🔂 🆕 🔝 🆙 🆒 🆓 🆖 🎦 🈁 📶 :u5272: :u5408: :u55b6: :u6307: :u6708: :u6709: 🈵 :u7121: :u7533: :u7a7a: :u7981: 🈂️ 🚻 🚹 🚺 🚼 🚭 🅿️ ♿️ 🚇 🛄 🉑 🚾 🚰 🚮 ㊙️ ㊗️ Ⓜ️ 🛂 🛅 🛃 🉐 🆑 🆘 🆔 🚫 🔞 📵 🚯 🚱 🚳 🚷 🚸 ⛔️ ✳️ ❇️ ✴️ 💟 🆚 📳 📴 💹 💱 ♈️ ♉️ ♊️ ♋️ ♌️ ♍️ ♎️ ♏️ ♐️ ♑️ ♒️ ♓️ ⛎ 🔯 ❎ 🅰️ 🅱️ 🆎 🅾️ 💠 ♻️ 🔚 🔙 🔛 🔜 🕐 🕜 🕙 🕥 🕚 🕦 🕛 🕧 🕑 🕝 🕒 🕞 🕓 🕟 🕔 🕠 🕕 🕡 🕖 🕢 🕗 🕣 🕘 🕤 💲 ©️ ®️ ™️ ❌ ❗️ ‼️ ⁉️ ⭕️ ✖️ ➕ ➖ ➗ 💮 💯 ✔️ ☑️ 🔘 🔗 ➰ 〰️ 〽️ 🔱 ▪️ ▫️ ◾️ ◽️ ◼️ ◻️ ⬛️ ⬜️ ✅ 🔲 🔳 ⚫️ ⚪️ 🔴 🔵 🔷 🔶 🔹 🔸 🔺 🔻 :shipit:&lt;/p&gt;
&lt;h3&gt;Places&lt;/h3&gt;
&lt;p&gt;🏠 🏡 🏫 🏢 🏣 🏥 🏦 🏪 🏩 🏨 💒 ⛪️ 🏬 🏤 🌇 🌆 🏯 🏰 ⛺️ 🏭 🗼 🗾 🗻 🌄 🌅 🌠 🗽 🌉 🎠 🌈 🎡 ⛲️ 🎢 🚢 🚤 ⛵️ ⛵️ 🚣 ⚓️ 🚀 ✈️ 🚁 🚂 🚊 🚞 🚲 🚡 🚟 🚠 🚜 🚙 🚘 🚗 🚗 🚕 🚖 🚛 🚌 🚍 🚨 🚓 🚔 🚒 🚑 🚐 🚚 🚋 🚉 🚆 🚅 🚄 🚈 🚝 🚃 🚎 🎫 ⛽️ 🚦 🚥 ⚠️ 🚧 🔰 🏧 🎰 🚏 💈 ♨️ 🏁 🎌 🏮 🗿 🎪 🎭 📍 🚩 🇯🇵 🇰🇷 🇨🇳 🇺🇸 🇫🇷 🇪🇸 🇮🇹 🇷🇺 🇬🇧 🇬🇧 🇩🇪&lt;/p&gt;
&lt;h3&gt;People&lt;/h3&gt;
&lt;p&gt;:bowtie: 😄 :simple_smile: 😆 😊 😃 ☺️ 😏 😍 😘 😚 😳 😌 😆 😁 😉 😜 😝 😀 😗 😙 😛 😴 😟 😦 😧 😮 😬 😕 😯 😑 😒 😅 😓 😥 😩 😔 😞 😖 😨 😰 😣 😢 😭 😂 😲 😱 :neckbeard: 😫 😠 😡 😤 😪 😋 😷 😎 😵 👿 😈 😐 😶 😇 👽 💛 💙 💜 ❤️ 💚 💔 💓 💗 💕 💞 💘 💖 ✨ ⭐️ 🌟 💫 💥 💥 💢 ❗️ ❓ ❕ ❔ 💤 💨 💦 🎶 🎵 🔥 💩 💩 💩 👍 👍 👎 👎 👌 👊 👊 ✊ ✌️ 👋 ✋ ✋ 👐 ☝️ 👇 👈 👉 🙌 🙏 👆 👏 💪 🤘 🖕 🏃 🏃 👫 👪 👬 👭 💃 👯 🙆 🙅 💁 🙋 👰 🙎 🙍 🙇 :couplekiss: 💑 💆 💇 💅 👦 👧 👩 👨 👶 👵 👴 👱 👲 👳 👷 👮 👼 👸 😺 😸 😻 😽 😼 🙀 😿 😹 😾 👹 👺 🙈 🙉 🙊 💂 💀 🐾 👄 💋 💧 👂 👀 👃 👅 💌 👤 👥 💬 💭 :feelsgood: :finnadie: :goberserk: :godmode: :hurtrealbad: :rage1: :rage2: :rage3: :rage4: :suspect: :trollface:&lt;/p&gt;
&lt;h3&gt;Nature&lt;/h3&gt;
&lt;p&gt;☀️ ☔️ ☁️ ❄️ ⛄️ ⚡️ 🌀 🌁 🌊 🐱 🐶 🐭 🐹 🐰 🐺 🐸 🐯 🐨 🐻 🐷 🐽 🐮 🐗 🐵 🐒 🐴 🐎 🐫 🐑 🐘 🐼 🐍 🐦 🐤 🐥 🐣 🐔 🐧 🐢 🐛 🐝 🐜 🐞 🐌 🐙 🐠 🐟 🐳 🐋 🐬 🐄 🐏 🐀 🐃 🐅 🐇 🐉 🐐 🐓 🐕 🐖 🐁 🐂 🐲 🐡 🐊 🐪 🐆 🐈 🐩 🐾 💐 🌸 🌷 🍀 🌹 🌻 🌺 🍁 🍃 🍂 🌿 🍄 🌵 🌴 🌲 🌳 🌰 🌱 🌼 🌾 🐚 🌐 🌞 🌝 🌚 🌑 🌒 🌓 🌔 🌕 🌖 🌗 🌘 🌜 🌛 🌙 🌍 🌎 🌏 🌋 🌌 ⛅️ :octocat: :squirrel: Objects 🎍 💝 🎎 🎒 🎓 🎏 🎆 🎇 🎐 🎑 🎃 👻 🎅 🎄 🎁 🔔 🔕 🎋 🎉 🎊 🎈 🔮 💿 📀 💾 📷 📹 🎥 💻 📺 📱 ☎️ ☎️ 📞 📟 📠 💽 📼 🔉 🔈 🔇 📢 📣 ⌛️ ⏳ ⏰ ⌚️ 📻 📡 ➿ 🔍 🔎 🔓 🔒 🔏 🔐 🔑 💡 🔦 🔆 🔅 🔌 🔋 📲 ✉️ 📫 📮 🛀 🛁 🚿 🚽 🔧 🔩 🔨 💺 💰 💴 💵 💷 💶 💳 💸 📧 📥 📤 ✉️ 📨 📯 📪 📬 📭 📦 🚪 🚬 💣 🔫 🔪 💊 💉 📄 📃 📑 📊 📈 📉 📜 📋 📆 📅 📇 📁 📂 ✂️ 📌 📎 ✒️ ✏️ 📏 📐 📕 📗 📘 📙 📓 📔 📒 📚 🔖 📛 🔬 🔭 📰 🏈 🏀 ⚽️ ⚾️ 🎾 🎱 🏉 🎳 ⛳️ 🚵 🚴 🏇 🏂 🏊 🏄 🎿 ♠️ ♥️ ♣️ ♦️ 💎 💍 🏆 🎼 🎹 🎻 👾 🎮 🃏 🎴 🎲 🎯 🀄️ 🎬 📝 📝 📖 🎨 🎤 🎧 🎺 🎷 🎸 👞 👡 👠 💄 👢 👕 👕 👔 👚 👗 🎽 👖 👘 👙 🎀 🎩 👑 👒 👞 🌂 💼 👜 👝 👛 👓 🎣 ☕️ 🍵 🍶 🍼 🍺 🍻 🍸 🍹 🍷 🍴 🍕 🍔 🍟 🍗 🍖 🍝 🍛 🍤 🍱 🍣 🍥 🍙 🍘 🍚 🍜 🍲 🍢 🍡 🥚 🍞 🍩 🍮 🍦 🍨 🍧 🎂 🍰 🍪 🍫 🍬 🍭 🍯 🍎 🍏 🍊 🍋 🍒 🍇 🍉 🍓 🍑 🍈 🍌 🍐 🍍 🍠 🍆 🍅 🌽&lt;/p&gt;</content><category term="未分类"></category><category term="Typora"></category></entry><entry><title>特殊二阶矩阵的本征值求解</title><link href="https://zqw.ink/2018-09-07-physics-te-shu-er-jie-ju-zhen-de-ben-zheng-zhi-qiu-jie.html" rel="alternate"></link><published>2018-09-07T00:00:00+08:00</published><updated>2018-09-07T00:00:00+08:00</updated><author><name>ZQW</name></author><id>tag:zqw.ink,2018-09-07:/2018-09-07-physics-te-shu-er-jie-ju-zhen-de-ben-zheng-zhi-qiu-jie.html</id><summary type="html">&lt;ul&gt;
&lt;li&gt;数学&lt;/li&gt;
&lt;li&gt;矩阵&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;对角矩阵元相等&lt;/h2&gt;
&lt;p&gt;形如
$$
H = \left( \begin{array}{cc}
        a   &amp;amp;   b\\
        b   &amp;amp;   c
        \end{array}\right)
$$
与以下自旋问题类比：&lt;/p&gt;
&lt;p&gt;在 $x-z$ 平面内任意方向加磁场 $\vec{a} = (a_1, 0 …&lt;/p&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;数学&lt;/li&gt;
&lt;li&gt;矩阵&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;对角矩阵元相等&lt;/h2&gt;
&lt;p&gt;形如
$$
H = \left( \begin{array}{cc}
        a   &amp;amp;   b\\
        b   &amp;amp;   c
        \end{array}\right)
$$
与以下自旋问题类比：&lt;/p&gt;
&lt;p&gt;在 $x-z$ 平面内任意方向加磁场 $\vec{a} = (a_1, 0, a_3)$ 求解能量本征值，Hamiltonian写为
$$
H = a_0 + \vec{\sigma}\cdot\vec{a} = \left(\begin{array}{cc}
                                a_0+a_3 &amp;amp;   a_1\\
                                a_1     &amp;amp;   a_0-a_3
                            \end{array}\right)
$$
沿 $y$ 轴转动坐标系，将 $z$ 轴转到磁场的方向，由物理意义直接解得能量本征值为
$$
E = a_0 \pm \sqrt{a_1^2 +a_3^2}
$$&lt;/p&gt;
&lt;p&gt;所以原问题的本征值可直接写出为
$$
\lambda = \frac{a+c}{2} \pm \sqrt{b^2 +\frac{(a - c)^2}{4}}
$$&lt;/p&gt;</content><category term="未分类"></category></entry></feed>